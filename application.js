/*!
 * jQuery JavaScript Library v1.8.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: Tue Nov 13 2012 08:20:33 GMT-0500 (Eastern Standard Time)
 */
(function(window,undefined){var rootjQuery,readyList,document=window.document,location=window.location,navigator=window.navigator,_jQuery=window.jQuery,_$=window.$,core_push=Array.prototype.push,core_slice=Array.prototype.slice,core_indexOf=Array.prototype.indexOf,core_toString=Object.prototype.toString,core_hasOwn=Object.prototype.hasOwnProperty,core_trim=String.prototype.trim,jQuery=function(selector,context){return new jQuery.fn.init(selector,context,rootjQuery)},core_pnum=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,core_rnotwhite=/\S/,core_rspace=/\s+/,rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rquickExpr=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,rvalidchars=/^[\],:{}\s]*$/,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g,rvalidescape=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,rvalidtokens=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return(letter+"").toUpperCase()},DOMContentLoaded=function(){if(document.addEventListener){document.removeEventListener("DOMContentLoaded",DOMContentLoaded,false);jQuery.ready()}else{if(document.readyState==="complete"){document.detachEvent("onreadystatechange",DOMContentLoaded);jQuery.ready()}}},class2type={};jQuery.fn=jQuery.prototype={constructor:jQuery,init:function(selector,context,rootjQuery){var match,elem,ret,doc;if(!selector){return this}if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this}if(typeof selector==="string"){if(selector.charAt(0)==="<"&&selector.charAt(selector.length-1)===">"&&selector.length>=3){match=[null,selector,null]}else{match=rquickExpr.exec(selector)}if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;doc=(context&&context.nodeType?context.ownerDocument||context:document);selector=jQuery.parseHTML(match[1],doc,true);if(rsingleTag.test(match[1])&&jQuery.isPlainObject(context)){this.attr.call(selector,context,true)}return jQuery.merge(this,selector)}else{elem=document.getElementById(match[2]);if(elem&&elem.parentNode){if(elem.id!==match[2]){return rootjQuery.find(selector)}this.length=1;this[0]=elem}this.context=document;this.selector=selector;return this}}else{if(!context||context.jquery){return(context||rootjQuery).find(selector)}else{return this.constructor(context).find(selector)}}}else{if(jQuery.isFunction(selector)){return rootjQuery.ready(selector)}}if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context}return jQuery.makeArray(selector,this)},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return core_slice.call(this)},get:function(num){return num==null?this.toArray():(num<0?this[this.length+num]:this[num])},pushStack:function(elems,name,selector){var ret=jQuery.merge(this.constructor(),elems);ret.prevObject=this;ret.context=this.context;if(name==="find"){ret.selector=this.selector+(this.selector?" ":"")+selector}else{if(name){ret.selector=this.selector+"."+name+"("+selector+")"}}return ret},each:function(callback,args){return jQuery.each(this,callback,args)},ready:function(fn){jQuery.ready.promise().done(fn);return this},eq:function(i){i=+i;return i===-1?this.slice(i):this.slice(i,i+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(core_slice.apply(this,arguments),"slice",core_slice.call(arguments).join(","))},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},end:function(){return this.prevObject||this.constructor(null)},push:core_push,sort:[].sort,splice:[].splice};jQuery.fn.init.prototype=jQuery.fn;jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[1]||{};i=2}if(typeof target!=="object"&&!jQuery.isFunction(target)){target={}}if(length===i){target=this;--i}for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue}if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&jQuery.isArray(src)?src:[]}else{clone=src&&jQuery.isPlainObject(src)?src:{}}target[name]=jQuery.extend(deep,clone,copy)}else{if(copy!==undefined){target[name]=copy}}}}}return target};jQuery.extend({noConflict:function(deep){if(window.$===jQuery){window.$=_$}if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery}return jQuery},isReady:false,readyWait:1,holdReady:function(hold){if(hold){jQuery.readyWait++}else{jQuery.ready(true)}},ready:function(wait){if(wait===true?--jQuery.readyWait:jQuery.isReady){return}if(!document.body){return setTimeout(jQuery.ready,1)}jQuery.isReady=true;if(wait!==true&&--jQuery.readyWait>0){return}readyList.resolveWith(document,[jQuery]);if(jQuery.fn.trigger){jQuery(document).trigger("ready").off("ready")}},isFunction:function(obj){return jQuery.type(obj)==="function"},isArray:Array.isArray||function(obj){return jQuery.type(obj)==="array"},isWindow:function(obj){return obj!=null&&obj==obj.window},isNumeric:function(obj){return !isNaN(parseFloat(obj))&&isFinite(obj)},type:function(obj){return obj==null?String(obj):class2type[core_toString.call(obj)]||"object"},isPlainObject:function(obj){if(!obj||jQuery.type(obj)!=="object"||obj.nodeType||jQuery.isWindow(obj)){return false}try{if(obj.constructor&&!core_hasOwn.call(obj,"constructor")&&!core_hasOwn.call(obj.constructor.prototype,"isPrototypeOf")){return false}}catch(e){return false}var key;for(key in obj){}return key===undefined||core_hasOwn.call(obj,key)},isEmptyObject:function(obj){var name;for(name in obj){return false}return true},error:function(msg){throw new Error(msg)},parseHTML:function(data,context,scripts){var parsed;if(!data||typeof data!=="string"){return null}if(typeof context==="boolean"){scripts=context;context=0}context=context||document;if((parsed=rsingleTag.exec(data))){return[context.createElement(parsed[1])]}parsed=jQuery.buildFragment([data],context,scripts?null:[]);return jQuery.merge([],(parsed.cacheable?jQuery.clone(parsed.fragment):parsed.fragment).childNodes)},parseJSON:function(data){if(!data||typeof data!=="string"){return null}data=jQuery.trim(data);if(window.JSON&&window.JSON.parse){return window.JSON.parse(data)}if(rvalidchars.test(data.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,""))){return(new Function("return "+data))()}jQuery.error("Invalid JSON: "+data)},parseXML:function(data){var xml,tmp;if(!data||typeof data!=="string"){return null}try{if(window.DOMParser){tmp=new DOMParser();xml=tmp.parseFromString(data,"text/xml")}else{xml=new ActiveXObject("Microsoft.XMLDOM");xml.async="false";xml.loadXML(data)}}catch(e){xml=undefined}if(!xml||!xml.documentElement||xml.getElementsByTagName("parsererror").length){jQuery.error("Invalid XML: "+data)}return xml},noop:function(){},globalEval:function(data){if(data&&core_rnotwhite.test(data)){(window.execScript||function(data){window["eval"].call(window,data)})(data)}},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback,args){var name,i=0,length=obj.length,isObj=length===undefined||jQuery.isFunction(obj);if(args){if(isObj){for(name in obj){if(callback.apply(obj[name],args)===false){break}}}else{for(;i<length;){if(callback.apply(obj[i++],args)===false){break}}}}else{if(isObj){for(name in obj){if(callback.call(obj[name],name,obj[name])===false){break}}}else{for(;i<length;){if(callback.call(obj[i],i,obj[i++])===false){break}}}}return obj},trim:core_trim&&!core_trim.call("\uFEFF\xA0")?function(text){return text==null?"":core_trim.call(text)}:function(text){return text==null?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var type,ret=results||[];if(arr!=null){type=jQuery.type(arr);if(arr.length==null||type==="string"||type==="function"||type==="regexp"||jQuery.isWindow(arr)){core_push.call(ret,arr)}else{jQuery.merge(ret,arr)}}return ret},inArray:function(elem,arr,i){var len;if(arr){if(core_indexOf){return core_indexOf.call(arr,elem,i)}len=arr.length;i=i?i<0?Math.max(0,len+i):i:0;for(;i<len;i++){if(i in arr&&arr[i]===elem){return i}}}return -1},merge:function(first,second){var l=second.length,i=first.length,j=0;if(typeof l==="number"){for(;j<l;j++){first[i++]=second[j]}}else{while(second[j]!==undefined){first[i++]=second[j++]}}first.length=i;return first},grep:function(elems,callback,inv){var retVal,ret=[],i=0,length=elems.length;inv=!!inv;for(;i<length;i++){retVal=!!callback(elems[i],i);if(inv!==retVal){ret.push(elems[i])}}return ret},map:function(elems,callback,arg){var value,key,ret=[],i=0,length=elems.length,isArray=elems instanceof jQuery||length!==undefined&&typeof length==="number"&&((length>0&&elems[0]&&elems[length-1])||length===0||jQuery.isArray(elems));if(isArray){for(;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret[ret.length]=value}}}else{for(key in elems){value=callback(elems[key],key,arg);if(value!=null){ret[ret.length]=value}}}return ret.concat.apply([],ret)},guid:1,proxy:function(fn,context){var tmp,args,proxy;if(typeof context==="string"){tmp=fn[context];context=fn;fn=tmp}if(!jQuery.isFunction(fn)){return undefined}args=core_slice.call(arguments,2);proxy=function(){return fn.apply(context,args.concat(core_slice.call(arguments)))};proxy.guid=fn.guid=fn.guid||jQuery.guid++;return proxy},access:function(elems,fn,key,value,chainable,emptyGet,pass){var exec,bulk=key==null,i=0,length=elems.length;if(key&&typeof key==="object"){for(i in key){jQuery.access(elems,fn,i,key[i],1,emptyGet,value)}chainable=1}else{if(value!==undefined){exec=pass===undefined&&jQuery.isFunction(value);if(bulk){if(exec){exec=fn;fn=function(elem,key,value){return exec.call(jQuery(elem),value)}}else{fn.call(elems,value);fn=null}}if(fn){for(;i<length;i++){fn(elems[i],key,exec?value.call(elems[i],i,fn(elems[i],key)):value,pass)}}chainable=1}}return chainable?elems:bulk?fn.call(elems):length?fn(elems[0],key):emptyGet},now:function(){return(new Date()).getTime()}});jQuery.ready.promise=function(obj){if(!readyList){readyList=jQuery.Deferred();if(document.readyState==="complete"){setTimeout(jQuery.ready,1)}else{if(document.addEventListener){document.addEventListener("DOMContentLoaded",DOMContentLoaded,false);window.addEventListener("load",jQuery.ready,false)}else{document.attachEvent("onreadystatechange",DOMContentLoaded);window.attachEvent("onload",jQuery.ready);var top=false;try{top=window.frameElement==null&&document.documentElement}catch(e){}if(top&&top.doScroll){(function doScrollCheck(){if(!jQuery.isReady){try{top.doScroll("left")}catch(e){return setTimeout(doScrollCheck,50)}jQuery.ready()}})()}}}}return readyList.promise(obj)};jQuery.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});rootjQuery=jQuery(document);var optionsCache={};function createOptions(options){var object=optionsCache[options]={};jQuery.each(options.split(core_rspace),function(_,flag){object[flag]=true});return object}jQuery.Callbacks=function(options){options=typeof options==="string"?(optionsCache[options]||createOptions(options)):jQuery.extend({},options);var memory,fired,firing,firingStart,firingLength,firingIndex,list=[],stack=!options.once&&[],fire=function(data){memory=options.memory&&data;fired=true;firingIndex=firingStart||0;firingStart=0;firingLength=list.length;firing=true;for(;list&&firingIndex<firingLength;firingIndex++){if(list[firingIndex].apply(data[0],data[1])===false&&options.stopOnFalse){memory=false;break}}firing=false;if(list){if(stack){if(stack.length){fire(stack.shift())}}else{if(memory){list=[]}else{self.disable()}}}},self={add:function(){if(list){var start=list.length;(function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);if(type==="function"){if(!options.unique||!self.has(arg)){list.push(arg)}}else{if(arg&&arg.length&&type!=="string"){add(arg)}}})})(arguments);if(firing){firingLength=list.length}else{if(memory){firingStart=start;fire(memory)}}}return this},remove:function(){if(list){jQuery.each(arguments,function(_,arg){var index;while((index=jQuery.inArray(arg,list,index))>-1){list.splice(index,1);if(firing){if(index<=firingLength){firingLength--}if(index<=firingIndex){firingIndex--}}}})}return this},has:function(fn){return jQuery.inArray(fn,list)>-1},empty:function(){list=[];return this},disable:function(){list=stack=memory=undefined;return this},disabled:function(){return !list},lock:function(){stack=undefined;if(!memory){self.disable()}return this},locked:function(){return !stack},fireWith:function(context,args){args=args||[];args=[context,args.slice?args.slice():args];if(list&&(!fired||stack)){if(firing){stack.push(args)}else{fire(args)}}return this},fire:function(){self.fireWith(this,arguments);return this},fired:function(){return !!fired}};return self};jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){deferred.done(arguments).fail(arguments);return this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var action=tuple[0],fn=fns[i];deferred[tuple[1]](jQuery.isFunction(fn)?function(){var returned=fn.apply(this,arguments);if(returned&&jQuery.isFunction(returned.promise)){returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify)}else{newDefer[action+"With"](this===deferred?newDefer:this,[returned])}}:newDefer[action])});fns=null}).promise()},promise:function(obj){return obj!=null?jQuery.extend(obj,promise):promise}},deferred={};promise.pipe=promise.then;jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add;if(stateString){list.add(function(){state=stateString},tuples[i^1][2].disable,tuples[2][2].lock)}deferred[tuple[0]]=list.fire;deferred[tuple[0]+"With"]=list.fireWith});promise.promise(deferred);if(func){func.call(deferred,deferred)}return deferred},when:function(subordinate){var i=0,resolveValues=core_slice.call(arguments),length=resolveValues.length,remaining=length!==1||(subordinate&&jQuery.isFunction(subordinate.promise))?length:0,deferred=remaining===1?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this;values[i]=arguments.length>1?core_slice.call(arguments):value;if(values===progressValues){deferred.notifyWith(contexts,values)}else{if(!(--remaining)){deferred.resolveWith(contexts,values)}}}},progressValues,progressContexts,resolveContexts;if(length>1){progressValues=new Array(length);progressContexts=new Array(length);resolveContexts=new Array(length);for(;i<length;i++){if(resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)){resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues))}else{--remaining}}}if(!remaining){deferred.resolveWith(resolveContexts,resolveValues)}return deferred.promise()}});jQuery.support=(function(){var support,all,a,select,opt,input,fragment,eventName,i,isSupported,clickFn,div=document.createElement("div");div.setAttribute("className","t");div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";all=div.getElementsByTagName("*");a=div.getElementsByTagName("a")[0];if(!all||!a||!all.length){return{}}select=document.createElement("select");opt=select.appendChild(document.createElement("option"));input=div.getElementsByTagName("input")[0];a.style.cssText="top:1px;float:left;opacity:.5";support={leadingWhitespace:(div.firstChild.nodeType===3),tbody:!div.getElementsByTagName("tbody").length,htmlSerialize:!!div.getElementsByTagName("link").length,style:/top/.test(a.getAttribute("style")),hrefNormalized:(a.getAttribute("href")==="/a"),opacity:/^0.5/.test(a.style.opacity),cssFloat:!!a.style.cssFloat,checkOn:(input.value==="on"),optSelected:opt.selected,getSetAttribute:div.className!=="t",enctype:!!document.createElement("form").enctype,html5Clone:document.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",boxModel:(document.compatMode==="CSS1Compat"),submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,boxSizingReliable:true,pixelPosition:false};input.checked=true;support.noCloneChecked=input.cloneNode(true).checked;select.disabled=true;support.optDisabled=!opt.disabled;try{delete div.test}catch(e){support.deleteExpando=false}if(!div.addEventListener&&div.attachEvent&&div.fireEvent){div.attachEvent("onclick",clickFn=function(){support.noCloneEvent=false});div.cloneNode(true).fireEvent("onclick");div.detachEvent("onclick",clickFn)}input=document.createElement("input");input.value="t";input.setAttribute("type","radio");support.radioValue=input.value==="t";input.setAttribute("checked","checked");input.setAttribute("name","t");div.appendChild(input);fragment=document.createDocumentFragment();fragment.appendChild(div.lastChild);support.checkClone=fragment.cloneNode(true).cloneNode(true).lastChild.checked;support.appendChecked=input.checked;fragment.removeChild(input);fragment.appendChild(div);if(div.attachEvent){for(i in {submit:true,change:true,focusin:true}){eventName="on"+i;isSupported=(eventName in div);if(!isSupported){div.setAttribute(eventName,"return;");isSupported=(typeof div[eventName]==="function")}support[i+"Bubbles"]=isSupported}}jQuery(function(){var container,div,tds,marginDiv,divReset="padding:0;margin:0;border:0;display:block;overflow:hidden;",body=document.getElementsByTagName("body")[0];if(!body){return}container=document.createElement("div");container.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";body.insertBefore(container,body.firstChild);div=document.createElement("div");container.appendChild(div);div.innerHTML="<table><tr><td></td><td>t</td></tr></table>";tds=div.getElementsByTagName("td");tds[0].style.cssText="padding:0;margin:0;border:0;display:none";isSupported=(tds[0].offsetHeight===0);tds[0].style.display="";tds[1].style.display="none";support.reliableHiddenOffsets=isSupported&&(tds[0].offsetHeight===0);div.innerHTML="";div.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";support.boxSizing=(div.offsetWidth===4);support.doesNotIncludeMarginInBodyOffset=(body.offsetTop!==1);if(window.getComputedStyle){support.pixelPosition=(window.getComputedStyle(div,null)||{}).top!=="1%";support.boxSizingReliable=(window.getComputedStyle(div,null)||{width:"4px"}).width==="4px";marginDiv=document.createElement("div");marginDiv.style.cssText=div.style.cssText=divReset;marginDiv.style.marginRight=marginDiv.style.width="0";div.style.width="1px";div.appendChild(marginDiv);support.reliableMarginRight=!parseFloat((window.getComputedStyle(marginDiv,null)||{}).marginRight)}if(typeof div.style.zoom!=="undefined"){div.innerHTML="";div.style.cssText=divReset+"width:1px;padding:1px;display:inline;zoom:1";support.inlineBlockNeedsLayout=(div.offsetWidth===3);div.style.display="block";div.style.overflow="visible";div.innerHTML="<div></div>";div.firstChild.style.width="5px";support.shrinkWrapBlocks=(div.offsetWidth!==3);container.style.zoom=1}body.removeChild(container);container=div=tds=marginDiv=null});fragment.removeChild(div);all=a=select=opt=input=fragment=div=null;return support})();var rbrace=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(jQuery.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(elem){elem=elem.nodeType?jQuery.cache[elem[jQuery.expando]]:elem[jQuery.expando];return !!elem&&!isEmptyDataObject(elem)},data:function(elem,name,data,pvt){if(!jQuery.acceptData(elem)){return}var thisCache,ret,internalKey=jQuery.expando,getByName=typeof name==="string",isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:elem[internalKey]&&internalKey;if((!id||!cache[id]||(!pvt&&!cache[id].data))&&getByName&&data===undefined){return}if(!id){if(isNode){elem[internalKey]=id=jQuery.deletedIds.pop()||jQuery.guid++}else{id=internalKey}}if(!cache[id]){cache[id]={};if(!isNode){cache[id].toJSON=jQuery.noop}}if(typeof name==="object"||typeof name==="function"){if(pvt){cache[id]=jQuery.extend(cache[id],name)}else{cache[id].data=jQuery.extend(cache[id].data,name)}}thisCache=cache[id];if(!pvt){if(!thisCache.data){thisCache.data={}}thisCache=thisCache.data}if(data!==undefined){thisCache[jQuery.camelCase(name)]=data}if(getByName){ret=thisCache[name];if(ret==null){ret=thisCache[jQuery.camelCase(name)]}}else{ret=thisCache}return ret},removeData:function(elem,name,pvt){if(!jQuery.acceptData(elem)){return}var thisCache,i,l,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[jQuery.expando]:jQuery.expando;if(!cache[id]){return}if(name){thisCache=pvt?cache[id]:cache[id].data;if(thisCache){if(!jQuery.isArray(name)){if(name in thisCache){name=[name]}else{name=jQuery.camelCase(name);if(name in thisCache){name=[name]}else{name=name.split(" ")}}}for(i=0,l=name.length;i<l;i++){delete thisCache[name[i]]}if(!(pvt?isEmptyDataObject:jQuery.isEmptyObject)(thisCache)){return}}}if(!pvt){delete cache[id].data;if(!isEmptyDataObject(cache[id])){return}}if(isNode){jQuery.cleanData([elem],true)}else{if(jQuery.support.deleteExpando||cache!=cache.window){delete cache[id]}else{cache[id]=null}}},_data:function(elem,name,data){return jQuery.data(elem,name,data,true)},acceptData:function(elem){var noData=elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()];return !noData||noData!==true&&elem.getAttribute("classid")===noData}});jQuery.fn.extend({data:function(key,value){var parts,part,attr,name,l,elem=this[0],i=0,data=null;if(key===undefined){if(this.length){data=jQuery.data(elem);if(elem.nodeType===1&&!jQuery._data(elem,"parsedAttrs")){attr=elem.attributes;for(l=attr.length;i<l;i++){name=attr[i].name;if(!name.indexOf("data-")){name=jQuery.camelCase(name.substring(5));dataAttr(elem,name,data[name])}}jQuery._data(elem,"parsedAttrs",true)}}return data}if(typeof key==="object"){return this.each(function(){jQuery.data(this,key)})}parts=key.split(".",2);parts[1]=parts[1]?"."+parts[1]:"";part=parts[1]+"!";return jQuery.access(this,function(value){if(value===undefined){data=this.triggerHandler("getData"+part,[parts[0]]);if(data===undefined&&elem){data=jQuery.data(elem,key);data=dataAttr(elem,key,data)}return data===undefined&&parts[1]?this.data(parts[0]):data}parts[1]=value;this.each(function(){var self=jQuery(this);self.triggerHandler("setData"+part,parts);jQuery.data(this,key,value);self.triggerHandler("changeData"+part,parts)})},null,value,arguments.length>1,null,false)},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})}});function dataAttr(elem,key,data){if(data===undefined&&elem.nodeType===1){var name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();data=elem.getAttribute(name);if(typeof data==="string"){try{data=data==="true"?true:data==="false"?false:data==="null"?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}jQuery.data(elem,key,data)}else{data=undefined}}return data}function isEmptyDataObject(obj){var name;for(name in obj){if(name==="data"&&jQuery.isEmptyObject(obj[name])){continue}if(name!=="toJSON"){return false}}return true}jQuery.extend({queue:function(elem,type,data){var queue;if(elem){type=(type||"fx")+"queue";queue=jQuery._data(elem,type);if(data){if(!queue||jQuery.isArray(data)){queue=jQuery._data(elem,type,jQuery.makeArray(data))}else{queue.push(data)}}return queue||[]}},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};if(fn==="inprogress"){fn=queue.shift();startLength--}if(fn){if(type==="fx"){queue.unshift("inprogress")}delete hooks.stop;fn.call(elem,next,hooks)}if(!startLength&&hooks){hooks.empty.fire()}},_queueHooks:function(elem,type){var key=type+"queueHooks";return jQuery._data(elem,key)||jQuery._data(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){jQuery.removeData(elem,type+"queue",true);jQuery.removeData(elem,key,true)})})}});jQuery.fn.extend({queue:function(type,data){var setter=2;if(typeof type!=="string"){data=type;type="fx";setter--}if(arguments.length<setter){return jQuery.queue(this[0],type)}return data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type)}})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},delay:function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){if(!(--count)){defer.resolveWith(elements,[elements])}};if(typeof type!=="string"){obj=type;type=undefined}type=type||"fx";while(i--){tmp=jQuery._data(elements[i],type+"queueHooks");if(tmp&&tmp.empty){count++;tmp.empty.add(resolve)}}resolve();return defer.promise(obj)}});var nodeHook,boolHook,fixSpecified,rclass=/[\t\r\n]/g,rreturn=/\r/g,rtype=/^(?:button|input)$/i,rfocusable=/^(?:button|input|object|select|textarea)$/i,rclickable=/^a(?:rea|)$/i,rboolean=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,getSetAttribute=jQuery.support.getSetAttribute;jQuery.fn.extend({attr:function(name,value){return jQuery.access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})},prop:function(name,value){return jQuery.access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){name=jQuery.propFix[name]||name;return this.each(function(){try{this[name]=undefined;delete this[name]}catch(e){}})},addClass:function(value){var classNames,i,l,elem,setClass,c,cl;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))})}if(value&&typeof value==="string"){classNames=value.split(core_rspace);for(i=0,l=this.length;i<l;i++){elem=this[i];if(elem.nodeType===1){if(!elem.className&&classNames.length===1){elem.className=value}else{setClass=" "+elem.className+" ";for(c=0,cl=classNames.length;c<cl;c++){if(setClass.indexOf(" "+classNames[c]+" ")<0){setClass+=classNames[c]+" "}}elem.className=jQuery.trim(setClass)}}}}return this},removeClass:function(value){var removes,className,elem,c,cl,i,l;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))})}if((value&&typeof value==="string")||value===undefined){removes=(value||"").split(core_rspace);for(i=0,l=this.length;i<l;i++){elem=this[i];if(elem.nodeType===1&&elem.className){className=(" "+elem.className+" ").replace(rclass," ");for(c=0,cl=removes.length;c<cl;c++){while(className.indexOf(" "+removes[c]+" ")>=0){className=className.replace(" "+removes[c]+" "," ")}}elem.className=value?jQuery.trim(className):""}}}return this},toggleClass:function(value,stateVal){var type=typeof value,isBool=typeof stateVal==="boolean";if(jQuery.isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)})}return this.each(function(){if(type==="string"){var className,i=0,self=jQuery(this),state=stateVal,classNames=value.split(core_rspace);while((className=classNames[i++])){state=isBool?state:!self.hasClass(className);self[state?"addClass":"removeClass"](className)}}else{if(type==="undefined"||type==="boolean"){if(this.className){jQuery._data(this,"__className__",this.className)}this.className=this.className||value===false?"":jQuery._data(this,"__className__")||""}}})},hasClass:function(selector){var className=" "+selector+" ",i=0,l=this.length;for(;i<l;i++){if(this[i].nodeType===1&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>=0){return true}}return false},val:function(value){var hooks,ret,isFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];if(hooks&&"get" in hooks&&(ret=hooks.get(elem,"value"))!==undefined){return ret}ret=elem.value;return typeof ret==="string"?ret.replace(rreturn,""):ret==null?"":ret}return}isFunction=jQuery.isFunction(value);return this.each(function(i){var val,self=jQuery(this);if(this.nodeType!==1){return}if(isFunction){val=value.call(this,i,self.val())}else{val=value}if(val==null){val=""}else{if(typeof val==="number"){val+=""}else{if(jQuery.isArray(val)){val=jQuery.map(val,function(value){return value==null?"":value+""})}}}hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!hooks||!("set" in hooks)||hooks.set(this,val,"value")===undefined){this.value=val}})}});jQuery.extend({valHooks:{option:{get:function(elem){var val=elem.attributes.value;return !val||val.specified?elem.value:elem.text}},select:{get:function(elem){var value,option,options=elem.options,index=elem.selectedIndex,one=elem.type==="select-one"||index<0,values=one?null:[],max=one?index+1:options.length,i=index<0?max:one?index:0;for(;i<max;i++){option=options[i];if((option.selected||i===index)&&(jQuery.support.optDisabled?!option.disabled:option.getAttribute("disabled")===null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one){return value}values.push(value)}}return values},set:function(elem,value){var values=jQuery.makeArray(value);jQuery(elem).find("option").each(function(){this.selected=jQuery.inArray(jQuery(this).val(),values)>=0});if(!values.length){elem.selectedIndex=-1}return values}}},attrFn:{},attr:function(elem,name,value,pass){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return}if(pass&&jQuery.isFunction(jQuery.fn[name])){return jQuery(elem)[name](value)}if(typeof elem.getAttribute==="undefined"){return jQuery.prop(elem,name,value)}notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=name.toLowerCase();hooks=jQuery.attrHooks[name]||(rboolean.test(name)?boolHook:nodeHook)}if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name);return}else{if(hooks&&"set" in hooks&&notxml&&(ret=hooks.set(elem,value,name))!==undefined){return ret}else{elem.setAttribute(name,value+"");return value}}}else{if(hooks&&"get" in hooks&&notxml&&(ret=hooks.get(elem,name))!==null){return ret}else{ret=elem.getAttribute(name);return ret===null?undefined:ret}}},removeAttr:function(elem,value){var propName,attrNames,name,isBool,i=0;if(value&&elem.nodeType===1){attrNames=value.split(core_rspace);for(;i<attrNames.length;i++){name=attrNames[i];if(name){propName=jQuery.propFix[name]||name;isBool=rboolean.test(name);if(!isBool){jQuery.attr(elem,name,"")}elem.removeAttribute(getSetAttribute?name:propName);if(isBool&&propName in elem){elem[propName]=false}}}}},attrHooks:{type:{set:function(elem,value){if(rtype.test(elem.nodeName)&&elem.parentNode){jQuery.error("type property can't be changed")}else{if(!jQuery.support.radioValue&&value==="radio"&&jQuery.nodeName(elem,"input")){var val=elem.value;elem.setAttribute("type",value);if(val){elem.value=val}return value}}}},value:{get:function(elem,name){if(nodeHook&&jQuery.nodeName(elem,"button")){return nodeHook.get(elem,name)}return name in elem?elem.value:null},set:function(elem,value,name){if(nodeHook&&jQuery.nodeName(elem,"button")){return nodeHook.set(elem,value,name)}elem.value=value}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return}notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name]}if(value!==undefined){if(hooks&&"set" in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret}else{return(elem[name]=value)}}else{if(hooks&&"get" in hooks&&(ret=hooks.get(elem,name))!==null){return ret}else{return elem[name]}}},propHooks:{tabIndex:{get:function(elem){var attributeNode=elem.getAttributeNode("tabindex");return attributeNode&&attributeNode.specified?parseInt(attributeNode.value,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:undefined}}}});boolHook={get:function(elem,name){var attrNode,property=jQuery.prop(elem,name);return property===true||typeof property!=="boolean"&&(attrNode=elem.getAttributeNode(name))&&attrNode.nodeValue!==false?name.toLowerCase():undefined},set:function(elem,value,name){var propName;if(value===false){jQuery.removeAttr(elem,name)}else{propName=jQuery.propFix[name]||name;if(propName in elem){elem[propName]=true}elem.setAttribute(name,name.toLowerCase())}return name}};if(!getSetAttribute){fixSpecified={name:true,id:true,coords:true};nodeHook=jQuery.valHooks.button={get:function(elem,name){var ret;ret=elem.getAttributeNode(name);return ret&&(fixSpecified[name]?ret.value!=="":ret.specified)?ret.value:undefined},set:function(elem,value,name){var ret=elem.getAttributeNode(name);if(!ret){ret=document.createAttribute(name);elem.setAttributeNode(ret)}return(ret.value=value+"")}};jQuery.each(["width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{set:function(elem,value){if(value===""){elem.setAttribute(name,"auto");return value}}})});jQuery.attrHooks.contenteditable={get:nodeHook.get,set:function(elem,value,name){if(value===""){value="false"}nodeHook.set(elem,value,name)}}}if(!jQuery.support.hrefNormalized){jQuery.each(["href","src","width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{get:function(elem){var ret=elem.getAttribute(name,2);return ret===null?undefined:ret}})})}if(!jQuery.support.style){jQuery.attrHooks.style={get:function(elem){return elem.style.cssText.toLowerCase()||undefined},set:function(elem,value){return(elem.style.cssText=value+"")}}}if(!jQuery.support.optSelected){jQuery.propHooks.selected=jQuery.extend(jQuery.propHooks.selected,{get:function(elem){var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode){parent.parentNode.selectedIndex}}return null}})}if(!jQuery.support.enctype){jQuery.propFix.enctype="encoding"}if(!jQuery.support.checkOn){jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={get:function(elem){return elem.getAttribute("value")===null?"on":elem.value}}})}jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]=jQuery.extend(jQuery.valHooks[this],{set:function(elem,value){if(jQuery.isArray(value)){return(elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0)}}})});var rformElems=/^(?:textarea|input|select)$/i,rtypenamespace=/^([^\.]*|)(?:\.(.+)|)$/,rhoverHack=/(?:^|\s)hover(\.\S+|)\b/,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,hoverHack=function(events){return jQuery.event.special.hover?events:events.replace(rhoverHack,"mouseenter$1 mouseleave$1")};jQuery.event={add:function(elem,types,handler,data,selector){var elemData,eventHandle,events,t,tns,type,namespaces,handleObj,handleObjIn,handlers,special;if(elem.nodeType===3||elem.nodeType===8||!types||!handler||!(elemData=jQuery._data(elem))){return}if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler;selector=handleObjIn.selector}if(!handler.guid){handler.guid=jQuery.guid++}events=elemData.events;if(!events){elemData.events=events={}}eventHandle=elemData.handle;if(!eventHandle){elemData.handle=eventHandle=function(e){return typeof jQuery!=="undefined"&&(!e||jQuery.event.triggered!==e.type)?jQuery.event.dispatch.apply(eventHandle.elem,arguments):undefined};eventHandle.elem=elem}types=jQuery.trim(hoverHack(types)).split(" ");for(t=0;t<types.length;t++){tns=rtypenamespace.exec(types[t])||[];type=tns[1];namespaces=(tns[2]||"").split(".").sort();special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type:type,origType:tns[1],data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn);handlers=events[type];if(!handlers){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle,false)}else{if(elem.attachEvent){elem.attachEvent("on"+type,eventHandle)}}}}if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid}}if(selector){handlers.splice(handlers.delegateCount++,0,handleObj)}else{handlers.push(handleObj)}jQuery.event.global[type]=true}elem=null},global:{},remove:function(elem,types,handler,selector,mappedTypes){var t,tns,type,origType,namespaces,origCount,j,events,special,eventType,handleObj,elemData=jQuery.hasData(elem)&&jQuery._data(elem);if(!elemData||!(events=elemData.events)){return}types=jQuery.trim(hoverHack(types||"")).split(" ");for(t=0;t<types.length;t++){tns=rtypenamespace.exec(types[t])||[];type=origType=tns[1];namespaces=tns[2];if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,true)}continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;eventType=events[type]||[];origCount=eventType.length;namespaces=namespaces?new RegExp("(^|\\.)"+namespaces.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(j=0;j<eventType.length;j++){handleObj=eventType[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!namespaces||namespaces.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)){eventType.splice(j--,1);if(handleObj.selector){eventType.delegateCount--}if(special.remove){special.remove.call(elem,handleObj)}}}if(eventType.length===0&&origCount!==eventType.length){if(!special.teardown||special.teardown.call(elem,namespaces,elemData.handle)===false){jQuery.removeEvent(elem,type,elemData.handle)}delete events[type]}}if(jQuery.isEmptyObject(events)){delete elemData.handle;jQuery.removeData(elem,"events",true)}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(event,data,elem,onlyHandlers){if(elem&&(elem.nodeType===3||elem.nodeType===8)){return}var cache,exclusive,i,cur,old,ontype,special,handle,eventPath,bubbleType,type=event.type||event,namespaces=[];if(rfocusMorph.test(type+jQuery.event.triggered)){return}if(type.indexOf("!")>=0){type=type.slice(0,-1);exclusive=true}if(type.indexOf(".")>=0){namespaces=type.split(".");type=namespaces.shift();namespaces.sort()}if((!elem||jQuery.event.customEvent[type])&&!jQuery.event.global[type]){return}event=typeof event==="object"?event[jQuery.expando]?event:new jQuery.Event(type,event):new jQuery.Event(type);event.type=type;event.isTrigger=true;event.exclusive=exclusive;event.namespace=namespaces.join(".");event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;ontype=type.indexOf(":")<0?"on"+type:"";if(!elem){cache=jQuery.cache;for(i in cache){if(cache[i].events&&cache[i].events[type]){jQuery.event.trigger(event,data,cache[i].handle.elem,true)}}return}event.result=undefined;if(!event.target){event.target=elem}data=data!=null?jQuery.makeArray(data):[];data.unshift(event);special=jQuery.event.special[type]||{};if(special.trigger&&special.trigger.apply(elem,data)===false){return}eventPath=[[elem,special.bindType||type]];if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;cur=rfocusMorph.test(bubbleType+type)?elem:elem.parentNode;for(old=elem;cur;cur=cur.parentNode){eventPath.push([cur,bubbleType]);old=cur}if(old===(elem.ownerDocument||document)){eventPath.push([old.defaultView||old.parentWindow||window,bubbleType])}}for(i=0;i<eventPath.length&&!event.isPropagationStopped();i++){cur=eventPath[i][0];event.type=eventPath[i][1];handle=(jQuery._data(cur,"events")||{})[event.type]&&jQuery._data(cur,"handle");if(handle){handle.apply(cur,data)}handle=ontype&&cur[ontype];if(handle&&jQuery.acceptData(cur)&&handle.apply&&handle.apply(cur,data)===false){event.preventDefault()}}event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||special._default.apply(elem.ownerDocument,data)===false)&&!(type==="click"&&jQuery.nodeName(elem,"a"))&&jQuery.acceptData(elem)){if(ontype&&elem[type]&&((type!=="focus"&&type!=="blur")||event.target.offsetWidth!==0)&&!jQuery.isWindow(elem)){old=elem[ontype];if(old){elem[ontype]=null}jQuery.event.triggered=type;elem[type]();jQuery.event.triggered=undefined;if(old){elem[ontype]=old}}}}return event.result},dispatch:function(event){event=jQuery.event.fix(event||window.event);var i,j,cur,ret,selMatch,matched,matches,handleObj,sel,related,handlers=((jQuery._data(this,"events")||{})[event.type]||[]),delegateCount=handlers.delegateCount,args=core_slice.call(arguments),run_all=!event.exclusive&&!event.namespace,special=jQuery.event.special[event.type]||{},handlerQueue=[];args[0]=event;event.delegateTarget=this;if(special.preDispatch&&special.preDispatch.call(this,event)===false){return}if(delegateCount&&!(event.button&&event.type==="click")){for(cur=event.target;cur!=this;cur=cur.parentNode||this){if(cur.disabled!==true||event.type!=="click"){selMatch={};matches=[];for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=handleObj.selector;if(selMatch[sel]===undefined){selMatch[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>=0:jQuery.find(sel,this,null,[cur]).length}if(selMatch[sel]){matches.push(handleObj)}}if(matches.length){handlerQueue.push({elem:cur,matches:matches})}}}}if(handlers.length>delegateCount){handlerQueue.push({elem:this,matches:handlers.slice(delegateCount)})}for(i=0;i<handlerQueue.length&&!event.isPropagationStopped();i++){matched=handlerQueue[i];event.currentTarget=matched.elem;for(j=0;j<matched.matches.length&&!event.isImmediatePropagationStopped();j++){handleObj=matched.matches[j];if(run_all||(!event.namespace&&!handleObj.namespace)||event.namespace_re&&event.namespace_re.test(handleObj.namespace)){event.data=handleObj.data;event.handleObj=handleObj;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==undefined){event.result=ret;if(ret===false){event.preventDefault();event.stopPropagation()}}}}}if(special.postDispatch){special.postDispatch.call(this,event)}return event.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){if(event.which==null){event.which=original.charCode!=null?original.charCode:original.keyCode}return event}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button,fromElement=original.fromElement;if(event.pageX==null&&original.clientX!=null){eventDoc=event.target.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}if(!event.relatedTarget&&fromElement){event.relatedTarget=fromElement===event.target?original.toElement:fromElement}if(!event.which&&button!==undefined){event.which=(button&1?1:(button&2?3:(button&4?2:0)))}return event}},fix:function(event){if(event[jQuery.expando]){return event}var i,prop,originalEvent=event,fixHook=jQuery.event.fixHooks[event.type]||{},copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=jQuery.Event(originalEvent);for(i=copy.length;i;){prop=copy[--i];event[prop]=originalEvent[prop]}if(!event.target){event.target=originalEvent.srcElement||document}if(event.target.nodeType===3){event.target=event.target.parentNode}event.metaKey=!!event.metaKey;return fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(data,namespaces,eventHandle){if(jQuery.isWindow(this)){this.onbeforeunload=eventHandle}},teardown:function(namespaces,eventHandle){if(this.onbeforeunload===eventHandle){this.onbeforeunload=null}}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event(),event,{type:type,isSimulated:true,originalEvent:{}});if(bubble){jQuery.event.trigger(e,null,elem)}else{jQuery.event.dispatch.call(elem,e)}if(e.isDefaultPrevented()){event.preventDefault()}}};jQuery.event.handle=jQuery.event.dispatch;jQuery.removeEvent=document.removeEventListener?function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle,false)}}:function(elem,type,handle){var name="on"+type;if(elem.detachEvent){if(typeof elem[name]==="undefined"){elem[name]=null}elem.detachEvent(name,handle)}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props)}if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=(src.defaultPrevented||src.returnValue===false||src.getPreventDefault&&src.getPreventDefault())?returnTrue:returnFalse}else{this.type=src}if(props){jQuery.extend(this,props)}this.timeStamp=src&&src.timeStamp||jQuery.now();this[jQuery.expando]=true};function returnFalse(){return false}function returnTrue(){return true}jQuery.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;if(!e){return}if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;if(!e){return}if(e.stopPropagation){e.stopPropagation()}e.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue;this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj,selector=handleObj.selector;if(!related||(related!==target&&!jQuery.contains(target,related))){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix}return ret}}});if(!jQuery.support.submitBubbles){jQuery.event.special.submit={setup:function(){if(jQuery.nodeName(this,"form")){return false}jQuery.event.add(this,"click._submit keypress._submit",function(e){var elem=e.target,form=jQuery.nodeName(elem,"input")||jQuery.nodeName(elem,"button")?elem.form:undefined;if(form&&!jQuery._data(form,"_submit_attached")){jQuery.event.add(form,"submit._submit",function(event){event._submit_bubble=true});jQuery._data(form,"_submit_attached",true)}})},postDispatch:function(event){if(event._submit_bubble){delete event._submit_bubble;if(this.parentNode&&!event.isTrigger){jQuery.event.simulate("submit",this.parentNode,event,true)}}},teardown:function(){if(jQuery.nodeName(this,"form")){return false}jQuery.event.remove(this,"._submit")}}}if(!jQuery.support.changeBubbles){jQuery.event.special.change={setup:function(){if(rformElems.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){jQuery.event.add(this,"propertychange._change",function(event){if(event.originalEvent.propertyName==="checked"){this._just_changed=true}});jQuery.event.add(this,"click._change",function(event){if(this._just_changed&&!event.isTrigger){this._just_changed=false}jQuery.event.simulate("change",this,event,true)})}return false}jQuery.event.add(this,"beforeactivate._change",function(e){var elem=e.target;if(rformElems.test(elem.nodeName)&&!jQuery._data(elem,"_change_attached")){jQuery.event.add(elem,"change._change",function(event){if(this.parentNode&&!event.isSimulated&&!event.isTrigger){jQuery.event.simulate("change",this.parentNode,event,true)}});jQuery._data(elem,"_change_attached",true)}})},handle:function(event){var elem=event.target;if(this!==elem||event.isSimulated||event.isTrigger||(elem.type!=="radio"&&elem.type!=="checkbox")){return event.handleObj.handler.apply(this,arguments)}},teardown:function(){jQuery.event.remove(this,"._change");return !rformElems.test(this.nodeName)}}}if(!jQuery.support.focusinBubbles){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var attaches=0,handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),true)};jQuery.event.special[fix]={setup:function(){if(attaches++===0){document.addEventListener(orig,handler,true)}},teardown:function(){if(--attaches===0){document.removeEventListener(orig,handler,true)}}}})}jQuery.fn.extend({on:function(types,selector,data,fn,one){var origFn,type;if(typeof types==="object"){if(typeof selector!=="string"){data=data||selector;selector=undefined}for(type in types){this.on(type,selector,data,types[type],one)}return this}if(data==null&&fn==null){fn=selector;data=selector=undefined}else{if(fn==null){if(typeof selector==="string"){fn=data;data=undefined}else{fn=data;data=selector;selector=undefined}}}if(fn===false){fn=returnFalse}else{if(!fn){return this}}if(one===1){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments)};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)}return this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj){handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);return this}if(typeof types==="object"){for(type in types){this.off(type,selector,types[type])}return this}if(selector===false||typeof selector==="function"){fn=selector;selector=undefined}if(fn===false){fn=returnFalse}return this.each(function(){jQuery.event.remove(this,types,fn,selector)})},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},live:function(types,data,fn){jQuery(this.context).on(types,this.selector,data,fn);return this},die:function(types,fn){jQuery(this.context).off(types,this.selector||"**",fn);return this},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return arguments.length===1?this.off(selector,"**"):this.off(types,selector||"**",fn)},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){if(this[0]){return jQuery.event.trigger(type,data,this[0],true)}},toggle:function(fn){var args=arguments,guid=fn.guid||jQuery.guid++,i=0,toggler=function(event){var lastToggle=(jQuery._data(this,"lastToggle"+fn.guid)||0)%i;jQuery._data(this,"lastToggle"+fn.guid,lastToggle+1);event.preventDefault();return args[lastToggle].apply(this,arguments)||false};toggler.guid=guid;while(i<args.length){args[i++].guid=guid}return this.click(toggler)},hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}});jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(i,name){jQuery.fn[name]=function(data,fn){if(fn==null){fn=data;data=null}return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)};if(rkeyEvent.test(name)){jQuery.event.fixHooks[name]=jQuery.event.keyHooks}if(rmouseEvent.test(name)){jQuery.event.fixHooks[name]=jQuery.event.mouseHooks}});
/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
(function(window,undefined){var cachedruns,assertGetIdNotName,Expr,getText,isXML,contains,compile,sortOrder,hasDuplicate,outermostContext,baseHasDuplicate=true,strundefined="undefined",expando=("sizcache"+Math.random()).replace(".",""),Token=String,document=window.document,docElem=document.documentElement,dirruns=0,done=0,pop=[].pop,push=[].push,slice=[].slice,indexOf=[].indexOf||function(elem){var i=0,len=this.length;for(;i<len;i++){if(this[i]===elem){return i}}return -1},markFunction=function(fn,value){fn[expando]=value==null||value;return fn},createCache=function(){var cache={},keys=[];return markFunction(function(key,value){if(keys.push(key)>Expr.cacheLength){delete cache[keys.shift()]}return(cache[key+" "]=value)},cache)},classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),operators="([*^$|!~]?=)",attributes="\\["+whitespace+"*("+characterEncoding+")"+whitespace+"*(?:"+operators+whitespace+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+identifier+")|)|)"+whitespace+"*\\]",pseudos=":("+characterEncoding+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+attributes+")|[^:]|\\\\.)*|.*))\\)|)",pos=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)",rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([\\x20\\t\\r\\n\\f>+~])"+whitespace+"*"),rpseudo=new RegExp(pseudos),rquickExpr=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,rnot=/^:not/,rsibling=/[\x20\t\r\n\f]*[+~]/,rendsWithNot=/:not\($/,rheader=/h\d/i,rinputs=/input|select|textarea|button/i,rbackslash=/\\(?!\\)/g,matchExpr={ID:new RegExp("^#("+characterEncoding+")"),CLASS:new RegExp("^\\.("+characterEncoding+")"),NAME:new RegExp("^\\[name=['\"]?("+characterEncoding+")['\"]?\\]"),TAG:new RegExp("^("+characterEncoding.replace("w","w*")+")"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),POS:new RegExp(pos,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|"+pos,"i")},assert=function(fn){var div=document.createElement("div");try{return fn(div)}catch(e){return false}finally{div=null}},assertTagNameNoComments=assert(function(div){div.appendChild(document.createComment(""));return !div.getElementsByTagName("*").length}),assertHrefNotNormalized=assert(function(div){div.innerHTML="<a href='#'></a>";return div.firstChild&&typeof div.firstChild.getAttribute!==strundefined&&div.firstChild.getAttribute("href")==="#"}),assertAttributes=assert(function(div){div.innerHTML="<select></select>";var type=typeof div.lastChild.getAttribute("multiple");return type!=="boolean"&&type!=="string"}),assertUsableClassName=assert(function(div){div.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!div.getElementsByClassName||!div.getElementsByClassName("e").length){return false}div.lastChild.className="e";return div.getElementsByClassName("e").length===2}),assertUsableName=assert(function(div){div.id=expando+0;div.innerHTML="<a name='"+expando+"'></a><div name='"+expando+"'></div>";docElem.insertBefore(div,docElem.firstChild);var pass=document.getElementsByName&&document.getElementsByName(expando).length===2+document.getElementsByName(expando+0).length;assertGetIdNotName=!document.getElementById(expando);docElem.removeChild(div);return pass});try{slice.call(docElem.childNodes,0)[0].nodeType}catch(e){slice=function(i){var elem,results=[];for(;(elem=this[i]);i++){results.push(elem)}return results}}function Sizzle(selector,context,results,seed){results=results||[];context=context||document;var match,elem,xml,m,nodeType=context.nodeType;if(!selector||typeof selector!=="string"){return results}if(nodeType!==1&&nodeType!==9){return[]}xml=isXML(context);if(!xml&&!seed){if((match=rquickExpr.exec(selector))){if((m=match[1])){if(nodeType===9){elem=context.getElementById(m);if(elem&&elem.parentNode){if(elem.id===m){results.push(elem);return results}}else{return results}}else{if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results}}}else{if(match[2]){push.apply(results,slice.call(context.getElementsByTagName(selector),0));return results}else{if((m=match[3])&&assertUsableClassName&&context.getElementsByClassName){push.apply(results,slice.call(context.getElementsByClassName(m),0));return results}}}}}return select(selector.replace(rtrim,"$1"),context,results,seed,xml)}Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)};Sizzle.matchesSelector=function(elem,expr){return Sizzle(expr,null,null,[elem]).length>0};function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){argument=+argument;return markFunction(function(seed,matches){var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;while(i--){if(seed[(j=matchIndexes[i])]){seed[j]=!(matches[j]=seed[j])}}})})}getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent==="string"){return elem.textContent}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem)}}}else{if(nodeType===3||nodeType===4){return elem.nodeValue}}}else{for(;(node=elem[i]);i++){ret+=getText(node)}}return ret};isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?documentElement.nodeName!=="HTML":false};contains=Sizzle.contains=docElem.contains?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&adown.contains&&adown.contains(bup))}:docElem.compareDocumentPosition?function(a,b){return b&&!!(a.compareDocumentPosition(b)&16)}:function(a,b){while((b=b.parentNode)){if(b===a){return true}}return false};Sizzle.attr=function(elem,name){var val,xml=isXML(elem);if(!xml){name=name.toLowerCase()}if((val=Expr.attrHandle[name])){return val(elem)}if(xml||assertAttributes){return elem.getAttribute(name)}val=elem.getAttributeNode(name);return val?typeof elem[name]==="boolean"?elem[name]?name:null:val.specified?val.value:null:null};Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:assertHrefNotNormalized?{}:{href:function(elem){return elem.getAttribute("href",2)},type:function(elem){return elem.getAttribute("type")}},find:{ID:assertGetIdNotName?function(id,context,xml){if(typeof context.getElementById!==strundefined&&!xml){var m=context.getElementById(id);return m&&m.parentNode?[m]:[]}}:function(id,context,xml){if(typeof context.getElementById!==strundefined&&!xml){var m=context.getElementById(id);return m?m.id===id||typeof m.getAttributeNode!==strundefined&&m.getAttributeNode("id").value===id?[m]:undefined:[]}},TAG:assertTagNameNoComments?function(tag,context){if(typeof context.getElementsByTagName!==strundefined){return context.getElementsByTagName(tag)}}:function(tag,context){var results=context.getElementsByTagName(tag);if(tag==="*"){var elem,tmp=[],i=0;for(;(elem=results[i]);i++){if(elem.nodeType===1){tmp.push(elem)}}return tmp}return results},NAME:assertUsableName&&function(tag,context){if(typeof context.getElementsByName!==strundefined){return context.getElementsByName(name)}},CLASS:assertUsableClassName&&function(className,context,xml){if(typeof context.getElementsByClassName!==strundefined&&!xml){return context.getElementsByClassName(className)}}},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){match[1]=match[1].replace(rbackslash,"");match[3]=(match[4]||match[5]||"").replace(rbackslash,"");if(match[2]==="~="){match[3]=" "+match[3]+" "}return match.slice(0,4)},CHILD:function(match){match[1]=match[1].toLowerCase();if(match[1]==="nth"){if(!match[2]){Sizzle.error(match[0])}match[3]=+(match[3]?match[4]+(match[5]||1):2*(match[2]==="even"||match[2]==="odd"));match[4]=+((match[6]+match[7])||match[2]==="odd")}else{if(match[2]){Sizzle.error(match[0])}}return match},PSEUDO:function(match){var unquoted,excess;if(matchExpr.CHILD.test(match[0])){return null}if(match[3]){match[2]=match[3]}else{if((unquoted=match[4])){if(rpseudo.test(unquoted)&&(excess=tokenize(unquoted,true))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)){unquoted=unquoted.slice(0,excess);match[0]=match[0].slice(0,excess)}match[2]=unquoted}}return match.slice(0,3)}},filter:{ID:assertGetIdNotName?function(id){id=id.replace(rbackslash,"");return function(elem){return elem.getAttribute("id")===id}}:function(id){id=id.replace(rbackslash,"");return function(elem){var node=typeof elem.getAttributeNode!==strundefined&&elem.getAttributeNode("id");return node&&node.value===id}},TAG:function(nodeName){if(nodeName==="*"){return function(){return true}}nodeName=nodeName.replace(rbackslash,"").toLowerCase();return function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[expando][className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test(elem.className||(typeof elem.getAttribute!==strundefined&&elem.getAttribute("class"))||"")})},ATTR:function(name,operator,check){return function(elem,context){var result=Sizzle.attr(elem,name);if(result==null){return operator==="!="}if(!operator){return true}result+="";return operator==="="?result===check:operator==="!="?result!==check:operator==="^="?check&&result.indexOf(check)===0:operator==="*="?check&&result.indexOf(check)>-1:operator==="$="?check&&result.substr(result.length-check.length)===check:operator==="~="?(" "+result+" ").indexOf(check)>-1:operator==="|="?result===check||result.substr(0,check.length+1)===check+"-":false}},CHILD:function(type,argument,first,last){if(type==="nth"){return function(elem){var node,diff,parent=elem.parentNode;if(first===1&&last===0){return true}if(parent){diff=0;for(node=parent.firstChild;node;node=node.nextSibling){if(node.nodeType===1){diff++;if(elem===node){break}}}}diff-=last;return diff===first||(diff%first===0&&diff/first>=0)}}return function(elem){var node=elem;switch(type){case"only":case"first":while((node=node.previousSibling)){if(node.nodeType===1){return false}}if(type==="first"){return true}node=elem;case"last":while((node=node.nextSibling)){if(node.nodeType===1){return false}}return true}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);if(fn[expando]){return fn(argument)}if(fn.length>1){args=[pseudo,pseudo,"",argument];return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){var idx,matched=fn(seed,argument),i=matched.length;while(i--){idx=indexOf.call(seed,matched[i]);seed[idx]=!(matches[idx]=matched[i])}}):function(elem){return fn(elem,0,args)}}return fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;while(i--){if((elem=unmatched[i])){seed[i]=!(matches[i]=elem)}}}):function(elem,context,xml){input[0]=elem;matcher(input,null,xml,results);return !results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),contains:markFunction(function(text){return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),enabled:function(elem){return elem.disabled===false},disabled:function(elem){return elem.disabled===true},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return(nodeName==="input"&&!!elem.checked)||(nodeName==="option"&&!!elem.selected)},selected:function(elem){if(elem.parentNode){elem.parentNode.selectedIndex}return elem.selected===true},parent:function(elem){return !Expr.pseudos.empty(elem)},empty:function(elem){var nodeType;elem=elem.firstChild;while(elem){if(elem.nodeName>"@"||(nodeType=elem.nodeType)===3||nodeType===4){return false}elem=elem.nextSibling}return true},header:function(elem){return rheader.test(elem.nodeName)},text:function(elem){var type,attr;return elem.nodeName.toLowerCase()==="input"&&(type=elem.type)==="text"&&((attr=elem.getAttribute("type"))==null||attr.toLowerCase()===type)},radio:createInputPseudo("radio"),checkbox:createInputPseudo("checkbox"),file:createInputPseudo("file"),password:createInputPseudo("password"),image:createInputPseudo("image"),submit:createButtonPseudo("submit"),reset:createButtonPseudo("reset"),button:function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type==="button"||name==="button"},input:function(elem){return rinputs.test(elem.nodeName)},focus:function(elem){var doc=elem.ownerDocument;return elem===doc.activeElement&&(!doc.hasFocus||doc.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},active:function(elem){return elem===elem.ownerDocument.activeElement},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){for(var i=0;i<length;i+=2){matchIndexes.push(i)}return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){for(var i=1;i<length;i+=2){matchIndexes.push(i)}return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;--i>=0;){matchIndexes.push(i)}return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;++i<length;){matchIndexes.push(i)}return matchIndexes})}};function siblingCheck(a,b,ret){if(a===b){return ret}var cur=a.nextSibling;while(cur){if(cur===b){return -1}cur=cur.nextSibling}return 1}sortOrder=docElem.compareDocumentPosition?function(a,b){if(a===b){hasDuplicate=true;return 0}return(!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition:a.compareDocumentPosition(b)&4)?-1:1}:function(a,b){if(a===b){hasDuplicate=true;return 0}else{if(a.sourceIndex&&b.sourceIndex){return a.sourceIndex-b.sourceIndex}}var al,bl,ap=[],bp=[],aup=a.parentNode,bup=b.parentNode,cur=aup;if(aup===bup){return siblingCheck(a,b)}else{if(!aup){return -1}else{if(!bup){return 1}}}while(cur){ap.unshift(cur);cur=cur.parentNode}cur=bup;while(cur){bp.unshift(cur);cur=cur.parentNode}al=ap.length;bl=bp.length;for(var i=0;i<al&&i<bl;i++){if(ap[i]!==bp[i]){return siblingCheck(ap[i],bp[i])}}return i===al?siblingCheck(a,bp[i],-1):siblingCheck(ap[i],b,1)};[0,0].sort(sortOrder);baseHasDuplicate=!hasDuplicate;Sizzle.uniqueSort=function(results){var elem,duplicates=[],i=1,j=0;hasDuplicate=baseHasDuplicate;results.sort(sortOrder);if(hasDuplicate){for(;(elem=results[i]);i++){if(elem===results[i-1]){j=duplicates.push(i)}}while(j--){results.splice(duplicates[j],1)}}return results};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)};function tokenize(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[expando][selector+" "];if(cached){return parseOnly?0:cached.slice(0)}soFar=selector;groups=[];preFilters=Expr.preFilter;while(soFar){if(!matched||(match=rcomma.exec(soFar))){if(match){soFar=soFar.slice(match[0].length)||soFar}groups.push(tokens=[])}matched=false;if((match=rcombinators.exec(soFar))){tokens.push(matched=new Token(match.shift()));soFar=soFar.slice(matched.length);matched.type=match[0].replace(rtrim," ")}for(type in Expr.filter){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match)))){tokens.push(matched=new Token(match.shift()));soFar=soFar.slice(matched.length);matched.type=type;matched.matches=match}}if(!matched){break}}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&combinator.dir==="parentNode",doneName=done++;return combinator.first?function(elem,context,xml){while((elem=elem[dir])){if(checkNonElements||elem.nodeType===1){return matcher(elem,context,xml)}}}:function(elem,context,xml){if(!xml){var cache,dirkey=dirruns+" "+doneName+" ",cachedkey=dirkey+cachedruns;while((elem=elem[dir])){if(checkNonElements||elem.nodeType===1){if((cache=elem[expando])===cachedkey){return elem.sizset}else{if(typeof cache==="string"&&cache.indexOf(dirkey)===0){if(elem.sizset){return elem}}else{elem[expando]=cachedkey;if(matcher(elem,context,xml)){elem.sizset=true;return elem}elem.sizset=false}}}}}else{while((elem=elem[dir])){if(checkNonElements||elem.nodeType===1){if(matcher(elem,context,xml)){return elem}}}}}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){var i=matchers.length;while(i--){if(!matchers[i](elem,context,xml)){return false}}return true}:matchers[0]}function condense(unmatched,map,filter,context,xml){var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=map!=null;for(;i<len;i++){if((elem=unmatched[i])){if(!filter||filter(elem,context,xml)){newUnmatched.push(elem);if(mapped){map.push(i)}}}}return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){if(postFilter&&!postFilter[expando]){postFilter=setMatcher(postFilter)}if(postFinder&&!postFinder[expando]){postFinder=setMatcher(postFinder,postSelector)}return markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=preFilter&&(seed||!selector)?condense(elems,preMap,preFilter,context,xml):elems,matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher){matcher(matcherIn,matcherOut,context,xml)}if(postFilter){temp=condense(matcherOut,postMap);postFilter(temp,[],context,xml);i=temp.length;while(i--){if((elem=temp[i])){matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem)}}}if(seed){if(postFinder||preFilter){if(postFinder){temp=[];i=matcherOut.length;while(i--){if((elem=matcherOut[i])){temp.push((matcherIn[i]=elem))}}postFinder(null,(matcherOut=[]),temp,xml)}i=matcherOut.length;while(i--){if((elem=matcherOut[i])&&(temp=postFinder?indexOf.call(seed,elem):preMap[i])>-1){seed[temp]=!(results[temp]=elem)}}}}else{matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut);if(postFinder){postFinder(null,results,matcherOut,xml)}else{push.apply(results,matcherOut)}}})}function matcherFromTokens(tokens){var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,true),matchAnyContext=addCombinator(function(elem){return indexOf.call(checkContext,elem)>-1},implicitRelative,true),matchers=[function(elem,context,xml){return(!leadingRelative&&(xml||context!==outermostContext))||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml))}];for(;i<len;i++){if((matcher=Expr.relative[tokens[i].type])){matchers=[addCombinator(elementMatcher(matchers),matcher)]}else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);if(matcher[expando]){j=++i;for(;j<len;j++){if(Expr.relative[tokens[j].type]){break}}return setMatcher(i>1&&elementMatcher(matchers),i>1&&tokens.slice(0,i-1).join("").replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens((tokens=tokens.slice(j))),j<len&&tokens.join(""))}matchers.push(matcher)}}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,expandContext){var elem,j,matcher,setMatched=[],matchedCount=0,i="0",unmatched=seed&&[],outermost=expandContext!=null,contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",expandContext&&context.parentNode||context),dirrunsUnique=(dirruns+=contextBackup==null?1:Math.E);if(outermost){outermostContext=context!==document&&context;cachedruns=superMatcher.el}for(;(elem=elems[i])!=null;i++){if(byElement&&elem){for(j=0;(matcher=elementMatchers[j]);j++){if(matcher(elem,context,xml)){results.push(elem);break}}if(outermost){dirruns=dirrunsUnique;cachedruns=++superMatcher.el}}if(bySet){if((elem=!matcher&&elem)){matchedCount--}if(seed){unmatched.push(elem)}}}matchedCount+=i;if(bySet&&i!==matchedCount){for(j=0;(matcher=setMatchers[j]);j++){matcher(unmatched,setMatched,context,xml)}if(seed){if(matchedCount>0){while(i--){if(!(unmatched[i]||setMatched[i])){setMatched[i]=pop.call(results)}}}setMatched=condense(setMatched)}push.apply(results,setMatched);if(outermost&&!seed&&setMatched.length>0&&(matchedCount+setMatchers.length)>1){Sizzle.uniqueSort(results)}}if(outermost){dirruns=dirrunsUnique;outermostContext=contextBackup}return unmatched};superMatcher.el=0;return bySet?markFunction(superMatcher):superMatcher}compile=Sizzle.compile=function(selector,group){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[expando][selector+" "];if(!cached){if(!group){group=tokenize(selector)}i=group.length;while(i--){cached=matcherFromTokens(group[i]);if(cached[expando]){setMatchers.push(cached)}else{elementMatchers.push(cached)}}cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers))}return cached};function multipleContexts(selector,contexts,results){var i=0,len=contexts.length;for(;i<len;i++){Sizzle(selector,contexts[i],results)}return results}function select(selector,context,results,seed,xml){var i,tokens,token,type,find,match=tokenize(selector),j=match.length;if(!seed){if(match.length===1){tokens=match[0]=match[0].slice(0);if(tokens.length>2&&(token=tokens[0]).type==="ID"&&context.nodeType===9&&!xml&&Expr.relative[tokens[1].type]){context=Expr.find.ID(token.matches[0].replace(rbackslash,""),context,xml)[0];if(!context){return results}selector=selector.slice(tokens.shift().length)}for(i=matchExpr.POS.test(selector)?-1:tokens.length-1;i>=0;i--){token=tokens[i];if(Expr.relative[(type=token.type)]){break}if((find=Expr.find[type])){if((seed=find(token.matches[0].replace(rbackslash,""),rsibling.test(tokens[0].type)&&context.parentNode||context,xml))){tokens.splice(i,1);selector=seed.length&&tokens.join("");if(!selector){push.apply(results,slice.call(seed,0));return results}break}}}}}compile(selector,match)(seed,context,xml,results,rsibling.test(selector));return results}if(document.querySelectorAll){(function(){var disconnectedMatch,oldSelect=select,rescape=/'|\\/g,rattributeQuotes=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,rbuggyQSA=[":focus"],rbuggyMatches=[":active"],matches=docElem.matchesSelector||docElem.mozMatchesSelector||docElem.webkitMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector;assert(function(div){div.innerHTML="<select><option selected=''></option></select>";if(!div.querySelectorAll("[selected]").length){rbuggyQSA.push("\\["+whitespace+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)")}if(!div.querySelectorAll(":checked").length){rbuggyQSA.push(":checked")}});assert(function(div){div.innerHTML="<p test=''></p>";if(div.querySelectorAll("[test^='']").length){rbuggyQSA.push("[*^$]="+whitespace+"*(?:\"\"|'')")}div.innerHTML="<input type='hidden'/>";if(!div.querySelectorAll(":enabled").length){rbuggyQSA.push(":enabled",":disabled")}});rbuggyQSA=new RegExp(rbuggyQSA.join("|"));select=function(selector,context,results,seed,xml){if(!seed&&!xml&&!rbuggyQSA.test(selector)){var groups,i,old=true,nid=expando,newContext=context,newSelector=context.nodeType===9&&selector;if(context.nodeType===1&&context.nodeName.toLowerCase()!=="object"){groups=tokenize(selector);if((old=context.getAttribute("id"))){nid=old.replace(rescape,"\\$&")}else{context.setAttribute("id",nid)}nid="[id='"+nid+"'] ";i=groups.length;while(i--){groups[i]=nid+groups[i].join("")}newContext=rsibling.test(selector)&&context.parentNode||context;newSelector=groups.join(",")}if(newSelector){try{push.apply(results,slice.call(newContext.querySelectorAll(newSelector),0));return results}catch(qsaError){}finally{if(!old){context.removeAttribute("id")}}}}return oldSelect(selector,context,results,seed,xml)};if(matches){assert(function(div){disconnectedMatch=matches.call(div,"div");try{matches.call(div,"[test!='']:sizzle");rbuggyMatches.push("!=",pseudos)}catch(e){}});rbuggyMatches=new RegExp(rbuggyMatches.join("|"));Sizzle.matchesSelector=function(elem,expr){expr=expr.replace(rattributeQuotes,"='$1']");if(!isXML(elem)&&!rbuggyMatches.test(expr)&&!rbuggyQSA.test(expr)){try{var ret=matches.call(elem,expr);if(ret||disconnectedMatch||elem.document&&elem.document.nodeType!==11){return ret}}catch(e){}}return Sizzle(expr,null,null,[elem]).length>0}}})()}Expr.pseudos.nth=Expr.pseudos.eq;function setFilters(){}Expr.filters=setFilters.prototype=Expr.pseudos;Expr.setFilters=new setFilters();Sizzle.attr=jQuery.attr;jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.pseudos;jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains})(window);var runtil=/Until$/,rparentsprev=/^(?:parents|prev(?:Until|All))/,isSimple=/^.[^:#\[\.,]*$/,rneedsContext=jQuery.expr.match.needsContext,guaranteedUnique={children:true,contents:true,next:true,prev:true};jQuery.fn.extend({find:function(selector){var i,l,length,n,r,ret,self=this;if(typeof selector!=="string"){return jQuery(selector).filter(function(){for(i=0,l=self.length;i<l;i++){if(jQuery.contains(self[i],this)){return true}}})}ret=this.pushStack("","find",selector);for(i=0,l=this.length;i<l;i++){length=ret.length;jQuery.find(selector,this[i],ret);if(i>0){for(n=length;n<ret.length;n++){for(r=0;r<length;r++){if(ret[r]===ret[n]){ret.splice(n--,1);break}}}}}return ret},has:function(target){var i,targets=jQuery(target,this),len=targets.length;return this.filter(function(){for(i=0;i<len;i++){if(jQuery.contains(this,targets[i])){return true}}})},not:function(selector){return this.pushStack(winnow(this,selector,false),"not",selector)},filter:function(selector){return this.pushStack(winnow(this,selector,true),"filter",selector)},is:function(selector){return !!selector&&(typeof selector==="string"?rneedsContext.test(selector)?jQuery(selector,this.context).index(this[0])>=0:jQuery.filter(selector,this).length>0:this.filter(selector).length>0)},closest:function(selectors,context){var cur,i=0,l=this.length,ret=[],pos=rneedsContext.test(selectors)||typeof selectors!=="string"?jQuery(selectors,context||this.context):0;for(;i<l;i++){cur=this[i];while(cur&&cur.ownerDocument&&cur!==context&&cur.nodeType!==11){if(pos?pos.index(cur)>-1:jQuery.find.matchesSelector(cur,selectors)){ret.push(cur);break}cur=cur.parentNode}}ret=ret.length>1?jQuery.unique(ret):ret;return this.pushStack(ret,"closest",selectors)},index:function(elem){if(!elem){return(this[0]&&this[0].parentNode)?this.prevAll().length:-1}if(typeof elem==="string"){return jQuery.inArray(this[0],jQuery(elem))}return jQuery.inArray(elem.jquery?elem[0]:elem,this)},add:function(selector,context){var set=typeof selector==="string"?jQuery(selector,context):jQuery.makeArray(selector&&selector.nodeType?[selector]:selector),all=jQuery.merge(this.get(),set);return this.pushStack(isDisconnected(set[0])||isDisconnected(all[0])?all:jQuery.unique(all))},addBack:function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector))}});jQuery.fn.andSelf=jQuery.fn.addBack;function isDisconnected(node){return !node||!node.parentNode||node.parentNode.nodeType===11}function sibling(cur,dir){do{cur=cur[dir]}while(cur&&cur.nodeType!==1);return cur}jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);if(!runtil.test(name)){selector=until}if(selector&&typeof selector==="string"){ret=jQuery.filter(selector,ret)}ret=this.length>1&&!guaranteedUnique[name]?jQuery.unique(ret):ret;if(this.length>1&&rparentsprev.test(name)){ret=ret.reverse()}return this.pushStack(ret,name,core_slice.call(arguments).join(","))}});jQuery.extend({filter:function(expr,elems,not){if(not){expr=":not("+expr+")"}return elems.length===1?jQuery.find.matchesSelector(elems[0],expr)?[elems[0]]:[]:jQuery.find.matches(expr,elems)},dir:function(elem,dir,until){var matched=[],cur=elem[dir];while(cur&&cur.nodeType!==9&&(until===undefined||cur.nodeType!==1||!jQuery(cur).is(until))){if(cur.nodeType===1){matched.push(cur)}cur=cur[dir]}return matched},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){r.push(n)}}return r}});function winnow(elements,qualifier,keep){qualifier=qualifier||0;if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){var retVal=!!qualifier.call(elem,i,elem);return retVal===keep})}else{if(qualifier.nodeType){return jQuery.grep(elements,function(elem,i){return(elem===qualifier)===keep})}else{if(typeof qualifier==="string"){var filtered=jQuery.grep(elements,function(elem){return elem.nodeType===1});if(isSimple.test(qualifier)){return jQuery.filter(qualifier,filtered,!keep)}else{qualifier=jQuery.filter(qualifier,filtered)}}}}return jQuery.grep(elements,function(elem,i){return(jQuery.inArray(elem,qualifier)>=0)===keep})}function createSafeFragment(document){var list=nodeNames.split("|"),safeFrag=document.createDocumentFragment();if(safeFrag.createElement){while(list.length){safeFrag.createElement(list.pop())}}return safeFrag}var nodeNames="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rinlinejQuery=/ jQuery\d+="(?:null|\d+)"/g,rleadingWhitespace=/^\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rnocache=/<(?:script|object|embed|option|style)/i,rnoshimcache=new RegExp("<(?:"+nodeNames+")[\\s/>]","i"),rcheckableType=/^(?:checkbox|radio)$/,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/\/(java|ecma)script/i,rcleanScript=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},safeFragment=createSafeFragment(document),fragmentDiv=safeFragment.appendChild(document.createElement("div"));wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;if(!jQuery.support.htmlSerialize){wrapMap._default=[1,"X<div>","</div>"]}jQuery.fn.extend({text:function(value){return jQuery.access(this,function(value){return value===undefined?jQuery.text(this):this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(value))},null,value,arguments.length)},wrapAll:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))})}if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0])}wrap.map(function(){var elem=this;while(elem.firstChild&&elem.firstChild.nodeType===1){elem=elem.firstChild}return elem}).append(this)}return this},wrapInner:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i))})}return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html)}else{self.append(html)}})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1||this.nodeType===11){this.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1||this.nodeType===11){this.insertBefore(elem,this.firstChild)}})},before:function(){if(!isDisconnected(this[0])){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this)})}if(arguments.length){var set=jQuery.clean(arguments);return this.pushStack(jQuery.merge(set,this),"before",this.selector)}},after:function(){if(!isDisconnected(this[0])){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this.nextSibling)})}if(arguments.length){var set=jQuery.clean(arguments);return this.pushStack(jQuery.merge(this,set),"after",this.selector)}},remove:function(selector,keepData){var elem,i=0;for(;(elem=this[i])!=null;i++){if(!selector||jQuery.filter(selector,[elem]).length){if(!keepData&&elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"));jQuery.cleanData([elem])}if(elem.parentNode){elem.parentNode.removeChild(elem)}}}return this},empty:function(){var elem,i=0;for(;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"))}while(elem.firstChild){elem.removeChild(elem.firstChild)}}return this},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?false:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return jQuery.access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined){return elem.nodeType===1?elem.innerHTML.replace(rinlinejQuery,""):undefined}if(typeof value==="string"&&!rnoInnerhtml.test(value)&&(jQuery.support.htmlSerialize||!rnoshimcache.test(value))&&(jQuery.support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;i<l;i++){elem=this[i]||{};if(elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"));elem.innerHTML=value}}elem=0}catch(e){}}if(elem){this.empty().append(value)}},null,value,arguments.length)},replaceWith:function(value){if(!isDisconnected(this[0])){if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this),old=self.html();self.replaceWith(value.call(this,i,old))})}if(typeof value!=="string"){value=jQuery(value).detach()}return this.each(function(){var next=this.nextSibling,parent=this.parentNode;jQuery(this).remove();if(next){jQuery(next).before(value)}else{jQuery(parent).append(value)}})}return this.length?this.pushStack(jQuery(jQuery.isFunction(value)?value():value),"replaceWith",value):this},detach:function(selector){return this.remove(selector,true)},domManip:function(args,table,callback){args=[].concat.apply([],args);var results,first,fragment,iNoClone,i=0,value=args[0],scripts=[],l=this.length;if(!jQuery.support.checkClone&&l>1&&typeof value==="string"&&rchecked.test(value)){return this.each(function(){jQuery(this).domManip(args,table,callback)})}if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this);args[0]=value.call(this,i,table?self.html():undefined);self.domManip(args,table,callback)})}if(this[0]){results=jQuery.buildFragment(args,this,scripts);fragment=results.fragment;first=fragment.firstChild;if(fragment.childNodes.length===1){fragment=first}if(first){table=table&&jQuery.nodeName(first,"tr");for(iNoClone=results.cacheable||l-1;i<l;i++){callback.call(table&&jQuery.nodeName(this[i],"table")?findOrAppend(this[i],"tbody"):this[i],i===iNoClone?fragment:jQuery.clone(fragment,true,true))}}fragment=first=null;if(scripts.length){jQuery.each(scripts,function(i,elem){if(elem.src){if(jQuery.ajax){jQuery.ajax({url:elem.src,type:"GET",dataType:"script",async:false,global:false,"throws":true})}else{jQuery.error("no ajax")}}else{jQuery.globalEval((elem.text||elem.textContent||elem.innerHTML||"").replace(rcleanScript,""))}if(elem.parentNode){elem.parentNode.removeChild(elem)}})}}return this}});function findOrAppend(elem,tag){return elem.getElementsByTagName(tag)[0]||elem.appendChild(elem.ownerDocument.createElement(tag))}function cloneCopyEvent(src,dest){if(dest.nodeType!==1||!jQuery.hasData(src)){return}var type,i,l,oldData=jQuery._data(src),curData=jQuery._data(dest,oldData),events=oldData.events;if(events){delete curData.handle;curData.events={};for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type,events[type][i])}}}if(curData.data){curData.data=jQuery.extend({},curData.data)}}function cloneFixAttributes(src,dest){var nodeName;if(dest.nodeType!==1){return}if(dest.clearAttributes){dest.clearAttributes()}if(dest.mergeAttributes){dest.mergeAttributes(src)}nodeName=dest.nodeName.toLowerCase();if(nodeName==="object"){if(dest.parentNode){dest.outerHTML=src.outerHTML}if(jQuery.support.html5Clone&&(src.innerHTML&&!jQuery.trim(dest.innerHTML))){dest.innerHTML=src.innerHTML}}else{if(nodeName==="input"&&rcheckableType.test(src.type)){dest.defaultChecked=dest.checked=src.checked;if(dest.value!==src.value){dest.value=src.value}}else{if(nodeName==="option"){dest.selected=src.defaultSelected}else{if(nodeName==="input"||nodeName==="textarea"){dest.defaultValue=src.defaultValue}else{if(nodeName==="script"&&dest.text!==src.text){dest.text=src.text}}}}}dest.removeAttribute(jQuery.expando)}jQuery.buildFragment=function(args,context,scripts){var fragment,cacheable,cachehit,first=args[0];context=context||document;context=!context.nodeType&&context[0]||context;context=context.ownerDocument||context;if(args.length===1&&typeof first==="string"&&first.length<512&&context===document&&first.charAt(0)==="<"&&!rnocache.test(first)&&(jQuery.support.checkClone||!rchecked.test(first))&&(jQuery.support.html5Clone||!rnoshimcache.test(first))){cacheable=true;fragment=jQuery.fragments[first];cachehit=fragment!==undefined}if(!fragment){fragment=context.createDocumentFragment();jQuery.clean(args,context,fragment,scripts);if(cacheable){jQuery.fragments[first]=cachehit&&fragment}}return{fragment:fragment,cacheable:cacheable}};jQuery.fragments={};jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,i=0,ret=[],insert=jQuery(selector),l=insert.length,parent=this.length===1&&this[0].parentNode;if((parent==null||parent&&parent.nodeType===11&&parent.childNodes.length===1)&&l===1){insert[original](this[0]);return this}else{for(;i<l;i++){elems=(i>0?this.clone(true):this).get();jQuery(insert[i])[original](elems);ret=ret.concat(elems)}return this.pushStack(ret,name,insert.selector)}}});function getAll(elem){if(typeof elem.getElementsByTagName!=="undefined"){return elem.getElementsByTagName("*")}else{if(typeof elem.querySelectorAll!=="undefined"){return elem.querySelectorAll("*")}else{return[]}}}function fixDefaultChecked(elem){if(rcheckableType.test(elem.type)){elem.defaultChecked=elem.checked}}jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var srcElements,destElements,i,clone;if(jQuery.support.html5Clone||jQuery.isXMLDoc(elem)||!rnoshimcache.test("<"+elem.nodeName+">")){clone=elem.cloneNode(true)}else{fragmentDiv.innerHTML=elem.outerHTML;fragmentDiv.removeChild(clone=fragmentDiv.firstChild)}if((!jQuery.support.noCloneEvent||!jQuery.support.noCloneChecked)&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){cloneFixAttributes(elem,clone);srcElements=getAll(elem);destElements=getAll(clone);for(i=0;srcElements[i];++i){if(destElements[i]){cloneFixAttributes(srcElements[i],destElements[i])}}}if(dataAndEvents){cloneCopyEvent(elem,clone);if(deepDataAndEvents){srcElements=getAll(elem);destElements=getAll(clone);for(i=0;srcElements[i];++i){cloneCopyEvent(srcElements[i],destElements[i])}}}srcElements=destElements=null;return clone},clean:function(elems,context,fragment,scripts){var i,j,elem,tag,wrap,depth,div,hasBody,tbody,len,handleScript,jsTags,safe=context===document&&safeFragment,ret=[];if(!context||typeof context.createDocumentFragment==="undefined"){context=document}for(i=0;(elem=elems[i])!=null;i++){if(typeof elem==="number"){elem+=""}if(!elem){continue}if(typeof elem==="string"){if(!rhtml.test(elem)){elem=context.createTextNode(elem)}else{safe=safe||createSafeFragment(context);div=context.createElement("div");safe.appendChild(div);elem=elem.replace(rxhtmlTag,"<$1></$2>");tag=(rtagName.exec(elem)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;depth=wrap[0];div.innerHTML=wrap[1]+elem+wrap[2];while(depth--){div=div.lastChild}if(!jQuery.support.tbody){hasBody=rtbody.test(elem);tbody=tag==="table"&&!hasBody?div.firstChild&&div.firstChild.childNodes:wrap[1]==="<table>"&&!hasBody?div.childNodes:[];for(j=tbody.length-1;j>=0;--j){if(jQuery.nodeName(tbody[j],"tbody")&&!tbody[j].childNodes.length){tbody[j].parentNode.removeChild(tbody[j])}}}if(!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(elem)){div.insertBefore(context.createTextNode(rleadingWhitespace.exec(elem)[0]),div.firstChild)}elem=div.childNodes;div.parentNode.removeChild(div)}}if(elem.nodeType){ret.push(elem)}else{jQuery.merge(ret,elem)}}if(div){elem=div=safe=null}if(!jQuery.support.appendChecked){for(i=0;(elem=ret[i])!=null;i++){if(jQuery.nodeName(elem,"input")){fixDefaultChecked(elem)}else{if(typeof elem.getElementsByTagName!=="undefined"){jQuery.grep(elem.getElementsByTagName("input"),fixDefaultChecked)}}}}if(fragment){handleScript=function(elem){if(!elem.type||rscriptType.test(elem.type)){return scripts?scripts.push(elem.parentNode?elem.parentNode.removeChild(elem):elem):fragment.appendChild(elem)}};for(i=0;(elem=ret[i])!=null;i++){if(!(jQuery.nodeName(elem,"script")&&handleScript(elem))){fragment.appendChild(elem);if(typeof elem.getElementsByTagName!=="undefined"){jsTags=jQuery.grep(jQuery.merge([],elem.getElementsByTagName("script")),handleScript);ret.splice.apply(ret,[i+1,0].concat(jsTags));i+=jsTags.length}}}}return ret},cleanData:function(elems,acceptData){var data,id,elem,type,i=0,internalKey=jQuery.expando,cache=jQuery.cache,deleteExpando=jQuery.support.deleteExpando,special=jQuery.event.special;for(;(elem=elems[i])!=null;i++){if(acceptData||jQuery.acceptData(elem)){id=elem[internalKey];data=id&&cache[id];if(data){if(data.events){for(type in data.events){if(special[type]){jQuery.event.remove(elem,type)}else{jQuery.removeEvent(elem,type,data.handle)}}}if(cache[id]){delete cache[id];if(deleteExpando){delete elem[internalKey]}else{if(elem.removeAttribute){elem.removeAttribute(internalKey)}else{elem[internalKey]=null}}jQuery.deletedIds.push(id)}}}}}});(function(){var matched,browser;jQuery.uaMatch=function(ua){ua=ua.toLowerCase();var match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"}};matched=jQuery.uaMatch(navigator.userAgent);browser={};if(matched.browser){browser[matched.browser]=true;browser.version=matched.version}if(browser.chrome){browser.webkit=true}else{if(browser.webkit){browser.safari=true}}jQuery.browser=browser;jQuery.sub=function(){function jQuerySub(selector,context){return new jQuerySub.fn.init(selector,context)}jQuery.extend(true,jQuerySub,this);jQuerySub.superclass=this;jQuerySub.fn=jQuerySub.prototype=this();jQuerySub.fn.constructor=jQuerySub;jQuerySub.sub=this.sub;jQuerySub.fn.init=function init(selector,context){if(context&&context instanceof jQuery&&!(context instanceof jQuerySub)){context=jQuerySub(context)}return jQuery.fn.init.call(this,selector,context,rootjQuerySub)};jQuerySub.fn.init.prototype=jQuerySub.fn;var rootjQuerySub=jQuerySub(document);return jQuerySub}})();var curCSS,iframe,iframeDoc,ralpha=/alpha\([^)]*\)/i,ropacity=/opacity=([^)]*)/,rposition=/^(top|right|bottom|left)$/,rdisplayswap=/^(none|table(?!-c[ea]).+)/,rmargin=/^margin/,rnumsplit=new RegExp("^("+core_pnum+")(.*)$","i"),rnumnonpx=new RegExp("^("+core_pnum+")(?!px)[a-z%]+$","i"),rrelNum=new RegExp("^([-+])=("+core_pnum+")","i"),elemdisplay={BODY:"block"},cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:0,fontWeight:400},cssExpand=["Top","Right","Bottom","Left"],cssPrefixes=["Webkit","O","Moz","ms"],eventsToggle=jQuery.fn.toggle;function vendorPropName(style,name){if(name in style){return name}var capName=name.charAt(0).toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;while(i--){name=cssPrefixes[i]+capName;if(name in style){return name}}return origName}function isHidden(elem,el){elem=el||elem;return jQuery.css(elem,"display")==="none"||!jQuery.contains(elem.ownerDocument,elem)}function showHide(elements,show){var elem,display,values=[],index=0,length=elements.length;for(;index<length;index++){elem=elements[index];if(!elem.style){continue}values[index]=jQuery._data(elem,"olddisplay");if(show){if(!values[index]&&elem.style.display==="none"){elem.style.display=""}if(elem.style.display===""&&isHidden(elem)){values[index]=jQuery._data(elem,"olddisplay",css_defaultDisplay(elem.nodeName))}}else{display=curCSS(elem,"display");if(!values[index]&&display!=="none"){jQuery._data(elem,"olddisplay",display)}}}for(index=0;index<length;index++){elem=elements[index];if(!elem.style){continue}if(!show||elem.style.display==="none"||elem.style.display===""){elem.style.display=show?values[index]||"":"none"}}return elements}jQuery.fn.extend({css:function(name,value){return jQuery.access(this,function(elem,name,value){return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,true)},hide:function(){return showHide(this)},toggle:function(state,fn2){var bool=typeof state==="boolean";if(jQuery.isFunction(state)&&jQuery.isFunction(fn2)){return eventsToggle.apply(this,arguments)}return this.each(function(){if(bool?state:isHidden(this)){jQuery(this).show()}else{jQuery(this).hide()}})}});jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return ret===""?"1":ret}}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":jQuery.support.cssFloat?"cssFloat":"styleFloat"},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return}var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(value!==undefined){type=typeof value;if(type==="string"&&(ret=rrelNum.exec(value))){value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name));type="number"}if(value==null||type==="number"&&isNaN(value)){return}if(type==="number"&&!jQuery.cssNumber[origName]){value+="px"}if(!hooks||!("set" in hooks)||(value=hooks.set(elem,value,extra))!==undefined){try{style[name]=value}catch(e){}}}else{if(hooks&&"get" in hooks&&(ret=hooks.get(elem,false,extra))!==undefined){return ret}return style[name]}},css:function(elem,name,numeric,extra){var val,num,hooks,origName=jQuery.camelCase(name);name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(hooks&&"get" in hooks){val=hooks.get(elem,true,extra)}if(val===undefined){val=curCSS(elem,name)}if(val==="normal"&&name in cssNormalTransform){val=cssNormalTransform[name]}if(numeric||extra!==undefined){num=parseFloat(val);return numeric||jQuery.isNumeric(num)?num||0:val}return val},swap:function(elem,options,callback){var ret,name,old={};for(name in options){old[name]=elem.style[name];elem.style[name]=options[name]}ret=callback.call(elem);for(name in options){elem.style[name]=old[name]}return ret}});if(window.getComputedStyle){curCSS=function(elem,name){var ret,width,minWidth,maxWidth,computed=window.getComputedStyle(elem,null),style=elem.style;if(computed){ret=computed.getPropertyValue(name)||computed[name];if(ret===""&&!jQuery.contains(elem.ownerDocument,elem)){ret=jQuery.style(elem,name)}if(rnumnonpx.test(ret)&&rmargin.test(name)){width=style.width;minWidth=style.minWidth;maxWidth=style.maxWidth;style.minWidth=style.maxWidth=style.width=ret;ret=computed.width;style.width=width;style.minWidth=minWidth;style.maxWidth=maxWidth}}return ret}}else{if(document.documentElement.currentStyle){curCSS=function(elem,name){var left,rsLeft,ret=elem.currentStyle&&elem.currentStyle[name],style=elem.style;if(ret==null&&style&&style[name]){ret=style[name]}if(rnumnonpx.test(ret)&&!rposition.test(name)){left=style.left;rsLeft=elem.runtimeStyle&&elem.runtimeStyle.left;if(rsLeft){elem.runtimeStyle.left=elem.currentStyle.left}style.left=name==="fontSize"?"1em":ret;ret=style.pixelLeft+"px";style.left=left;if(rsLeft){elem.runtimeStyle.left=rsLeft}}return ret===""?"auto":ret}}}function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox){var i=extra===(isBorderBox?"border":"content")?4:name==="width"?1:0,val=0;for(;i<4;i+=2){if(extra==="margin"){val+=jQuery.css(elem,extra+cssExpand[i],true)}if(isBorderBox){if(extra==="content"){val-=parseFloat(curCSS(elem,"padding"+cssExpand[i]))||0}if(extra!=="margin"){val-=parseFloat(curCSS(elem,"border"+cssExpand[i]+"Width"))||0}}else{val+=parseFloat(curCSS(elem,"padding"+cssExpand[i]))||0;if(extra!=="padding"){val+=parseFloat(curCSS(elem,"border"+cssExpand[i]+"Width"))||0}}}return val}function getWidthOrHeight(elem,name,extra){var val=name==="width"?elem.offsetWidth:elem.offsetHeight,valueIsBorderBox=true,isBorderBox=jQuery.support.boxSizing&&jQuery.css(elem,"boxSizing")==="border-box";if(val<=0||val==null){val=curCSS(elem,name);if(val<0||val==null){val=elem.style[name]}if(rnumnonpx.test(val)){return val}valueIsBorderBox=isBorderBox&&(jQuery.support.boxSizingReliable||val===elem.style[name]);val=parseFloat(val)||0}return(val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox))+"px"}function css_defaultDisplay(nodeName){if(elemdisplay[nodeName]){return elemdisplay[nodeName]}var elem=jQuery("<"+nodeName+">").appendTo(document.body),display=elem.css("display");elem.remove();if(display==="none"||display===""){iframe=document.body.appendChild(iframe||jQuery.extend(document.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!iframeDoc||!iframe.createElement){iframeDoc=(iframe.contentWindow||iframe.contentDocument).document;iframeDoc.write("<!doctype html><html><body>");iframeDoc.close()}elem=iframeDoc.body.appendChild(iframeDoc.createElement(nodeName));display=curCSS(elem,"display");document.body.removeChild(iframe)}elemdisplay[nodeName]=display;return display}jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed){if(elem.offsetWidth===0&&rdisplayswap.test(curCSS(elem,"display"))){return jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)})}else{return getWidthOrHeight(elem,name,extra)}}},set:function(elem,value,extra){return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,jQuery.support.boxSizing&&jQuery.css(elem,"boxSizing")==="border-box"):0)}}});if(!jQuery.support.opacity){jQuery.cssHooks.opacity={get:function(elem,computed){return ropacity.test((computed&&elem.currentStyle?elem.currentStyle.filter:elem.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":computed?"1":""},set:function(elem,value){var style=elem.style,currentStyle=elem.currentStyle,opacity=jQuery.isNumeric(value)?"alpha(opacity="+value*100+")":"",filter=currentStyle&&currentStyle.filter||style.filter||"";style.zoom=1;if(value>=1&&jQuery.trim(filter.replace(ralpha,""))===""&&style.removeAttribute){style.removeAttribute("filter");if(currentStyle&&!currentStyle.filter){return}}style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):filter+" "+opacity}}}jQuery(function(){if(!jQuery.support.reliableMarginRight){jQuery.cssHooks.marginRight={get:function(elem,computed){return jQuery.swap(elem,{display:"inline-block"},function(){if(computed){return curCSS(elem,"marginRight")}})}}}if(!jQuery.support.pixelPosition&&jQuery.fn.position){jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]={get:function(elem,computed){if(computed){var ret=curCSS(elem,prop);return rnumnonpx.test(ret)?jQuery(elem).position()[prop]+"px":ret}}}})}});if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.hidden=function(elem){return(elem.offsetWidth===0&&elem.offsetHeight===0)||(!jQuery.support.reliableHiddenOffsets&&((elem.style&&elem.style.display)||curCSS(elem,"display"))==="none")};jQuery.expr.filters.visible=function(elem){return !jQuery.expr.filters.hidden(elem)}}jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){var i,parts=typeof value==="string"?value.split(" "):[value],expanded={};for(i=0;i<4;i++){expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0]}return expanded}};if(!rmargin.test(prefix)){jQuery.cssHooks[prefix+suffix].set=setPositiveNumber}});var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rinput=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,rselectTextarea=/^(?:select|textarea)/i;jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||rselectTextarea.test(this.nodeName)||rinput.test(this.type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val,i){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}});jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():(value==null?"":value);s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(traditional===undefined){traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional}if(jQuery.isArray(a)||(a.jquery&&!jQuery.isPlainObject(a))){jQuery.each(a,function(){add(this.name,this.value)})}else{for(prefix in a){buildParams(prefix,a[prefix],traditional,add)}}return s.join("&").replace(r20,"+")};function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v)}else{buildParams(prefix+"["+(typeof v==="object"?i:"")+"]",v,traditional,add)}})}else{if(!traditional&&jQuery.type(obj)==="object"){for(name in obj){buildParams(prefix+"["+name+"]",obj[name],traditional,add)}}else{add(prefix,obj)}}}var ajaxLocParts,ajaxLocation,rhash=/#.*$/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,rlocalProtocol=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rquery=/\?/,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,rts=/([?&])_=[^&]*/,rurl=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,_load=jQuery.fn.load,prefilters={},transports={},allTypes=["*/"]+["*"];try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a");ajaxLocation.href="";ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;dataTypeExpression="*"}var dataType,list,placeBefore,dataTypes=dataTypeExpression.toLowerCase().split(core_rspace),i=0,length=dataTypes.length;if(jQuery.isFunction(func)){for(;i<length;i++){dataType=dataTypes[i];placeBefore=/^\+/.test(dataType);if(placeBefore){dataType=dataType.substr(1)||"*"}list=structure[dataType]=structure[dataType]||[];list[placeBefore?"unshift":"push"](func)}}}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,dataType,inspected){dataType=dataType||options.dataTypes[0];inspected=inspected||{};inspected[dataType]=true;var selection,list=structure[dataType],i=0,length=list?list.length:0,executeOnly=(structure===prefilters);for(;i<length&&(executeOnly||!selection);i++){selection=list[i](options,originalOptions,jqXHR);if(typeof selection==="string"){if(!executeOnly||inspected[selection]){selection=undefined}else{options.dataTypes.unshift(selection);selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,selection,inspected)}}}if((executeOnly||!selection)&&!inspected["*"]){selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,"*",inspected)}return selection}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==undefined){(flatOptions[key]?target:(deep||(deep={})))[key]=src[key]}}if(deep){jQuery.extend(true,target,deep)}}jQuery.fn.load=function(url,params,callback){if(typeof url!=="string"&&_load){return _load.apply(this,arguments)}if(!this.length){return this}var selector,type,response,self=this,off=url.indexOf(" ");if(off>=0){selector=url.slice(off,url.length);url=url.slice(0,off)}if(jQuery.isFunction(params)){callback=params;params=undefined}else{if(params&&typeof params==="object"){type="POST"}}jQuery.ajax({url:url,type:type,dataType:"html",data:params,complete:function(jqXHR,status){if(callback){self.each(callback,response||[jqXHR.responseText,status,jqXHR])}}}).done(function(responseText){response=arguments;self.html(selector?jQuery("<div>").append(responseText.replace(rscript,"")).find(selector):responseText)});return this};jQuery.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(i,o){jQuery.fn[o]=function(f){return this.on(o,f)}});jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=undefined}return jQuery.ajax({type:method,url:url,data:data,success:callback,dataType:type})}});jQuery.extend({getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},ajaxSetup:function(target,settings){if(settings){ajaxExtend(target,jQuery.ajaxSettings)}else{settings=target;target=jQuery.ajaxSettings}ajaxExtend(target,settings);return target},ajaxSettings:{url:ajaxLocation,isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":allTypes},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":true,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if(typeof url==="object"){options=url;url=undefined}options=options||{};var ifModifiedKey,responseHeadersString,responseHeaders,transport,timeoutTimer,parts,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=callbackContext!==s&&(callbackContext.nodeType||callbackContext instanceof jQuery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,setRequestHeader:function(name,value){if(!state){var lname=name.toLowerCase();name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;requestHeaders[name]=value}return this},getAllResponseHeaders:function(){return state===2?responseHeadersString:null},getResponseHeader:function(key){var match;if(state===2){if(!responseHeaders){responseHeaders={};while((match=rheaders.exec(responseHeadersString))){responseHeaders[match[1].toLowerCase()]=match[2]}}match=responseHeaders[key.toLowerCase()]}return match===undefined?null:match},overrideMimeType:function(type){if(!state){s.mimeType=type}return this},abort:function(statusText){statusText=statusText||strAbort;if(transport){transport.abort(statusText)}done(0,statusText);return this}};function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;if(state===2){return}state=2;if(timeoutTimer){clearTimeout(timeoutTimer)}transport=undefined;responseHeadersString=headers||"";jqXHR.readyState=status>0?4:0;if(responses){response=ajaxHandleResponses(s,jqXHR,responses)}if(status>=200&&status<300||status===304){if(s.ifModified){modified=jqXHR.getResponseHeader("Last-Modified");if(modified){jQuery.lastModified[ifModifiedKey]=modified}modified=jqXHR.getResponseHeader("Etag");if(modified){jQuery.etag[ifModifiedKey]=modified}}if(status===304){statusText="notmodified";isSuccess=true}else{isSuccess=ajaxConvert(s,response);statusText=isSuccess.state;success=isSuccess.data;error=isSuccess.error;isSuccess=!error}}else{error=statusText;if(!statusText||status){statusText="error";if(status<0){status=0}}}jqXHR.status=status;jqXHR.statusText=(nativeStatusText||statusText)+"";if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR])}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error])}jqXHR.statusCode(statusCode);statusCode=undefined;if(fireGlobals){globalEventContext.trigger("ajax"+(isSuccess?"Success":"Error"),[jqXHR,s,isSuccess?success:error])}completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);if(!(--jQuery.active)){jQuery.event.trigger("ajaxStop")}}}deferred.promise(jqXHR);jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;jqXHR.complete=completeDeferred.add;jqXHR.statusCode=function(map){if(map){var tmp;if(state<2){for(tmp in map){statusCode[tmp]=[statusCode[tmp],map[tmp]]}}else{tmp=map[jqXHR.status];jqXHR.always(tmp)}}return this};s.url=((url||s.url)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//");s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().split(core_rspace);if(s.crossDomain==null){parts=rurl.exec(s.url.toLowerCase());s.crossDomain=!!(parts&&(parts[1]!==ajaxLocParts[1]||parts[2]!==ajaxLocParts[2]||(parts[3]||(parts[1]==="http:"?80:443))!=(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?80:443))))}if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional)}inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(state===2){return jqXHR}fireGlobals=s.global;s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);if(fireGlobals&&jQuery.active++===0){jQuery.event.trigger("ajaxStart")}if(!s.hasContent){if(s.data){s.url+=(rquery.test(s.url)?"&":"?")+s.data;delete s.data}ifModifiedKey=s.url;if(s.cache===false){var ts=jQuery.now(),ret=s.url.replace(rts,"$1_="+ts);s.url=ret+((ret===s.url)?(rquery.test(s.url)?"&":"?")+"_="+ts:"")}}if(s.data&&s.hasContent&&s.contentType!==false||options.contentType){jqXHR.setRequestHeader("Content-Type",s.contentType)}if(s.ifModified){ifModifiedKey=ifModifiedKey||s.url;if(jQuery.lastModified[ifModifiedKey]){jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[ifModifiedKey])}if(jQuery.etag[ifModifiedKey]){jqXHR.setRequestHeader("If-None-Match",jQuery.etag[ifModifiedKey])}}jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i])}if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||state===2)){return jqXHR.abort()}strAbort="abort";for(i in {success:1,error:1,complete:1}){jqXHR[i](s[i])}transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,"No Transport")}else{jqXHR.readyState=1;if(fireGlobals){globalEventContext.trigger("ajaxSend",[jqXHR,s])}if(s.async&&s.timeout>0){timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout)}try{state=1;transport.send(requestHeaders,done)}catch(e){if(state<2){done(-1,e)}else{throw e}}}return jqXHR},active:0,lastModified:{},etag:{}});function ajaxHandleResponses(s,jqXHR,responses){var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes,responseFields=s.responseFields;for(type in responseFields){if(type in responses){jqXHR[responseFields[type]]=responses[type]}}while(dataTypes[0]==="*"){dataTypes.shift();if(ct===undefined){ct=s.mimeType||jqXHR.getResponseHeader("content-type")}}if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}}}if(dataTypes[0] in responses){finalDataType=dataTypes[0]}else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}if(!firstDataType){firstDataType=type}}finalDataType=finalDataType||firstDataType}if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType)}return responses[finalDataType]}}function ajaxConvert(s,response){var conv,conv2,current,tmp,dataTypes=s.dataTypes.slice(),prev=dataTypes[0],converters={},i=0;if(s.dataFilter){response=s.dataFilter(response,s.dataType)}if(dataTypes[1]){for(conv in s.converters){converters[conv.toLowerCase()]=s.converters[conv]}}for(;(current=dataTypes[++i]);){if(current!=="*"){if(prev!=="*"&&prev!==current){conv=converters[prev+" "+current]||converters["* "+current];if(!conv){for(conv2 in converters){tmp=conv2.split(" ");if(tmp[1]===current){conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]];if(conv){if(conv===true){conv=converters[conv2]}else{if(converters[conv2]!==true){current=tmp[0];dataTypes.splice(i--,0,current)}}break}}}}if(conv!==true){if(conv&&s["throws"]){response=conv(response)}else{try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}}}prev=current}}return{state:"success",data:response}}var oldCallbacks=[],rquestion=/\?/,rjsonp=/(=)\?(?=&|$)|\?\?/,nonce=jQuery.now();jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||(jQuery.expando+"_"+(nonce++));this[callback]=true;return callback}});jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,data=s.data,url=s.url,hasCallback=s.jsonp!==false,replaceInUrl=hasCallback&&rjsonp.test(url),replaceInData=hasCallback&&!replaceInUrl&&typeof data==="string"&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(data);if(s.dataTypes[0]==="jsonp"||replaceInUrl||replaceInData){callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;overwritten=window[callbackName];if(replaceInUrl){s.url=url.replace(rjsonp,"$1"+callbackName)}else{if(replaceInData){s.data=data.replace(rjsonp,"$1"+callbackName)}else{if(hasCallback){s.url+=(rquestion.test(url)?"&":"?")+s.jsonp+"="+callbackName}}}s.converters["script json"]=function(){if(!responseContainer){jQuery.error(callbackName+" was not called")}return responseContainer[0]};s.dataTypes[0]="json";window[callbackName]=function(){responseContainer=arguments};jqXHR.always(function(){window[callbackName]=overwritten;if(s[callbackName]){s.jsonpCallback=originalSettings.jsonpCallback;oldCallbacks.push(callbackName)}if(responseContainer&&jQuery.isFunction(overwritten)){overwritten(responseContainer[0])}responseContainer=overwritten=undefined});return"script"}});jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(text){jQuery.globalEval(text);return text}}});jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined){s.cache=false}if(s.crossDomain){s.type="GET";s.global=false}});jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,head=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(_,callback){script=document.createElement("script");script.async="async";if(s.scriptCharset){script.charset=s.scriptCharset}script.src=s.url;script.onload=script.onreadystatechange=function(_,isAbort){if(isAbort||!script.readyState||/loaded|complete/.test(script.readyState)){script.onload=script.onreadystatechange=null;if(head&&script.parentNode){head.removeChild(script)}script=undefined;if(!isAbort){callback(200,"success")}}};head.insertBefore(script,head.firstChild)},abort:function(){if(script){script.onload(0,1)}}}}});var xhrCallbacks,xhrOnUnloadAbort=window.ActiveXObject?function(){for(var key in xhrCallbacks){xhrCallbacks[key](0,1)}}:false,xhrId=0;function createStandardXHR(){try{return new window.XMLHttpRequest()}catch(e){}}function createActiveXHR(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}jQuery.ajaxSettings.xhr=window.ActiveXObject?function(){return !this.isLocal&&createStandardXHR()||createActiveXHR()}:createStandardXHR;(function(xhr){jQuery.extend(jQuery.support,{ajax:!!xhr,cors:!!xhr&&("withCredentials" in xhr)})})(jQuery.ajaxSettings.xhr());if(jQuery.support.ajax){jQuery.ajaxTransport(function(s){if(!s.crossDomain||jQuery.support.cors){var callback;return{send:function(headers,complete){var handle,i,xhr=s.xhr();if(s.username){xhr.open(s.type,s.url,s.async,s.username,s.password)}else{xhr.open(s.type,s.url,s.async)}if(s.xhrFields){for(i in s.xhrFields){xhr[i]=s.xhrFields[i]}}if(s.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(s.mimeType)}if(!s.crossDomain&&!headers["X-Requested-With"]){headers["X-Requested-With"]="XMLHttpRequest"}try{for(i in headers){xhr.setRequestHeader(i,headers[i])}}catch(_){}xhr.send((s.hasContent&&s.data)||null);callback=function(_,isAbort){var status,statusText,responseHeaders,responses,xml;try{if(callback&&(isAbort||xhr.readyState===4)){callback=undefined;if(handle){xhr.onreadystatechange=jQuery.noop;if(xhrOnUnloadAbort){delete xhrCallbacks[handle]}}if(isAbort){if(xhr.readyState!==4){xhr.abort()}}else{status=xhr.status;responseHeaders=xhr.getAllResponseHeaders();responses={};xml=xhr.responseXML;if(xml&&xml.documentElement){responses.xml=xml}try{responses.text=xhr.responseText}catch(e){}try{statusText=xhr.statusText}catch(e){statusText=""}if(!status&&s.isLocal&&!s.crossDomain){status=responses.text?200:404}else{if(status===1223){status=204}}}}}catch(firefoxAccessException){if(!isAbort){complete(-1,firefoxAccessException)}}if(responses){complete(status,statusText,responses,responseHeaders)}};if(!s.async){callback()}else{if(xhr.readyState===4){setTimeout(callback,0)}else{handle=++xhrId;if(xhrOnUnloadAbort){if(!xhrCallbacks){xhrCallbacks={};jQuery(window).unload(xhrOnUnloadAbort)}xhrCallbacks[handle]=callback}xhr.onreadystatechange=callback}}},abort:function(){if(callback){callback(0,1)}}}}})}var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([-+])=|)("+core_pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,value){var end,unit,tween=this.createTween(prop,value),parts=rfxnum.exec(value),target=tween.cur(),start=+target||0,scale=1,maxIterations=20;if(parts){end=+parts[2];unit=parts[3]||(jQuery.cssNumber[prop]?"":"px");if(unit!=="px"&&start){start=jQuery.css(tween.elem,prop,true)||end||1;do{scale=scale||".5";start=start/scale;jQuery.style(tween.elem,prop,start+unit)}while(scale!==(scale=tween.cur()/target)&&scale!==1&&--maxIterations)}tween.unit=unit;tween.start=start;tween.end=parts[1]?start+(parts[1]+1)*end:end}return tween}]};function createFxNow(){setTimeout(function(){fxNow=undefined},0);return(fxNow=jQuery.now())}function createTweens(animation,props){jQuery.each(props,function(prop,value){var collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;for(;index<length;index++){if(collection[index].call(animation,prop,value)){return}}})}function Animation(elem,properties,options){var result,index=0,tweenerIndex=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;for(;index<length;index++){animation.tweens[index].run(percent)}deferred.notifyWith(elem,[animation,percent,remaining]);if(percent<1&&length){return remaining}else{deferred.resolveWith(elem,[animation]);return false}},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(true,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end,easing){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);animation.tweens.push(tween);return tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;for(;index<length;index++){animation.tweens[index].run(1)}if(gotoEnd){deferred.resolveWith(elem,[animation,gotoEnd])}else{deferred.rejectWith(elem,[animation,gotoEnd])}return this}}),props=animation.props;propFilter(props,animation.opts.specialEasing);for(;index<length;index++){result=animationPrefilters[index].call(animation,elem,props,animation.opts);if(result){return result}}createTweens(animation,props);if(jQuery.isFunction(animation.opts.start)){animation.opts.start.call(elem,animation)}jQuery.fx.timer(jQuery.extend(tick,{anim:animation,queue:animation.opts.queue,elem:elem}));return animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props){name=jQuery.camelCase(index);easing=specialEasing[name];value=props[index];if(jQuery.isArray(value)){easing=value[1];value=props[index]=value[0]}if(index!==name){props[name]=value;delete props[index]}hooks=jQuery.cssHooks[name];if(hooks&&"expand" in hooks){value=hooks.expand(value);delete props[name];for(index in value){if(!(index in props)){props[index]=value[index];specialEasing[index]=easing}}}else{specialEasing[name]=easing}}}jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){if(jQuery.isFunction(props)){callback=props;props=["*"]}else{props=props.split(" ")}var prop,index=0,length=props.length;for(;index<length;index++){prop=props[index];tweeners[prop]=tweeners[prop]||[];tweeners[prop].unshift(callback)}},prefilter:function(callback,prepend){if(prepend){animationPrefilters.unshift(callback)}else{animationPrefilters.push(callback)}}});function defaultPrefilter(elem,props,opts){var index,prop,value,length,dataShow,toggle,tween,hooks,oldfire,anim=this,style=elem.style,orig={},handled=[],hidden=elem.nodeType&&isHidden(elem);if(!opts.queue){hooks=jQuery._queueHooks(elem,"fx");if(hooks.unqueued==null){hooks.unqueued=0;oldfire=hooks.empty.fire;hooks.empty.fire=function(){if(!hooks.unqueued){oldfire()}}}hooks.unqueued++;anim.always(function(){anim.always(function(){hooks.unqueued--;if(!jQuery.queue(elem,"fx").length){hooks.empty.fire()}})})}if(elem.nodeType===1&&("height" in props||"width" in props)){opts.overflow=[style.overflow,style.overflowX,style.overflowY];if(jQuery.css(elem,"display")==="inline"&&jQuery.css(elem,"float")==="none"){if(!jQuery.support.inlineBlockNeedsLayout||css_defaultDisplay(elem.nodeName)==="inline"){style.display="inline-block"}else{style.zoom=1}}}if(opts.overflow){style.overflow="hidden";if(!jQuery.support.shrinkWrapBlocks){anim.done(function(){style.overflow=opts.overflow[0];style.overflowX=opts.overflow[1];style.overflowY=opts.overflow[2]})}}for(index in props){value=props[index];if(rfxtypes.exec(value)){delete props[index];toggle=toggle||value==="toggle";if(value===(hidden?"hide":"show")){continue}handled.push(index)}}length=handled.length;if(length){dataShow=jQuery._data(elem,"fxshow")||jQuery._data(elem,"fxshow",{});if("hidden" in dataShow){hidden=dataShow.hidden}if(toggle){dataShow.hidden=!hidden}if(hidden){jQuery(elem).show()}else{anim.done(function(){jQuery(elem).hide()})}anim.done(function(){var prop;jQuery.removeData(elem,"fxshow",true);for(prop in orig){jQuery.style(elem,prop,orig[prop])}});for(index=0;index<length;index++){prop=handled[index];tween=anim.createTween(prop,hidden?dataShow[prop]:0);orig[prop]=dataShow[prop]||jQuery.style(elem,prop);if(!(prop in dataShow)){dataShow[prop]=tween.start;if(hidden){tween.end=tween.start;tween.start=prop==="width"||prop==="height"?1:0}}}}}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}jQuery.Tween=Tween;Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem;this.prop=prop;this.easing=easing||"swing";this.options=options;this.start=this.now=this.cur();this.end=end;this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];if(this.options.duration){this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration)}else{this.pos=eased=percent}this.now=(this.end-this.start)*eased+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(hooks&&hooks.set){hooks.set(this)}else{Tween.propHooks._default.set(this)}return this}};Tween.prototype.init.prototype=Tween.prototype;Tween.propHooks={_default:{get:function(tween){var result;if(tween.elem[tween.prop]!=null&&(!tween.elem.style||tween.elem.style[tween.prop]==null)){return tween.elem[tween.prop]}result=jQuery.css(tween.elem,tween.prop,false,"");return !result||result==="auto"?0:result},set:function(tween){if(jQuery.fx.step[tween.prop]){jQuery.fx.step[tween.prop](tween)}else{if(tween.elem.style&&(tween.elem.style[jQuery.cssProps[tween.prop]]!=null||jQuery.cssHooks[tween.prop])){jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}else{tween.elem[tween.prop]=tween.now}}}}};Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){if(tween.elem.nodeType&&tween.elem.parentNode){tween.elem[tween.prop]=tween.now}}};jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return speed==null||typeof speed==="boolean"||(!i&&jQuery.isFunction(speed)&&jQuery.isFunction(easing))?cssFn.apply(this,arguments):this.animate(genFx(name,true),speed,easing,callback)}});jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);if(empty){anim.stop(true)}};return empty||optall.queue===false?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop;stop(gotoEnd)};if(typeof type!=="string"){gotoEnd=clearQueue;clearQueue=type;type=undefined}if(clearQueue&&type!==false){this.queue(type||"fx",[])}return this.each(function(){var dequeue=true,index=type!=null&&type+"queueHooks",timers=jQuery.timers,data=jQuery._data(this);if(index){if(data[index]&&data[index].stop){stopQueue(data[index])}}else{for(index in data){if(data[index]&&data[index].stop&&rrun.test(index)){stopQueue(data[index])}}}for(index=timers.length;index--;){if(timers[index].elem===this&&(type==null||timers[index].queue===type)){timers[index].anim.stop(gotoEnd);dequeue=false;timers.splice(index,1)}}if(dequeue||!gotoEnd){jQuery.dequeue(this,type)}})}});function genFx(type,includeWidth){var which,attrs={height:type},i=0;includeWidth=includeWidth?1:0;for(;i<4;i+=2-includeWidth){which=cssExpand[i];attrs["margin"+which]=attrs["padding"+which]=type}if(includeWidth){attrs.opacity=attrs.width=type}return attrs}jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}});jQuery.speed=function(speed,easing,fn){var opt=speed&&typeof speed==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(opt.queue==null||opt.queue===true){opt.queue="fx"}opt.old=opt.complete;opt.complete=function(){if(jQuery.isFunction(opt.old)){opt.old.call(this)}if(opt.queue){jQuery.dequeue(this,opt.queue)}};return opt};jQuery.easing={linear:function(p){return p},swing:function(p){return 0.5-Math.cos(p*Math.PI)/2}};jQuery.timers=[];jQuery.fx=Tween.prototype.init;jQuery.fx.tick=function(){var timer,timers=jQuery.timers,i=0;fxNow=jQuery.now();for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer){timers.splice(i--,1)}}if(!timers.length){jQuery.fx.stop()}fxNow=undefined};jQuery.fx.timer=function(timer){if(timer()&&jQuery.timers.push(timer)&&!timerId){timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval)}};jQuery.fx.interval=13;jQuery.fx.stop=function(){clearInterval(timerId);timerId=null};jQuery.fx.speeds={slow:600,fast:200,_default:400};jQuery.fx.step={};if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length}}var rroot=/^(?:body|html)$/i;jQuery.fn.offset=function(options){if(arguments.length){return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)})}var docElem,body,win,clientTop,clientLeft,scrollTop,scrollLeft,box={top:0,left:0},elem=this[0],doc=elem&&elem.ownerDocument;if(!doc){return}if((body=doc.body)===elem){return jQuery.offset.bodyOffset(elem)}docElem=doc.documentElement;if(!jQuery.contains(docElem,elem)){return box}if(typeof elem.getBoundingClientRect!=="undefined"){box=elem.getBoundingClientRect()}win=getWindow(doc);clientTop=docElem.clientTop||body.clientTop||0;clientLeft=docElem.clientLeft||body.clientLeft||0;scrollTop=win.pageYOffset||docElem.scrollTop;scrollLeft=win.pageXOffset||docElem.scrollLeft;return{top:box.top+scrollTop-clientTop,left:box.left+scrollLeft-clientLeft}};jQuery.offset={bodyOffset:function(body){var top=body.offsetTop,left=body.offsetLeft;if(jQuery.support.doesNotIncludeMarginInBodyOffset){top+=parseFloat(jQuery.css(body,"marginTop"))||0;left+=parseFloat(jQuery.css(body,"marginLeft"))||0}return{top:top,left:left}},setOffset:function(elem,options,i){var position=jQuery.css(elem,"position");if(position==="static"){elem.style.position="relative"}var curElem=jQuery(elem),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=(position==="absolute"||position==="fixed")&&jQuery.inArray("auto",[curCSSTop,curCSSLeft])>-1,props={},curPosition={},curTop,curLeft;if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0}if(jQuery.isFunction(options)){options=options.call(elem,i,curOffset)}if(options.top!=null){props.top=(options.top-curOffset.top)+curTop}if(options.left!=null){props.left=(options.left-curOffset.left)+curLeft}if("using" in options){options.using.call(elem,props)}else{curElem.css(props)}}};jQuery.fn.extend({position:function(){if(!this[0]){return}var elem=this[0],offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=rroot.test(offsetParent[0].nodeName)?{top:0,left:0}:offsetParent.offset();offset.top-=parseFloat(jQuery.css(elem,"marginTop"))||0;offset.left-=parseFloat(jQuery.css(elem,"marginLeft"))||0;parentOffset.top+=parseFloat(jQuery.css(offsetParent[0],"borderTopWidth"))||0;parentOffset.left+=parseFloat(jQuery.css(offsetParent[0],"borderLeftWidth"))||0;return{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||document.body;while(offsetParent&&(!rroot.test(offsetParent.nodeName)&&jQuery.css(offsetParent,"position")==="static")){offsetParent=offsetParent.offsetParent}return offsetParent||document.body})}});jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top=/Y/.test(prop);jQuery.fn[method]=function(val){return jQuery.access(this,function(elem,method,val){var win=getWindow(elem);if(val===undefined){return win?(prop in win)?win[prop]:win.document.documentElement[method]:elem[method]}if(win){win.scrollTo(!top?val:jQuery(win).scrollLeft(),top?val:jQuery(win).scrollTop())}else{elem[method]=val}},method,val,arguments.length,null)}});function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9?elem.defaultView||elem.parentWindow:false}jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||typeof margin!=="boolean"),extra=defaultExtra||(margin===true||value===true?"margin":"border");return jQuery.access(this,function(elem,type,value){var doc;if(jQuery.isWindow(elem)){return elem.document.documentElement["client"+name]}if(elem.nodeType===9){doc=elem.documentElement;return Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])}return value===undefined?jQuery.css(elem,type,value,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:undefined,chainable,null)}})});window.jQuery=window.$=jQuery;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return jQuery})}})(window);(function($,undefined){var alreadyInitialized=function(){var events=$._data(document,"events");return events&&events.click&&$.grep(events.click,function(e){return e.namespace==="rails"}).length};if(alreadyInitialized()){$.error("jquery-ujs has already been loaded!")}var rails;$.rails=rails={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(xhr){var token=$('meta[name="csrf-token"]').attr("content");if(token){xhr.setRequestHeader("X-CSRF-Token",token)}},fire:function(obj,name,data){var event=$.Event(name);obj.trigger(event,data);return event.result!==false},confirm:function(message){return confirm(message)},ajax:function(options){return $.ajax(options)},href:function(element){return element.attr("href")},handleRemote:function(element){var method,url,data,elCrossDomain,crossDomain,withCredentials,dataType,options;if(rails.fire(element,"ajax:before")){elCrossDomain=element.data("cross-domain");crossDomain=elCrossDomain===undefined?null:elCrossDomain;withCredentials=element.data("with-credentials")||null;dataType=element.data("type")||($.ajaxSettings&&$.ajaxSettings.dataType);if(element.is("form")){method=element.attr("method");url=element.attr("action");data=element.serializeArray();var button=element.data("ujs:submit-button");if(button){data.push(button);element.data("ujs:submit-button",null)}}else{if(element.is(rails.inputChangeSelector)){method=element.data("method");url=element.data("url");data=element.serialize();if(element.data("params")){data=data+"&"+element.data("params")}}else{method=element.data("method");url=rails.href(element);data=element.data("params")||null}}options={type:method||"GET",data:data,dataType:dataType,beforeSend:function(xhr,settings){if(settings.dataType===undefined){xhr.setRequestHeader("accept","*/*;q=0.5, "+settings.accepts.script)}return rails.fire(element,"ajax:beforeSend",[xhr,settings])},success:function(data,status,xhr){element.trigger("ajax:success",[data,status,xhr])},complete:function(xhr,status){element.trigger("ajax:complete",[xhr,status])},error:function(xhr,status,error){element.trigger("ajax:error",[xhr,status,error])},xhrFields:{withCredentials:withCredentials},crossDomain:crossDomain};if(url){options.url=url}var jqxhr=rails.ajax(options);element.trigger("ajax:send",jqxhr);return jqxhr}else{return false}},handleMethod:function(link){var href=rails.href(link),method=link.data("method"),target=link.attr("target"),csrf_token=$("meta[name=csrf-token]").attr("content"),csrf_param=$("meta[name=csrf-param]").attr("content"),form=$('<form method="post" action="'+href+'"></form>'),metadata_input='<input name="_method" value="'+method+'" type="hidden" />';if(csrf_param!==undefined&&csrf_token!==undefined){metadata_input+='<input name="'+csrf_param+'" value="'+csrf_token+'" type="hidden" />'}if(target){form.attr("target",target)}form.hide().append(metadata_input).appendTo("body");form.submit()},disableFormElements:function(form){form.find(rails.disableSelector).each(function(){var element=$(this),method=element.is("button")?"html":"val";element.data("ujs:enable-with",element[method]());element[method](element.data("disable-with"));element.prop("disabled",true)})},enableFormElements:function(form){form.find(rails.enableSelector).each(function(){var element=$(this),method=element.is("button")?"html":"val";if(element.data("ujs:enable-with")){element[method](element.data("ujs:enable-with"))}element.prop("disabled",false)})},allowAction:function(element){var message=element.data("confirm"),answer=false,callback;if(!message){return true}if(rails.fire(element,"confirm")){answer=rails.confirm(message);callback=rails.fire(element,"confirm:complete",[answer])}return answer&&callback},blankInputs:function(form,specifiedSelector,nonBlank){var inputs=$(),input,valueToCheck,selector=specifiedSelector||"input,textarea",allInputs=form.find(selector);allInputs.each(function(){input=$(this);valueToCheck=input.is(":checkbox,:radio")?input.is(":checked"):input.val();if(!valueToCheck===!nonBlank){if(input.is(":radio")&&allInputs.filter('input:radio:checked[name="'+input.attr("name")+'"]').length){return true}inputs=inputs.add(input)}});return inputs.length?inputs:false},nonBlankInputs:function(form,specifiedSelector){return rails.blankInputs(form,specifiedSelector,true)},stopEverything:function(e){$(e.target).trigger("ujs:everythingStopped");e.stopImmediatePropagation();return false},callFormSubmitBindings:function(form,event){var events=form.data("events"),continuePropagation=true;if(events!==undefined&&events.submit!==undefined){$.each(events.submit,function(i,obj){if(typeof obj.handler==="function"){return continuePropagation=obj.handler(event)}})}return continuePropagation},disableElement:function(element){element.data("ujs:enable-with",element.html());element.html(element.data("disable-with"));element.bind("click.railsDisable",function(e){return rails.stopEverything(e)})},enableElement:function(element){if(element.data("ujs:enable-with")!==undefined){element.html(element.data("ujs:enable-with"));element.data("ujs:enable-with",false)}element.unbind("click.railsDisable")}};if(rails.fire($(document),"rails:attachBindings")){$.ajaxPrefilter(function(options,originalOptions,xhr){if(!options.crossDomain){rails.CSRFProtection(xhr)}});$(document).delegate(rails.linkDisableSelector,"ajax:complete",function(){rails.enableElement($(this))});$(document).delegate(rails.linkClickSelector,"click.rails",function(e){var link=$(this),method=link.data("method"),data=link.data("params");if(!rails.allowAction(link)){return rails.stopEverything(e)}if(link.is(rails.linkDisableSelector)){rails.disableElement(link)}if(link.data("remote")!==undefined){if((e.metaKey||e.ctrlKey)&&(!method||method==="GET")&&!data){return true}var handleRemote=rails.handleRemote(link);if(handleRemote===false){rails.enableElement(link)}else{handleRemote.error(function(){rails.enableElement(link)})}return false}else{if(link.data("method")){rails.handleMethod(link);return false}}});$(document).delegate(rails.inputChangeSelector,"change.rails",function(e){var link=$(this);if(!rails.allowAction(link)){return rails.stopEverything(e)}rails.handleRemote(link);return false});$(document).delegate(rails.formSubmitSelector,"submit.rails",function(e){var form=$(this),remote=form.data("remote")!==undefined,blankRequiredInputs=rails.blankInputs(form,rails.requiredInputSelector),nonBlankFileInputs=rails.nonBlankInputs(form,rails.fileInputSelector);if(!rails.allowAction(form)){return rails.stopEverything(e)}if(blankRequiredInputs&&form.attr("novalidate")==undefined&&rails.fire(form,"ajax:aborted:required",[blankRequiredInputs])){return rails.stopEverything(e)}if(remote){if(nonBlankFileInputs){setTimeout(function(){rails.disableFormElements(form)},13);var aborted=rails.fire(form,"ajax:aborted:file",[nonBlankFileInputs]);if(!aborted){setTimeout(function(){rails.enableFormElements(form)},13)}return aborted}if(!$.support.submitBubbles&&$().jquery<"1.7"&&rails.callFormSubmitBindings(form,e)===false){return rails.stopEverything(e)}rails.handleRemote(form);return false}else{setTimeout(function(){rails.disableFormElements(form)},13)}});$(document).delegate(rails.formInputClickSelector,"click.rails",function(event){var button=$(this);if(!rails.allowAction(button)){return rails.stopEverything(event)}var name=button.attr("name"),data=name?{name:name,value:button.val()}:null;button.closest("form").data("ujs:submit-button",data)});$(document).delegate(rails.formSubmitSelector,"ajax:beforeSend.rails",function(event){if(this==event.target){rails.disableFormElements($(this))}});$(document).delegate(rails.formSubmitSelector,"ajax:complete.rails",function(event){if(this==event.target){rails.enableFormElements($(this))}});$(function(){csrf_token=$("meta[name=csrf-token]").attr("content");csrf_param=$("meta[name=csrf-param]").attr("content");$('form input[name="'+csrf_param+'"]').val(csrf_token)})}})(jQuery);this.Handlebars={};(function(Handlebars){Handlebars.VERSION="1.0.rc.2";Handlebars.helpers={};Handlebars.partials={};Handlebars.registerHelper=function(name,fn,inverse){if(inverse){fn.not=inverse}this.helpers[name]=fn};Handlebars.registerPartial=function(name,str){this.partials[name]=str};Handlebars.registerHelper("helperMissing",function(arg){if(arguments.length===2){return undefined}else{throw new Error("Could not find property '"+arg+"'")}});var toString=Object.prototype.toString,functionType="[object Function]";Handlebars.registerHelper("blockHelperMissing",function(context,options){var inverse=options.inverse||function(){},fn=options.fn;var ret="";var type=toString.call(context);if(type===functionType){context=context.call(this)}if(context===true){return fn(this)}else{if(context===false||context==null){return inverse(this)}else{if(type==="[object Array]"){if(context.length>0){return Handlebars.helpers.each(context,options)}else{return inverse(this)}}else{return fn(context)}}}});Handlebars.K=function(){};Handlebars.createFrame=Object.create||function(object){Handlebars.K.prototype=object;var obj=new Handlebars.K();Handlebars.K.prototype=null;return obj};Handlebars.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(level,obj){if(Handlebars.logger.level<=level){var method=Handlebars.logger.methodMap[level];if(typeof console!=="undefined"&&console[method]){console[method].call(console,obj)}}}};Handlebars.log=function(level,obj){Handlebars.logger.log(level,obj)};Handlebars.registerHelper("each",function(context,options){var fn=options.fn,inverse=options.inverse;var i=0,ret="",data;if(options.data){data=Handlebars.createFrame(options.data)}if(context&&typeof context==="object"){if(context instanceof Array){for(var j=context.length;i<j;i++){if(data){data.index=i}ret=ret+fn(context[i],{data:data})}}else{for(var key in context){if(context.hasOwnProperty(key)){if(data){data.key=key}ret=ret+fn(context[key],{data:data});i++}}}}if(i===0){ret=inverse(this)}return ret});Handlebars.registerHelper("if",function(context,options){var type=toString.call(context);if(type===functionType){context=context.call(this)}if(!context||Handlebars.Utils.isEmpty(context)){return options.inverse(this)}else{return options.fn(this)}});Handlebars.registerHelper("unless",function(context,options){var fn=options.fn,inverse=options.inverse;options.fn=inverse;options.inverse=fn;return Handlebars.helpers["if"].call(this,context,options)});Handlebars.registerHelper("with",function(context,options){return options.fn(context)});Handlebars.registerHelper("log",function(context,options){var level=options.data&&options.data.level!=null?parseInt(options.data.level,10):1;Handlebars.log(level,context)})}(this.Handlebars));var handlebars=(function(){var parser={trace:function trace(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,OPEN_PARTIAL:24,partialName:25,params:26,hash:27,DATA:28,param:29,STRING:30,INTEGER:31,BOOLEAN:32,hashSegments:33,hashSegment:34,ID:35,EQUALS:36,PARTIAL_NAME:37,pathSegments:38,SEP:39,"$accept":0,"$end":1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",28:"DATA",30:"STRING",31:"INTEGER",32:"BOOLEAN",35:"ID",36:"EQUALS",37:"PARTIAL_NAME",39:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[26,2],[26,1],[29,1],[29,1],[29,1],[29,1],[29,1],[27,1],[33,2],[33,1],[34,3],[34,3],[34,3],[34,3],[34,3],[25,1],[21,1],[38,3],[38,1]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:return $$[$0-1];break;case 2:this.$=new yy.ProgramNode([],$$[$0]);break;case 3:this.$=new yy.ProgramNode($$[$0-2],$$[$0]);break;case 4:this.$=new yy.ProgramNode($$[$0-1],[]);break;case 5:this.$=new yy.ProgramNode($$[$0]);break;case 6:this.$=new yy.ProgramNode([],[]);break;case 7:this.$=new yy.ProgramNode([]);break;case 8:this.$=[$$[$0]];break;case 9:$$[$0-1].push($$[$0]);this.$=$$[$0-1];break;case 10:this.$=new yy.BlockNode($$[$0-2],$$[$0-1].inverse,$$[$0-1],$$[$0]);break;case 11:this.$=new yy.BlockNode($$[$0-2],$$[$0-1],$$[$0-1].inverse,$$[$0]);break;case 12:this.$=$$[$0];break;case 13:this.$=$$[$0];break;case 14:this.$=new yy.ContentNode($$[$0]);break;case 15:this.$=new yy.CommentNode($$[$0]);break;case 16:this.$=new yy.MustacheNode($$[$0-1][0],$$[$0-1][1]);break;case 17:this.$=new yy.MustacheNode($$[$0-1][0],$$[$0-1][1]);break;case 18:this.$=$$[$0-1];break;case 19:this.$=new yy.MustacheNode($$[$0-1][0],$$[$0-1][1]);break;case 20:this.$=new yy.MustacheNode($$[$0-1][0],$$[$0-1][1],true);break;case 21:this.$=new yy.PartialNode($$[$0-1]);break;case 22:this.$=new yy.PartialNode($$[$0-2],$$[$0-1]);break;case 23:break;case 24:this.$=[[$$[$0-2]].concat($$[$0-1]),$$[$0]];break;case 25:this.$=[[$$[$0-1]].concat($$[$0]),null];break;case 26:this.$=[[$$[$0-1]],$$[$0]];break;case 27:this.$=[[$$[$0]],null];break;case 28:this.$=[[new yy.DataNode($$[$0])],null];break;case 29:$$[$0-1].push($$[$0]);this.$=$$[$0-1];break;case 30:this.$=[$$[$0]];break;case 31:this.$=$$[$0];break;case 32:this.$=new yy.StringNode($$[$0]);break;case 33:this.$=new yy.IntegerNode($$[$0]);break;case 34:this.$=new yy.BooleanNode($$[$0]);break;case 35:this.$=new yy.DataNode($$[$0]);break;case 36:this.$=new yy.HashNode($$[$0]);break;case 37:$$[$0-1].push($$[$0]);this.$=$$[$0-1];break;case 38:this.$=[$$[$0]];break;case 39:this.$=[$$[$0-2],$$[$0]];break;case 40:this.$=[$$[$0-2],new yy.StringNode($$[$0])];break;case 41:this.$=[$$[$0-2],new yy.IntegerNode($$[$0])];break;case 42:this.$=[$$[$0-2],new yy.BooleanNode($$[$0])];break;case 43:this.$=[$$[$0-2],new yy.DataNode($$[$0])];break;case 44:this.$=new yy.PartialNameNode($$[$0]);break;case 45:this.$=new yy.IdNode($$[$0]);break;case 46:$$[$0-2].push($$[$0]);this.$=$$[$0-2];break;case 47:this.$=[$$[$0]];break}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],24:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],24:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],24:[1,16]},{17:23,18:[1,22],21:24,28:[1,25],35:[1,27],38:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{4:28,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],24:[1,16]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],24:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],24:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],24:[2,15]},{17:30,21:24,28:[1,25],35:[1,27],38:26},{17:31,21:24,28:[1,25],35:[1,27],38:26},{17:32,21:24,28:[1,25],35:[1,27],38:26},{25:33,37:[1,34]},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],24:[1,16]},{17:23,21:24,28:[1,25],35:[1,27],38:26},{5:[2,4],7:35,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],24:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],24:[2,23]},{18:[1,36]},{18:[2,27],21:41,26:37,27:38,28:[1,45],29:39,30:[1,42],31:[1,43],32:[1,44],33:40,34:46,35:[1,47],38:26},{18:[2,28]},{18:[2,45],28:[2,45],30:[2,45],31:[2,45],32:[2,45],35:[2,45],39:[1,48]},{18:[2,47],28:[2,47],30:[2,47],31:[2,47],32:[2,47],35:[2,47],39:[2,47]},{10:49,20:[1,50]},{10:51,20:[1,50]},{18:[1,52]},{18:[1,53]},{18:[1,54]},{18:[1,55],21:56,35:[1,27],38:26},{18:[2,44],35:[2,44]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],24:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],24:[2,17]},{18:[2,25],21:41,27:57,28:[1,45],29:58,30:[1,42],31:[1,43],32:[1,44],33:40,34:46,35:[1,47],38:26},{18:[2,26]},{18:[2,30],28:[2,30],30:[2,30],31:[2,30],32:[2,30],35:[2,30]},{18:[2,36],34:59,35:[1,60]},{18:[2,31],28:[2,31],30:[2,31],31:[2,31],32:[2,31],35:[2,31]},{18:[2,32],28:[2,32],30:[2,32],31:[2,32],32:[2,32],35:[2,32]},{18:[2,33],28:[2,33],30:[2,33],31:[2,33],32:[2,33],35:[2,33]},{18:[2,34],28:[2,34],30:[2,34],31:[2,34],32:[2,34],35:[2,34]},{18:[2,35],28:[2,35],30:[2,35],31:[2,35],32:[2,35],35:[2,35]},{18:[2,38],35:[2,38]},{18:[2,47],28:[2,47],30:[2,47],31:[2,47],32:[2,47],35:[2,47],36:[1,61],39:[2,47]},{35:[1,62]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{21:63,35:[1,27],38:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],24:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],24:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],24:[2,21]},{18:[1,64]},{18:[2,24]},{18:[2,29],28:[2,29],30:[2,29],31:[2,29],32:[2,29],35:[2,29]},{18:[2,37],35:[2,37]},{36:[1,61]},{21:65,28:[1,69],30:[1,66],31:[1,67],32:[1,68],35:[1,27],38:26},{18:[2,46],28:[2,46],30:[2,46],31:[2,46],32:[2,46],35:[2,46],39:[2,46]},{18:[1,70]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],24:[2,22]},{18:[2,39],35:[2,39]},{18:[2,40],35:[2,40]},{18:[2,41],35:[2,41]},{18:[2,42],35:[2,42]},{18:[2,43],35:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]}],defaultActions:{17:[2,1],25:[2,28],38:[2,26],57:[2,24]},parseError:function parseError(str,hash){throw new Error(str)},parse:function parse(input){var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,TERROR=2,EOF=1;this.lexer.setInput(input);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;if(typeof this.lexer.yylloc=="undefined"){this.lexer.yylloc={}}var yyloc=this.lexer.yylloc;lstack.push(yyloc);var ranges=this.lexer.options&&this.lexer.options.ranges;if(typeof this.yy.parseError==="function"){this.parseError=this.yy.parseError}function popStack(n){stack.length=stack.length-2*n;vstack.length=vstack.length-n;lstack.length=lstack.length-n}function lex(){var token;token=self.lexer.lex()||1;if(typeof token!=="number"){token=self.symbols_[token]||token}return token}var symbol,preErrorSymbol,state,action,a,r,yyval={},p,len,newState,expected;while(true){state=stack[stack.length-1];if(this.defaultActions[state]){action=this.defaultActions[state]}else{if(symbol===null||typeof symbol=="undefined"){symbol=lex()}action=table[state]&&table[state][symbol]}if(typeof action==="undefined"||!action.length||!action[0]){var errStr="";if(!recovering){expected=[];for(p in table[state]){if(this.terminals_[p]&&p>2){expected.push("'"+this.terminals_[p]+"'")}}if(this.lexer.showPosition){errStr="Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'"}else{errStr="Parse error on line "+(yylineno+1)+": Unexpected "+(symbol==1?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'")}this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}}if(action[0] instanceof Array&&action.length>1){throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol)}switch(action[0]){case 1:stack.push(symbol);vstack.push(this.lexer.yytext);lstack.push(this.lexer.yylloc);stack.push(action[1]);symbol=null;if(!preErrorSymbol){yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;if(recovering>0){recovering--}}else{symbol=preErrorSymbol;preErrorSymbol=null}break;case 2:len=this.productions_[action[1]][1];yyval.$=vstack[vstack.length-len];yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column};if(ranges){yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]}r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack);if(typeof r!=="undefined"){return r}if(len){stack=stack.slice(0,-1*len*2);vstack=vstack.slice(0,-1*len);lstack=lstack.slice(0,-1*len)}stack.push(this.productions_[action[1]][0]);vstack.push(yyval.$);lstack.push(yyval._$);newState=table[stack[stack.length-2]][stack[stack.length-1]];stack.push(newState);break;case 3:return true}}return true}};var lexer=(function(){var lexer=({EOF:1,parseError:function parseError(str,hash){if(this.yy.parser){this.yy.parser.parseError(str,hash)}else{throw new Error(str)}},setInput:function(input){this._input=input;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges){this.yylloc.range=[0,0]}this.offset=0;return this},input:function(){var ch=this._input[0];this.yytext+=ch;this.yyleng++;this.offset++;this.match+=ch;this.matched+=ch;var lines=ch.match(/(?:\r\n?|\n).*/g);if(lines){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}if(this.options.ranges){this.yylloc.range[1]++}this._input=this._input.slice(1);return ch},unput:function(ch){var len=ch.length;var lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-len-1);this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(lines.length-1){this.yylineno-=lines.length-1}var r=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len};if(this.options.ranges){this.yylloc.range=[r[0],r[0]+this.yyleng-len]}return this},more:function(){this._more=true;return this},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;if(next.length<20){next+=this._input.substr(0,20-next.length)}return(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput();var c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done){return this.EOF}if(!this._input){this.done=true}var token,match,tempMatch,index,col,lines;if(!this._more){this.yytext="";this.match=""}var rules=this._currentRules();for(var i=0;i<rules.length;i++){tempMatch=this._input.match(this.rules[rules[i]]);if(tempMatch&&(!match||tempMatch[0].length>match[0].length)){match=tempMatch;index=i;if(!this.options.flex){break}}}if(match){lines=match[0].match(/(?:\r\n?|\n).*/g);if(lines){this.yylineno+=lines.length}this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length};this.yytext+=match[0];this.match+=match[0];this.matches=match;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}this._more=false;this._input=this._input.slice(match[0].length);this.matched+=match[0];token=this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input){this.done=false}if(token){return token}else{return}}if(this._input===""){return this.EOF}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function lex(){var r=this.next();if(typeof r!=="undefined"){return r}else{return this.lex()}},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.pop()},_currentRules:function _currentRules(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function begin(condition){this.begin(condition)}});lexer.options={};lexer.performAction=function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){var YYSTATE=YY_START;switch($avoiding_name_collisions){case 0:if(yy_.yytext.slice(-1)!=="\\"){this.begin("mu")}if(yy_.yytext.slice(-1)==="\\"){yy_.yytext=yy_.yytext.substr(0,yy_.yyleng-1),this.begin("emu")}if(yy_.yytext){return 14}break;case 1:return 14;break;case 2:if(yy_.yytext.slice(-1)!=="\\"){this.popState()}if(yy_.yytext.slice(-1)==="\\"){yy_.yytext=yy_.yytext.substr(0,yy_.yyleng-1)}return 14;break;case 3:yy_.yytext=yy_.yytext.substr(0,yy_.yyleng-4);this.popState();return 15;break;case 4:this.begin("par");return 24;break;case 5:return 16;break;case 6:return 20;break;case 7:return 19;break;case 8:return 19;break;case 9:return 23;break;case 10:return 23;break;case 11:this.popState();this.begin("com");break;case 12:yy_.yytext=yy_.yytext.substr(3,yy_.yyleng-5);this.popState();return 15;break;case 13:return 22;break;case 14:return 36;break;case 15:return 35;break;case 16:return 35;break;case 17:return 39;break;case 18:break;case 19:this.popState();return 18;break;case 20:this.popState();return 18;break;case 21:yy_.yytext=yy_.yytext.substr(1,yy_.yyleng-2).replace(/\\"/g,'"');return 30;break;case 22:yy_.yytext=yy_.yytext.substr(1,yy_.yyleng-2).replace(/\\'/g,"'");return 30;break;case 23:yy_.yytext=yy_.yytext.substr(1);return 28;break;case 24:return 32;break;case 25:return 32;break;case 26:return 31;break;case 27:return 35;break;case 28:yy_.yytext=yy_.yytext.substr(1,yy_.yyleng-2);return 35;break;case 29:return"INVALID";break;case 30:break;case 31:this.popState();return 37;break;case 32:return 5;break}};lexer.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[} ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@[a-zA-Z]+)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:[0-9]+(?=[}\s]))/,/^(?:[a-zA-Z0-9_$-]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:\s+)/,/^(?:[a-zA-Z0-9_$-/]+)/,/^(?:$)/];lexer.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,32],inclusive:false},emu:{rules:[2],inclusive:false},com:{rules:[3],inclusive:false},par:{rules:[30,31],inclusive:false},INITIAL:{rules:[0,1,32],inclusive:true}};return lexer})();parser.lexer=lexer;function Parser(){this.yy={}}Parser.prototype=parser;parser.Parser=Parser;return new Parser})();Handlebars.Parser=handlebars;Handlebars.parse=function(string){Handlebars.Parser.yy=Handlebars.AST;return Handlebars.Parser.parse(string)};Handlebars.print=function(ast){return new Handlebars.PrintVisitor().accept(ast)};(function(){Handlebars.AST={};Handlebars.AST.ProgramNode=function(statements,inverse){this.type="program";this.statements=statements;if(inverse){this.inverse=new Handlebars.AST.ProgramNode(inverse)}};Handlebars.AST.MustacheNode=function(rawParams,hash,unescaped){this.type="mustache";this.escaped=!unescaped;this.hash=hash;var id=this.id=rawParams[0];var params=this.params=rawParams.slice(1);var eligibleHelper=this.eligibleHelper=id.isSimple;this.isHelper=eligibleHelper&&(params.length||hash)};Handlebars.AST.PartialNode=function(partialName,context){this.type="partial";this.partialName=partialName;this.context=context};var verifyMatch=function(open,close){if(open.original!==close.original){throw new Handlebars.Exception(open.original+" doesn't match "+close.original)}};Handlebars.AST.BlockNode=function(mustache,program,inverse,close){verifyMatch(mustache.id,close);this.type="block";this.mustache=mustache;this.program=program;this.inverse=inverse;if(this.inverse&&!this.program){this.isInverse=true}};Handlebars.AST.ContentNode=function(string){this.type="content";this.string=string};Handlebars.AST.HashNode=function(pairs){this.type="hash";this.pairs=pairs};Handlebars.AST.IdNode=function(parts){this.type="ID";this.original=parts.join(".");var dig=[],depth=0;for(var i=0,l=parts.length;i<l;i++){var part=parts[i];if(part===".."){depth++}else{if(part==="."||part==="this"){this.isScoped=true}else{dig.push(part)}}}this.parts=dig;this.string=dig.join(".");this.depth=depth;this.isSimple=parts.length===1&&!this.isScoped&&depth===0;this.stringModeValue=this.string};Handlebars.AST.PartialNameNode=function(name){this.type="PARTIAL_NAME";this.name=name};Handlebars.AST.DataNode=function(id){this.type="DATA";this.id=id};Handlebars.AST.StringNode=function(string){this.type="STRING";this.string=string;this.stringModeValue=string};Handlebars.AST.IntegerNode=function(integer){this.type="INTEGER";this.integer=integer;this.stringModeValue=Number(integer)};Handlebars.AST.BooleanNode=function(bool){this.type="BOOLEAN";this.bool=bool;this.stringModeValue=bool==="true"};Handlebars.AST.CommentNode=function(comment){this.type="comment";this.comment=comment}})();var errorProps=["description","fileName","lineNumber","message","name","number","stack"];Handlebars.Exception=function(message){var tmp=Error.prototype.constructor.apply(this,arguments);for(var idx=0;idx<errorProps.length;idx++){this[errorProps[idx]]=tmp[errorProps[idx]]}};Handlebars.Exception.prototype=new Error();Handlebars.SafeString=function(string){this.string=string};Handlebars.SafeString.prototype.toString=function(){return this.string.toString()};(function(){var escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var badChars=/[&<>"'`]/g;var possible=/[&<>"'`]/;var escapeChar=function(chr){return escape[chr]||"&amp;"};Handlebars.Utils={escapeExpression:function(string){if(string instanceof Handlebars.SafeString){return string.toString()}else{if(string==null||string===false){return""}}if(!possible.test(string)){return string}return string.replace(badChars,escapeChar)},isEmpty:function(value){if(!value&&value!==0){return true}else{if(Object.prototype.toString.call(value)==="[object Array]"&&value.length===0){return true}else{return false}}}}})();Handlebars.Compiler=function(){};Handlebars.JavaScriptCompiler=function(){};(function(Compiler,JavaScriptCompiler){Compiler.prototype={compiler:Compiler,disassemble:function(){var opcodes=this.opcodes,opcode,out=[],params,param;for(var i=0,l=opcodes.length;i<l;i++){opcode=opcodes[i];if(opcode.opcode==="DECLARE"){out.push("DECLARE "+opcode.name+"="+opcode.value)}else{params=[];for(var j=0;j<opcode.args.length;j++){param=opcode.args[j];if(typeof param==="string"){param='"'+param.replace("\n","\\n")+'"'}params.push(param)}out.push(opcode.opcode+" "+params.join(" "))}}return out.join("\n")},guid:0,compile:function(program,options){this.children=[];this.depths={list:[]};this.options=options;var knownHelpers=this.options.knownHelpers;this.options.knownHelpers={helperMissing:true,blockHelperMissing:true,each:true,"if":true,unless:true,"with":true,log:true};if(knownHelpers){for(var name in knownHelpers){this.options.knownHelpers[name]=knownHelpers[name]}}return this.program(program)},accept:function(node){return this[node.type](node)},program:function(program){var statements=program.statements,statement;this.opcodes=[];for(var i=0,l=statements.length;i<l;i++){statement=statements[i];this[statement.type](statement)}this.isSimple=l===1;this.depths.list=this.depths.list.sort(function(a,b){return a-b});return this},compileProgram:function(program){var result=new this.compiler().compile(program,this.options);var guid=this.guid++,depth;this.usePartial=this.usePartial||result.usePartial;this.children[guid]=result;for(var i=0,l=result.depths.list.length;i<l;i++){depth=result.depths.list[i];if(depth<2){continue}else{this.addDepth(depth-1)}}return guid},block:function(block){var mustache=block.mustache,program=block.program,inverse=block.inverse;if(program){program=this.compileProgram(program)}if(inverse){inverse=this.compileProgram(inverse)}var type=this.classifyMustache(mustache);if(type==="helper"){this.helperMustache(mustache,program,inverse)}else{if(type==="simple"){this.simpleMustache(mustache);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);this.opcode("pushHash");this.opcode("blockValue")}else{this.ambiguousMustache(mustache,program,inverse);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);this.opcode("pushHash");this.opcode("ambiguousBlockValue")}}this.opcode("append")},hash:function(hash){var pairs=hash.pairs,pair,val;this.opcode("pushHash");for(var i=0,l=pairs.length;i<l;i++){pair=pairs[i];val=pair[1];if(this.options.stringParams){this.opcode("pushStringParam",val.stringModeValue,val.type)}else{this.accept(val)}this.opcode("assignToHash",pair[0])}},partial:function(partial){var partialName=partial.partialName;this.usePartial=true;if(partial.context){this.ID(partial.context)}else{this.opcode("push","depth0")}this.opcode("invokePartial",partialName.name);this.opcode("append")},content:function(content){this.opcode("appendContent",content.string)},mustache:function(mustache){var options=this.options;var type=this.classifyMustache(mustache);if(type==="simple"){this.simpleMustache(mustache)}else{if(type==="helper"){this.helperMustache(mustache)}else{this.ambiguousMustache(mustache)}}if(mustache.escaped&&!options.noEscape){this.opcode("appendEscaped")}else{this.opcode("append")}},ambiguousMustache:function(mustache,program,inverse){var id=mustache.id,name=id.parts[0];this.opcode("getContext",id.depth);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);this.opcode("invokeAmbiguous",name)},simpleMustache:function(mustache,program,inverse){var id=mustache.id;if(id.type==="DATA"){this.DATA(id)}else{if(id.parts.length){this.ID(id)}else{this.addDepth(id.depth);this.opcode("getContext",id.depth);this.opcode("pushContext")}}this.opcode("resolvePossibleLambda")},helperMustache:function(mustache,program,inverse){var params=this.setupFullMustacheParams(mustache,program,inverse),name=mustache.id.parts[0];if(this.options.knownHelpers[name]){this.opcode("invokeKnownHelper",params.length,name)}else{if(this.knownHelpersOnly){throw new Error("You specified knownHelpersOnly, but used the unknown helper "+name)}else{this.opcode("invokeHelper",params.length,name)}}},ID:function(id){this.addDepth(id.depth);this.opcode("getContext",id.depth);var name=id.parts[0];if(!name){this.opcode("pushContext")}else{this.opcode("lookupOnContext",id.parts[0])}for(var i=1,l=id.parts.length;i<l;i++){this.opcode("lookup",id.parts[i])}},DATA:function(data){this.options.data=true;this.opcode("lookupData",data.id)},STRING:function(string){this.opcode("pushString",string.string)},INTEGER:function(integer){this.opcode("pushLiteral",integer.integer)},BOOLEAN:function(bool){this.opcode("pushLiteral",bool.bool)},comment:function(){},opcode:function(name){this.opcodes.push({opcode:name,args:[].slice.call(arguments,1)})},declare:function(name,value){this.opcodes.push({opcode:"DECLARE",name:name,value:value})},addDepth:function(depth){if(isNaN(depth)){throw new Error("EWOT")}if(depth===0){return}if(!this.depths[depth]){this.depths[depth]=true;this.depths.list.push(depth)}},classifyMustache:function(mustache){var isHelper=mustache.isHelper;var isEligible=mustache.eligibleHelper;var options=this.options;if(isEligible&&!isHelper){var name=mustache.id.parts[0];if(options.knownHelpers[name]){isHelper=true}else{if(options.knownHelpersOnly){isEligible=false}}}if(isHelper){return"helper"}else{if(isEligible){return"ambiguous"}else{return"simple"}}},pushParams:function(params){var i=params.length,param;while(i--){param=params[i];if(this.options.stringParams){if(param.depth){this.addDepth(param.depth)}this.opcode("getContext",param.depth||0);this.opcode("pushStringParam",param.stringModeValue,param.type)}else{this[param.type](param)}}},setupMustacheParams:function(mustache){var params=mustache.params;this.pushParams(params);if(mustache.hash){this.hash(mustache.hash)}else{this.opcode("pushHash")}return params},setupFullMustacheParams:function(mustache,program,inverse){var params=mustache.params;this.pushParams(params);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);if(mustache.hash){this.hash(mustache.hash)}else{this.opcode("pushHash")}return params}};var Literal=function(value){this.value=value};JavaScriptCompiler.prototype={nameLookup:function(parent,name,type){if(/^[0-9]+$/.test(name)){return parent+"["+name+"]"}else{if(JavaScriptCompiler.isValidJavaScriptVariableName(name)){return parent+"."+name}else{return parent+"['"+name+"']"}}},appendToBuffer:function(string){if(this.environment.isSimple){return"return "+string+";"}else{return"buffer += "+string+";"}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(environment,options,context,asObject){this.environment=environment;this.options=options||{};Handlebars.log(Handlebars.logger.DEBUG,this.environment.disassemble()+"\n\n");this.name=this.environment.name;this.isChild=!!context;this.context=context||{programs:[],aliases:{}};this.preamble();this.stackSlot=0;this.stackVars=[];this.registers={list:[]};this.compileStack=[];this.compileChildren(environment,options);var opcodes=environment.opcodes,opcode;this.i=0;for(l=opcodes.length;this.i<l;this.i++){opcode=opcodes[this.i];if(opcode.opcode==="DECLARE"){this[opcode.name]=opcode.value}else{this[opcode.opcode].apply(this,opcode.args)}}return this.createFunctionContext(asObject)},nextOpcode:function(){var opcodes=this.environment.opcodes,opcode=opcodes[this.i+1];return opcodes[this.i+1]},eat:function(opcode){this.i=this.i+1},preamble:function(){var out=[];if(!this.isChild){var namespace=this.namespace;var copies="helpers = helpers || "+namespace+".helpers;";if(this.environment.usePartial){copies=copies+" partials = partials || "+namespace+".partials;"}if(this.options.data){copies=copies+" data = data || {};"}out.push(copies)}else{out.push("")}if(!this.environment.isSimple){out.push(", buffer = "+this.initializeBuffer())}else{out.push("")}this.lastContext=0;this.source=out},createFunctionContext:function(asObject){var locals=this.stackVars.concat(this.registers.list);if(locals.length>0){this.source[1]=this.source[1]+", "+locals.join(", ")}if(!this.isChild){var aliases=[];for(var alias in this.context.aliases){this.source[1]=this.source[1]+", "+alias+"="+this.context.aliases[alias]}}if(this.source[1]){this.source[1]="var "+this.source[1].substring(2)+";"}if(!this.isChild){this.source[1]+="\n"+this.context.programs.join("\n")+"\n"}if(!this.environment.isSimple){this.source.push("return buffer;")}var params=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];for(var i=0,l=this.environment.depths.list.length;i<l;i++){params.push("depth"+this.environment.depths.list[i])}if(asObject){params.push(this.source.join("\n  "));return Function.apply(this,params)}else{var functionSource="function "+(this.name||"")+"("+params.join(",")+") {\n  "+this.source.join("\n  ")+"}";Handlebars.log(Handlebars.logger.DEBUG,functionSource+"\n\n");return functionSource}},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var params=["depth0"];this.setupParams(0,params);this.replaceStack(function(current){params.splice(1,0,current);return"blockHelperMissing.call("+params.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var params=["depth0"];this.setupParams(0,params);var current=this.topStack();params.splice(1,0,current);this.source.push("if (!"+this.lastHelper+") { "+current+" = blockHelperMissing.call("+params.join(", ")+"); }")},appendContent:function(content){this.source.push(this.appendToBuffer(this.quotedString(content)))},append:function(){var local=this.popStack();this.source.push("if("+local+" || "+local+" === 0) { "+this.appendToBuffer(local)+" }");if(this.environment.isSimple){this.source.push("else { "+this.appendToBuffer("''")+" }")}},appendEscaped:function(){var opcode=this.nextOpcode(),extra="";this.context.aliases.escapeExpression="this.escapeExpression";if(opcode&&opcode.opcode==="appendContent"){extra=" + "+this.quotedString(opcode.args[0]);this.eat(opcode)}this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"+extra))},getContext:function(depth){if(this.lastContext!==depth){this.lastContext=depth}},lookupOnContext:function(name){this.pushStack(this.nameLookup("depth"+this.lastContext,name,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"';this.replaceStack(function(current){return"typeof "+current+" === functionType ? "+current+".apply(depth0) : "+current})},lookup:function(name){this.replaceStack(function(current){return current+" == null || "+current+" === false ? "+current+" : "+this.nameLookup(current,name,"context")})},lookupData:function(id){this.pushStack(this.nameLookup("data",id,"data"))},pushStringParam:function(string,type){this.pushStackLiteral("depth"+this.lastContext);this.pushString(type);if(typeof string==="string"){this.pushString(string)}else{this.pushStackLiteral(string)}},pushHash:function(){this.push("{}");if(this.options.stringParams){this.register("hashTypes","{}")}},pushString:function(string){this.pushStackLiteral(this.quotedString(string))},push:function(expr){this.pushStack(expr)},pushLiteral:function(value){this.pushStackLiteral(value)},pushProgram:function(guid){if(guid!=null){this.pushStackLiteral(this.programExpression(guid))}else{this.pushStackLiteral(null)}},invokeHelper:function(paramSize,name){this.context.aliases.helperMissing="helpers.helperMissing";var helper=this.lastHelper=this.setupHelper(paramSize,name);this.register("foundHelper",helper.name);this.pushStack("foundHelper ? foundHelper.call("+helper.callParams+") : helperMissing.call("+helper.helperMissingParams+")")},invokeKnownHelper:function(paramSize,name){var helper=this.setupHelper(paramSize,name);this.pushStack(helper.name+".call("+helper.callParams+")")},invokeAmbiguous:function(name){this.context.aliases.functionType='"function"';this.pushStackLiteral("{}");var helper=this.setupHelper(0,name);var helperName=this.lastHelper=this.nameLookup("helpers",name,"helper");this.register("foundHelper",helperName);var nonHelper=this.nameLookup("depth"+this.lastContext,name,"context");var nextStack=this.nextStack();this.source.push("if (foundHelper) { "+nextStack+" = foundHelper.call("+helper.callParams+"); }");this.source.push("else { "+nextStack+" = "+nonHelper+"; "+nextStack+" = typeof "+nextStack+" === functionType ? "+nextStack+".apply(depth0) : "+nextStack+"; }")},invokePartial:function(name){var params=[this.nameLookup("partials",name,"partial"),"'"+name+"'",this.popStack(),"helpers","partials"];if(this.options.data){params.push("data")}this.context.aliases.self="this";this.pushStack("self.invokePartial("+params.join(", ")+")")},assignToHash:function(key){var value=this.popStack();if(this.options.stringParams){var type=this.popStack();this.popStack();this.source.push("hashTypes['"+key+"'] = "+type+";")}var hash=this.topStack();this.source.push(hash+"['"+key+"'] = "+value+";")},compiler:JavaScriptCompiler,compileChildren:function(environment,options){var children=environment.children,child,compiler;for(var i=0,l=children.length;i<l;i++){child=children[i];compiler=new this.compiler();this.context.programs.push("");var index=this.context.programs.length;child.index=index;child.name="program"+index;this.context.programs[index]=compiler.compile(child,options,this.context)}},programExpression:function(guid){this.context.aliases.self="this";if(guid==null){return"self.noop"}var child=this.environment.children[guid],depths=child.depths.list,depth;var programParams=[child.index,child.name,"data"];for(var i=0,l=depths.length;i<l;i++){depth=depths[i];if(depth===1){programParams.push("depth0")}else{programParams.push("depth"+(depth-1))}}if(depths.length===0){return"self.program("+programParams.join(", ")+")"}else{programParams.shift();return"self.programWithDepth("+programParams.join(", ")+")"}},register:function(name,val){this.useRegister(name);this.source.push(name+" = "+val+";")},useRegister:function(name){if(!this.registers[name]){this.registers[name]=true;this.registers.list.push(name)}},pushStackLiteral:function(item){this.compileStack.push(new Literal(item));return item},pushStack:function(item){var stack=this.incrStack();this.source.push(stack+" = "+item+";");this.compileStack.push(stack);return stack},replaceStack:function(callback){var stack=this.topStack(),item=callback.call(this,stack);if(/^depth/.test(stack)){stack=this.nextStack()}this.source.push(stack+" = "+item+";");return stack},nextStack:function(skipCompileStack){var name=this.incrStack();this.compileStack.push(name);return name},incrStack:function(){this.stackSlot++;if(this.stackSlot>this.stackVars.length){this.stackVars.push("stack"+this.stackSlot)}return"stack"+this.stackSlot},popStack:function(){var item=this.compileStack.pop();if(item instanceof Literal){return item.value}else{this.stackSlot--;return item}},topStack:function(){var item=this.compileStack[this.compileStack.length-1];if(item instanceof Literal){return item.value}else{return item}},quotedString:function(str){return'"'+str.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'"'},setupHelper:function(paramSize,name){var params=[];this.setupParams(paramSize,params);var foundHelper=this.nameLookup("helpers",name,"helper");return{params:params,name:foundHelper,callParams:["depth0"].concat(params).join(", "),helperMissingParams:["depth0",this.quotedString(name)].concat(params).join(", ")}},setupParams:function(paramSize,params){var options=[],contexts=[],types=[],param,inverse,program;options.push("hash:"+this.popStack());inverse=this.popStack();program=this.popStack();if(program||inverse){if(!program){this.context.aliases.self="this";program="self.noop"}if(!inverse){this.context.aliases.self="this";inverse="self.noop"}options.push("inverse:"+inverse);options.push("fn:"+program)}for(var i=0;i<paramSize;i++){param=this.popStack();params.push(param);if(this.options.stringParams){types.push(this.popStack());contexts.push(this.popStack())}}if(this.options.stringParams){options.push("contexts:["+contexts.join(",")+"]");options.push("types:["+types.join(",")+"]");options.push("hashTypes:hashTypes")}if(this.options.data){options.push("data:data")}params.push("{"+options.join(",")+"}");return params.join(", ")}};var reservedWords=("break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield").split(" ");var compilerWords=JavaScriptCompiler.RESERVED_WORDS={};for(var i=0,l=reservedWords.length;i<l;i++){compilerWords[reservedWords[i]]=true}JavaScriptCompiler.isValidJavaScriptVariableName=function(name){if(!JavaScriptCompiler.RESERVED_WORDS[name]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(name)){return true}return false}})(Handlebars.Compiler,Handlebars.JavaScriptCompiler);Handlebars.precompile=function(string,options){if(typeof string!=="string"){throw new Handlebars.Exception("You must pass a string to Handlebars.compile. You passed "+string)}options=options||{};if(!("data" in options)){options.data=true}var ast=Handlebars.parse(string);var environment=new Handlebars.Compiler().compile(ast,options);return new Handlebars.JavaScriptCompiler().compile(environment,options)};Handlebars.compile=function(string,options){if(typeof string!=="string"){throw new Handlebars.Exception("You must pass a string to Handlebars.compile. You passed "+string)}options=options||{};if(!("data" in options)){options.data=true}var compiled;function compile(){var ast=Handlebars.parse(string);var environment=new Handlebars.Compiler().compile(ast,options);var templateSpec=new Handlebars.JavaScriptCompiler().compile(environment,options,undefined,true);return Handlebars.template(templateSpec)}return function(context,options){if(!compiled){compiled=compile()}return compiled.call(this,context,options)}};Handlebars.VM={template:function(templateSpec){var container={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(i,fn,data){var programWrapper=this.programs[i];if(data){return Handlebars.VM.program(fn,data)}else{if(programWrapper){return programWrapper}else{programWrapper=this.programs[i]=Handlebars.VM.program(fn);return programWrapper}}},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop};return function(context,options){options=options||{};return templateSpec.call(container,Handlebars,context,options.helpers,options.partials,options.data)}},programWithDepth:function(fn,data,$depth){var args=Array.prototype.slice.call(arguments,2);return function(context,options){options=options||{};return fn.apply(this,[context,options.data||data].concat(args))}},program:function(fn,data){return function(context,options){options=options||{};return fn(context,options.data||data)}},noop:function(){return""},invokePartial:function(partial,name,context,helpers,partials,data){var options={helpers:helpers,partials:partials,data:data};if(partial===undefined){throw new Handlebars.Exception("The partial "+name+" could not be found")}else{if(partial instanceof Function){return partial(context,options)}else{if(!Handlebars.compile){throw new Handlebars.Exception("The partial "+name+" could not be compiled when running in runtime-only mode")}else{partials[name]=Handlebars.compile(partial,{data:data!==undefined});return partials[name](context,options)}}}}};Handlebars.template=Handlebars.VM.template;(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};var branches=["usersite","uploads"];var namespace=templates;for(var path=branches.shift();path;path=branches.shift()){namespace[path]=namespace[path]||{};namespace=namespace[path]}namespace.image=template(function(Handlebars,depth0,helpers,partials,data){helpers=helpers||Handlebars.helpers;var buffer="",stack1,stack2,stack3,foundHelper,self=this,functionType="function",helperMissing=helpers.helperMissing,undef=void 0,escapeExpression=this.escapeExpression;buffer+='<li class="upload image">\n	<img src="';stack1="mini";foundHelper=helpers.image;stack2=foundHelper||depth0.image;foundHelper=helpers.imageUrl;stack3=foundHelper||depth0.imageUrl;if(typeof stack3===functionType){stack1=stack3.call(depth0,stack2,stack1,{hash:{}})}else{if(stack3===undef){stack1=helperMissing.call(depth0,"imageUrl",stack2,stack1,{hash:{}})}else{stack1=stack3}}buffer+=escapeExpression(stack1)+'">\n	<input name="[rotation_by]" type="hidden" value="">\n</li>\n';return buffer})})();(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};var branches=["usersite","uploads"];var namespace=templates;for(var path=branches.shift();path;path=branches.shift()){namespace[path]=namespace[path]||{};namespace=namespace[path]}namespace.image_progress=template(function(Handlebars,depth0,helpers,partials,data){helpers=helpers||Handlebars.helpers;partials=partials||Handlebars.partials;var buffer="",stack1,foundHelper,self=this;stack1=depth0;stack1=self.invokePartial(partials["shared.upload_progression"],"shared.upload_progression",stack1,helpers,partials);if(stack1||stack1===0){buffer+=stack1}buffer+="\n";return buffer})})();(function(){var template=Handlebars.template;Handlebars.registerPartial("shared.upload_progression",template(function(Handlebars,depth0,helpers,partials,data){helpers=helpers||Handlebars.helpers;var buffer="",stack1,foundHelper,self=this,functionType="function",helperMissing=helpers.helperMissing,undef=void 0,escapeExpression=this.escapeExpression;buffer+='<li class="upload ';foundHelper=helpers.params;stack1=foundHelper||depth0.params;stack1=(stack1===null||stack1===undefined||stack1===false?stack1:stack1.uploadModel);if(typeof stack1===functionType){stack1=stack1.call(depth0,{hash:{}})}else{if(stack1===undef){stack1=helperMissing.call(depth0,"params.uploadModel",{hash:{}})}}buffer+=escapeExpression(stack1)+' progress no-interaction">\n	<div class="progress_percent"></div>\n	<a href="#" class="upload_cancel">cancel</a>\n</li>\n';return buffer}))})();(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};var branches=["shared","social"];var namespace=templates;for(var path=branches.shift();path;path=branches.shift()){namespace[path]=namespace[path]||{};namespace=namespace[path]}namespace.dialog=template(function(Handlebars,depth0,helpers,partials,data){helpers=helpers||Handlebars.helpers;var buffer="",stack1,stack2,foundHelper,tmp1,self=this,functionType="function",helperMissing=helpers.helperMissing,undef=void 0,escapeExpression=this.escapeExpression;function program1(depth0,data){return"by <strong>"}function program3(depth0,data){var stack1;foundHelper=helpers.artist;stack1=foundHelper||depth0.artist;if(typeof stack1===functionType){stack1=stack1.call(depth0,{hash:{}})}else{if(stack1===undef){stack1=helperMissing.call(depth0,"artist",{hash:{}})}}return escapeExpression(stack1)}function program5(depth0,data){var buffer="",stack1;foundHelper=helpers.byline;stack1=foundHelper||depth0.byline;if(typeof stack1===functionType){stack1=stack1.call(depth0,{hash:{}})}else{if(stack1===undef){stack1=helperMissing.call(depth0,"byline",{hash:{}})}}buffer+=escapeExpression(stack1)+"</strong>";return buffer}buffer+='<section class="dialog no-icon dialog-share">\n		<div class="share_desc">\n			<div>Share <strong>';foundHelper=helpers.title;stack1=foundHelper||depth0.title;if(typeof stack1===functionType){stack1=stack1.call(depth0,{hash:{}})}else{if(stack1===undef){stack1=helperMissing.call(depth0,"title",{hash:{}})}}buffer+=escapeExpression(stack1)+'</strong><br><span class="byline">';foundHelper=helpers.artist;stack1=foundHelper||depth0.artist;stack2=helpers["if"];tmp1=self.program(1,program1,data);tmp1.hash={};tmp1.fn=tmp1;tmp1.inverse=self.noop;stack1=stack2.call(depth0,stack1,tmp1);if(stack1||stack1===0){buffer+=stack1}foundHelper=helpers.artist;stack1=foundHelper||depth0.artist;stack2=helpers["if"];tmp1=self.program(3,program3,data);tmp1.hash={};tmp1.fn=tmp1;tmp1.inverse=self.program(5,program5,data);stack1=stack2.call(depth0,stack1,tmp1);if(stack1||stack1===0){buffer+=stack1}buffer+='</span></div>\n		</div>\n		<div class="actions">\n			<ul class="share_icons">\n				<li class="facebook">\n					<a href="';foundHelper=helpers.fb_url;stack1=foundHelper||depth0.fb_url;if(typeof stack1===functionType){stack1=stack1.call(depth0,{hash:{}})}else{if(stack1===undef){stack1=helperMissing.call(depth0,"fb_url",{hash:{}})}}buffer+=escapeExpression(stack1)+'" class="popup-on-click" data-width="550" data-height="357">\n						<div class="share_icon"><span class="icon-facebook"></span></div>\n						<div class="share_text">Share on Facebook</div>\n					</a>\n				</li>\n				<li class="twitter">\n					<a href="';foundHelper=helpers.twitter_url;stack1=foundHelper||depth0.twitter_url;if(typeof stack1===functionType){stack1=stack1.call(depth0,{hash:{}})}else{if(stack1===undef){stack1=helperMissing.call(depth0,"twitter_url",{hash:{}})}}buffer+=escapeExpression(stack1)+'" class="popup-on-click" data-width="685" data-height="246">\n						<div class="share_icon"><span class="icon-twitter"></span></div>\n						<div class="share_text">Share on Twitter</div>\n					</a>\n				</li>\n				<li class="email">\n					<a href="';foundHelper=helpers.mailto_url;stack1=foundHelper||depth0.mailto_url;if(typeof stack1===functionType){stack1=stack1.call(depth0,{hash:{}})}else{if(stack1===undef){stack1=helperMissing.call(depth0,"mailto_url",{hash:{}})}}buffer+=escapeExpression(stack1)+'" class="popup-on-click" target="_blank">\n						<div class="share_icon"><span class="icon-envelope"></span></div>\n						<div class="share_text">Share by Email</div>\n					</a>\n				</li>\n				<li class="permalink">\n					Or, share this link:<br />\n					<input type="text" value="';foundHelper=helpers.url;stack1=foundHelper||depth0.url;if(typeof stack1===functionType){stack1=stack1.call(depth0,{hash:{}})}else{if(stack1===undef){stack1=helperMissing.call(depth0,"url",{hash:{}})}}buffer+=escapeExpression(stack1)+'" class="select-on-focus" readonly="true" />\n				</li>\n			</ul>\n		</div>\n</section>\n';return buffer})})();(function(){var $,validateElement,validateForm,validatorsFor,__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item){return i}}return -1};$=jQuery;$.fn.disableClientSideValidations=function(){ClientSideValidations.disable(this);return this};$.fn.enableClientSideValidations=function(){this.filter(ClientSideValidations.selectors.forms).each(function(){return ClientSideValidations.enablers.form(this)});this.filter(ClientSideValidations.selectors.inputs).each(function(){return ClientSideValidations.enablers.input(this)});return this};$.fn.resetClientSideValidations=function(){this.filter(ClientSideValidations.selectors.forms).each(function(){return ClientSideValidations.reset(this)});return this};$.fn.validate=function(){this.filter(ClientSideValidations.selectors.forms).each(function(){return $(this).enableClientSideValidations()});return this};$.fn.isValid=function(validators){var obj;obj=$(this[0]);if(obj.is("form")){return validateForm(obj,validators)}else{return validateElement(obj,validatorsFor(this[0].name,validators))}};validatorsFor=function(name,validators){var captures,validator,validator_name;if(captures=name.match(/\[(\w+_attributes)\].*\[(\w+)\]$/)){for(validator_name in validators){validator=validators[validator_name];if(validator_name.match("\\["+captures[1]+"\\].*\\[\\]\\["+captures[2]+"\\]$")){name=name.replace(/\[[\da-z_]+\]\[(\w+)\]$/g,"[][$1]")}}}return validators[name]||{}};validateForm=function(form,validators){var valid;form.trigger("form:validate:before.ClientSideValidations");valid=true;form.find(ClientSideValidations.selectors.validate_inputs).each(function(){if(!$(this).isValid(validators)){valid=false}return true});if(valid){form.trigger("form:validate:pass.ClientSideValidations")}else{form.trigger("form:validate:fail.ClientSideValidations")}form.trigger("form:validate:after.ClientSideValidations");return valid};validateElement=function(element,validators){var afterValidate,destroyInputName,executeValidators,failElement,local,passElement,remote;element.trigger("element:validate:before.ClientSideValidations");passElement=function(){return element.trigger("element:validate:pass.ClientSideValidations").data("valid",null)};failElement=function(message){element.trigger("element:validate:fail.ClientSideValidations",message).data("valid",false);return false};afterValidate=function(){return element.trigger("element:validate:after.ClientSideValidations").data("valid")!==false};executeValidators=function(context){var fn,kind,message,valid,validator,_i,_len,_ref;valid=true;for(kind in context){fn=context[kind];if(validators[kind]){_ref=validators[kind];for(_i=0,_len=_ref.length;_i<_len;_i++){validator=_ref[_i];if(message=fn.call(context,element,validator)){valid=failElement(message);break}}if(!valid){break}}}return valid};destroyInputName=element.attr("name").replace(/\[([^\]]*?)\]$/,"[_destroy]");if($("input[name='"+destroyInputName+"']").val()==="1"){passElement();return afterValidate()}if(element.data("changed")===false){return afterValidate()}element.data("changed",false);local=ClientSideValidations.validators.local;remote=ClientSideValidations.validators.remote;if(executeValidators(local)&&executeValidators(remote)){passElement()}return afterValidate()};if(window.ClientSideValidations===void 0){window.ClientSideValidations={}}if(window.ClientSideValidations.forms===void 0){window.ClientSideValidations.forms={}}window.ClientSideValidations.selectors={inputs:':input:not(button):not([type="submit"])[name]:visible:enabled',validate_inputs:":input:enabled:visible[data-validate]",forms:"form[data-validate]"};window.ClientSideValidations.reset=function(form){var $form,key;$form=$(form);ClientSideValidations.disable(form);for(key in form.ClientSideValidations.settings.validators){form.ClientSideValidations.removeError($form.find("[name='"+key+"']"))}return ClientSideValidations.enablers.form(form)};window.ClientSideValidations.disable=function(target){var $target;$target=$(target);$target.off(".ClientSideValidations");if($target.is("form")){return ClientSideValidations.disable($target.find(":input"))}else{$target.removeData("valid");$target.removeData("changed");return $target.filter(":input").each(function(){return $(this).removeAttr("data-validate")})}};window.ClientSideValidations.enablers={form:function(form){var $form,binding,event,_ref;$form=$(form);form.ClientSideValidations={settings:window.ClientSideValidations.forms[$form.attr("id")],addError:function(element,message){return ClientSideValidations.formBuilders[form.ClientSideValidations.settings.type].add(element,form.ClientSideValidations.settings,message)},removeError:function(element){return ClientSideValidations.formBuilders[form.ClientSideValidations.settings.type].remove(element,form.ClientSideValidations.settings)}};_ref={"submit.ClientSideValidations":function(eventData){if(!$form.isValid(form.ClientSideValidations.settings.validators)){eventData.preventDefault();return eventData.stopImmediatePropagation()}},"ajax:beforeSend.ClientSideValidations":function(eventData){if(eventData.target===this){return $form.isValid(form.ClientSideValidations.settings.validators)}},"form:validate:after.ClientSideValidations":function(eventData){return ClientSideValidations.callbacks.form.after($form,eventData)},"form:validate:before.ClientSideValidations":function(eventData){return ClientSideValidations.callbacks.form.before($form,eventData)},"form:validate:fail.ClientSideValidations":function(eventData){return ClientSideValidations.callbacks.form.fail($form,eventData)},"form:validate:pass.ClientSideValidations":function(eventData){return ClientSideValidations.callbacks.form.pass($form,eventData)}};for(event in _ref){binding=_ref[event];$form.on(event,binding)}return $form.find(ClientSideValidations.selectors.inputs).each(function(){return ClientSideValidations.enablers.input(this)})},input:function(input){var $form,$input,binding,event,form,_ref;$input=$(input);form=input.form;$form=$(form);_ref={"focusout.ClientSideValidations":function(){return $(this).isValid(form.ClientSideValidations.settings.validators)},"change.ClientSideValidations":function(){return $(this).data("changed",true)},"element:validate:after.ClientSideValidations":function(eventData){return ClientSideValidations.callbacks.element.after($(this),eventData)},"element:validate:before.ClientSideValidations":function(eventData){return ClientSideValidations.callbacks.element.before($(this),eventData)},"element:validate:fail.ClientSideValidations":function(eventData,message){var element;element=$(this);return ClientSideValidations.callbacks.element.fail(element,message,function(){return form.ClientSideValidations.addError(element,message)},eventData)},"element:validate:pass.ClientSideValidations":function(eventData){var element;element=$(this);return ClientSideValidations.callbacks.element.pass(element,function(){return form.ClientSideValidations.removeError(element)},eventData)}};for(event in _ref){binding=_ref[event];$input.filter(":not(:radio):not([id$=_confirmation])").each(function(){return $(this).attr("data-validate",true)}).on(event,binding)}$input.filter(":checkbox").on("click.ClientSideValidations",function(){$(this).isValid(form.ClientSideValidations.settings.validators);return true});return $input.filter("[id$=_confirmation]").each(function(){var confirmationElement,element,_ref1,_results;confirmationElement=$(this);element=$form.find("#"+(this.id.match(/(.+)_confirmation/)[1])+":input");if(element[0]){_ref1={"focusout.ClientSideValidations":function(){return element.data("changed",true).isValid(form.ClientSideValidations.settings.validators)},"keyup.ClientSideValidations":function(){return element.data("changed",true).isValid(form.ClientSideValidations.settings.validators)}};_results=[];for(event in _ref1){binding=_ref1[event];_results.push($("#"+(confirmationElement.attr("id"))).on(event,binding))}return _results}})}};window.ClientSideValidations.validators={all:function(){return jQuery.extend({},ClientSideValidations.validators.local,ClientSideValidations.validators.remote)},local:{presence:function(element,options){if(/^\s*$/.test(element.val()||"")){return options.message}},acceptance:function(element,options){var _ref;switch(element.attr("type")){case"checkbox":if(!element.prop("checked")){return options.message}break;case"text":if(element.val()!==(((_ref=options.accept)!=null?_ref.toString():void 0)||"1")){return options.message}}},format:function(element,options){var message;message=this.presence(element,options);if(message){if(options.allow_blank===true){return}return message}if(options["with"]&&!options["with"].test(element.val())){return options.message}if(options.without&&options.without.test(element.val())){return options.message}},numericality:function(element,options){var CHECKS,check,check_value,fn,form,operator,val;val=jQuery.trim(element.val());if(!ClientSideValidations.patterns.numericality.test(val)){if(options.allow_blank===true&&this.presence(element,{message:options.messages.numericality})){return}return options.messages.numericality}val=val.replace(new RegExp("\\"+ClientSideValidations.number_format.delimiter,"g"),"").replace(new RegExp("\\"+ClientSideValidations.number_format.separator,"g"),".");if(options.only_integer&&!/^[+-]?\d+$/.test(val)){return options.messages.only_integer}CHECKS={greater_than:">",greater_than_or_equal_to:">=",equal_to:"==",less_than:"<",less_than_or_equal_to:"<="};form=$(element[0].form);for(check in CHECKS){operator=CHECKS[check];if(!(options[check]!=null)){continue}if(!isNaN(parseFloat(options[check]))&&isFinite(options[check])){check_value=options[check]}else{if(form.find("[name*="+options[check]+"]").size()===1){check_value=form.find("[name*="+options[check]+"]").val()}else{return}}fn=new Function("return "+val+" "+operator+" "+check_value);if(!fn()){return options.messages[check]}}if(options.odd&&!(parseInt(val,10)%2)){return options.messages.odd}if(options.even&&(parseInt(val,10)%2)){return options.messages.even}},length:function(element,options){var CHECKS,blankOptions,check,fn,message,operator,tokenized_length,tokenizer;tokenizer=options.js_tokenizer||"split('')";tokenized_length=new Function("element","return (element.val()."+tokenizer+" || '').length")(element);CHECKS={is:"==",minimum:">=",maximum:"<="};blankOptions={};blankOptions.message=options.is?options.messages.is:options.minimum?options.messages.minimum:void 0;message=this.presence(element,blankOptions);if(message){if(options.allow_blank===true){return}return message}for(check in CHECKS){operator=CHECKS[check];if(!options[check]){continue}fn=new Function("return "+tokenized_length+" "+operator+" "+options[check]);if(!fn()){return options.messages[check]}}},exclusion:function(element,options){var lower,message,option,upper,_ref;message=this.presence(element,options);if(message){if(options.allow_blank===true){return}return message}if(options["in"]){if(_ref=element.val(),__indexOf.call((function(){var _i,_len,_ref1,_results;_ref1=options["in"];_results=[];for(_i=0,_len=_ref1.length;_i<_len;_i++){option=_ref1[_i];_results.push(option.toString())}return _results})(),_ref)>=0){return options.message}}if(options.range){lower=options.range[0];upper=options.range[1];if(element.val()>=lower&&element.val()<=upper){return options.message}}},inclusion:function(element,options){var lower,message,option,upper,_ref;message=this.presence(element,options);if(message){if(options.allow_blank===true){return}return message}if(options["in"]){if(_ref=element.val(),__indexOf.call((function(){var _i,_len,_ref1,_results;_ref1=options["in"];_results=[];for(_i=0,_len=_ref1.length;_i<_len;_i++){option=_ref1[_i];_results.push(option.toString())}return _results})(),_ref)>=0){return}return options.message}if(options.range){lower=options.range[0];upper=options.range[1];if(element.val()>=lower&&element.val()<=upper){return}return options.message}},confirmation:function(element,options){if(element.val()!==jQuery("#"+(element.attr("id"))+"_confirmation").val()){return options.message}},uniqueness:function(element,options){var form,matches,name,name_prefix,name_suffix,valid,value;name=element.attr("name");if(/_attributes\]\[\d/.test(name)){matches=name.match(/^(.+_attributes\])\[\d+\](.+)$/);name_prefix=matches[1];name_suffix=matches[2];value=element.val();if(name_prefix&&name_suffix){form=element.closest("form");valid=true;form.find(':input[name^="'+name_prefix+'"][name$="'+name_suffix+'"]').each(function(){if($(this).attr("name")!==name){if($(this).val()===value){valid=false;return $(this).data("notLocallyUnique",true)}else{if($(this).data("notLocallyUnique")){return $(this).removeData("notLocallyUnique").data("changed",true)}}}});if(!valid){return options.message}}}}},remote:{uniqueness:function(element,options){var data,key,message,name,scope_value,scoped_element,scoped_name,_ref;message=ClientSideValidations.validators.local.presence(element,options);if(message){if(options.allow_blank===true){return}return message}data={};data.case_sensitive=!!options.case_sensitive;if(options.id){data.id=options.id}if(options.scope){data.scope={};_ref=options.scope;for(key in _ref){scope_value=_ref[key];scoped_name=element.attr("name").replace(/\[\w+\]$/,"["+key+"]");scoped_element=jQuery("[name='"+scoped_name+"']");jQuery("[name='"+scoped_name+"']:checkbox").each(function(){if(this.checked){return scoped_element=this}});if(scoped_element[0]&&scoped_element.val()!==scope_value){data.scope[key]=scoped_element.val();scoped_element.unbind("change."+element.id).bind("change."+element.id,function(){element.trigger("change.ClientSideValidations");return element.trigger("focusout.ClientSideValidations")})}else{data.scope[key]=scope_value}}}if(/_attributes\]/.test(element.attr("name"))){name=element.attr("name").match(/\[\w+_attributes\]/g).pop().match(/\[(\w+)_attributes\]/).pop();name+=/(\[\w+\])$/.exec(element.attr("name"))[1]}else{name=element.attr("name")}if(options["class"]){name=options["class"]+"["+name.split("[")[1]}data[name]=element.val();if(jQuery.ajax({url:ClientSideValidations.remote_validators_url_for("uniqueness"),data:data,async:false,cache:false}).status===200){return options.message}}}};window.ClientSideValidations.remote_validators_url_for=function(validator){if(ClientSideValidations.remote_validators_prefix!=null){return"//"+window.location.host+"/"+ClientSideValidations.remote_validators_prefix+"/validators/"+validator}else{return"//"+window.location.host+"/validators/"+validator}};window.ClientSideValidations.disableValidators=function(){var func,validator,_ref,_results;if(window.ClientSideValidations.disabled_validators===void 0){return}_ref=window.ClientSideValidations.validators.remote;_results=[];for(validator in _ref){func=_ref[validator];if(__indexOf.call(window.ClientSideValidations.disabled_validators,validator)>=0){_results.push(delete window.ClientSideValidations.validators.remote[validator])}else{_results.push(void 0)}}return _results};window.ClientSideValidations.formBuilders={"ActionView::Helpers::FormBuilder":{add:function(element,settings,message){var form,inputErrorField,label,labelErrorField;form=$(element[0].form);if(element.data("valid")!==false&&(form.find("label.message[for='"+(element.attr("id"))+"']")[0]==null)){inputErrorField=jQuery(settings.input_tag);labelErrorField=jQuery(settings.label_tag);label=form.find("label[for='"+(element.attr("id"))+"']:not(.message)");if(element.attr("autofocus")){element.attr("autofocus",false)}element.before(inputErrorField);inputErrorField.find("span#input_tag").replaceWith(element);inputErrorField.find("label.message").attr("for",element.attr("id"));labelErrorField.find("label.message").attr("for",element.attr("id"));labelErrorField.insertAfter(label);labelErrorField.find("label#label_tag").replaceWith(label)}return form.find("label.message[for='"+(element.attr("id"))+"']").text(message)},remove:function(element,settings){var errorFieldClass,form,inputErrorField,label,labelErrorField;form=$(element[0].form);errorFieldClass=jQuery(settings.input_tag).attr("class");inputErrorField=element.closest("."+(errorFieldClass.replace(" ",".")));label=form.find("label[for='"+(element.attr("id"))+"']:not(.message)");labelErrorField=label.closest("."+errorFieldClass);if(inputErrorField[0]){inputErrorField.find("#"+(element.attr("id"))).detach();inputErrorField.replaceWith(element);label.detach();return labelErrorField.replaceWith(label)}}}};window.ClientSideValidations.patterns={numericality:/^(-|\+)?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d*)?$/};window.ClientSideValidations.callbacks={element:{after:function(element,eventData){},before:function(element,eventData){},fail:function(element,message,addError,eventData){return addError()},pass:function(element,removeError,eventData){return removeError()}},form:{after:function(form,eventData){},before:function(form,eventData){},fail:function(form,eventData){},pass:function(form,eventData){}}};$(function(){ClientSideValidations.disableValidators();return $(ClientSideValidations.selectors.forms).validate()})}).call(this);(function(){ClientSideValidations.formBuilders["SimpleForm::FormBuilder"]={add:function(element,settings,message){return this.wrappers[settings.wrapper].add.call(this,element,settings,message)},remove:function(element,settings){return this.wrappers[settings.wrapper].remove.call(this,element,settings)},wrappers:{"default":{add:function(element,settings,message){var errorElement,wrapper;errorElement=element.parent().find(""+settings.error_tag+"."+settings.error_class);wrapper=element.closest(settings.wrapper_tag);if(errorElement[0]==null){errorElement=$("<"+settings.error_tag+"/>",{"class":settings.error_class,text:message});wrapper.append(errorElement)}wrapper.addClass(settings.wrapper_error_class);return errorElement.text(message)},remove:function(element,settings){var errorElement,wrapper;wrapper=element.closest(""+settings.wrapper_tag+"."+settings.wrapper_error_class);wrapper.removeClass(settings.wrapper_error_class);errorElement=wrapper.find(""+settings.error_tag+"."+settings.error_class);return errorElement.remove()}},bootstrap:{add:function(element,settings,message){var errorElement,wrapper_class_element,wrapper_tag_element;errorElement=element.parent().find(""+settings.error_tag+"."+settings.error_class);if(errorElement[0]==null){wrapper_tag_element=element.closest(settings.wrapper_tag);errorElement=$("<"+settings.error_tag+"/>",{"class":settings.error_class,text:message});wrapper_tag_element.append(errorElement)}wrapper_class_element=element.closest("."+settings.wrapper_class);wrapper_class_element.addClass(settings.wrapper_error_class);return errorElement.text(message)},remove:function(element,settings){var errorElement,wrapper_class_element,wrapper_tag_element;wrapper_class_element=element.closest("."+settings.wrapper_class+"."+settings.wrapper_error_class);wrapper_tag_element=element.closest(settings.wrapper_tag);wrapper_class_element.removeClass(settings.wrapper_error_class);errorElement=wrapper_tag_element.find(""+settings.error_tag+"."+settings.error_class);return errorElement.remove()}}}}}).call(this);(function(){ClientSideValidations.validators.local.transfer_domain=function(element,options){if($("#account_cancellation_transfer_domains").is(":checked")&&(element.val()==="")){return options.message}};ClientSideValidations.validators.local.external_url_format=function(element,options){if($("#page_page_type_external").is(":checked")&&(element.val()===""||(!/(^$)|(^(http|https):\/\/[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(([0-9]{1,5})?\/.*)?$)/i.test(element.val())))){return options.message}};ClientSideValidations.validators.local.url_format=function(element,options){if(!/(^$)|(^(http|https):\/\/[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(([0-9]{1,5})?\/.*)?$)/i.test(element.val())){return options.message}};ClientSideValidations.validators.local.email=function(element,options){if(!(element.val()===""||/^([^@\s]+)@((?:[-a-z0-9]+\.)+[a-z]{2,})$/i.test(element.val()))){return options.message}};ClientSideValidations.validators.local.micropayment_email=function(element,options){if((options.allow_blank===false||element.val()!=="")&&(element.val()===$("#store_setting_micropayment_account").closest("form").find("#store_setting_paypal_account").val())){return options.message}};ClientSideValidations.validators.local.dont_match_signature=function(element,options){if(element.val()===$("#note_signature").val()){return options.message}};ClientSideValidations.validators.local.file=function(element,options){var upload_state;upload_state=$(options.uploader).data("upload-state");if(upload_state==="ready"){if(/^\s*$/.test(element.val()||"")){return options.message}}else{return options.processing_message}};ClientSideValidations.validators.local.valid_store_option=function(element,options){var $filled,name,optionsAreBlank,selectize;name=$(element).attr("name").replace("name","values_as_value_list");selectize=$('[name="'+name+'"]')[0].selectize;$filled=selectize.$control.find(".item");optionsAreBlank=$filled.length===0;if($(element).is(":blank")!==optionsAreBlank){return options[optionsAreBlank?"noOptions":"withOptions"]}};ClientSideValidations.validators.local.file_presence=function(element,options){var name,val;name=$(element).attr("name");val=$("input[name='"+name+"']:last").val();if(val===""||typeof val==="undefined"){return options.message}};ClientSideValidations.validators.local.campaign_send_time=function(element,options){if($("input[name='campaign[send_when]']:checked").val()==="later"&&(element.val()==="")){return options.message}};ClientSideValidations.validators.local.existing_location=function(element,options){if(!$(element).parent().is(".found, .empty")){return options.message}};ClientSideValidations.validators.remote.safe_page_title=function(element,options){if(!($.ajax({url:"/validators/safe_page_title",data:{title:element.val()},async:false}).status===200)){return options.message}};ClientSideValidations.validators.remote.unique_owner_email=function(element,options){var email,user_id;email=element.val();user_id=$(element).parents("form").find("input#user_id").val();if(!($.ajax({url:"/validators/unique_owner_email",data:{email:element.val(),user_id:user_id},async:false}).status===200)){return options.message}};ClientSideValidations.validators.local.sale_price=function(element,options){var $regular_price,$salable,$sale_enabled,$sale_price;$salable=$(element).closest(".salable");$sale_enabled=$salable.find('[name$="[sale_enabled]"]');$regular_price=$salable.find('[name$="[regular_price]"]');$sale_price=$salable.find('[name$="[sale_price]"]');if($sale_enabled.is(":checked:visible")){if($sale_price.is(":blank")){return options.blankMessage}else{if(parseFloat($sale_price.val())>=parseFloat($regular_price.val())){return options.tooBigMessage}}}};ClientSideValidations.callbacks.form.fail=function(form,eventData){var $firstFieldWithError;$firstFieldWithError=$("div.field_with_errors").first();if($firstFieldWithError.length){return $.scrollTo($firstFieldWithError,{duration:250,offset:-2})}};ClientSideValidations.callbacks.element.after=function(element,eventData){var currency,errorItem,settings;settings=ClientSideValidations.forms[element.parents("form").attr("id")];currency=element.closest(".input").find(".current_code");errorItem=element.closest(".input").find("span."+settings.error_class);if(currency.length){element=currency}return errorItem.insertAfter(element)};ClientSideValidations.toggle={};ClientSideValidations.validator_defaults={presence:[{message:"This field is required."}],email:[{message:"This email does not appear to be valid"}],valid_store_option:[{noOptions:"Product option must have at least one value (or else be empty)",withOptions:"Product option must be filled in (or else have no values)"}],file_presence:[{message:"Please pick a file."}],sale_price:[{blankMessage:"Sale price cannot be blank.",tooBigMessage:"Sale price must be less than regular price."}]};ClientSideValidations.toggle.init=function(form_id,input_name){if(typeof ClientSideValidations.forms[form_id].validators[input_name]==="undefined"){return ClientSideValidations.forms[form_id].validators[input_name]={}}};ClientSideValidations.toggle.makeRequired=function(form_id,input_name,type){if(type==null){type="presence"}ClientSideValidations.toggle.init(form_id,input_name);ClientSideValidations.forms[form_id].validators[input_name][type]=ClientSideValidations.validator_defaults[type];return $("#"+form_id+" [name='"+input_name+"']").attr("data-validate",true).data("changed",true)};ClientSideValidations.toggle.makeOptional=function(form_id,input_name){ClientSideValidations.toggle.init(form_id,input_name);$("#"+form_id+" [name='"+input_name+"']").removeAttr("data-validate").data("changed",true);return delete ClientSideValidations.forms[form_id].validators[input_name]};$.fn.toggleValidation=function(set){var elem,f,form_id,selector,_i,_len,_ref;form_id=this.closest("form").attr("id");selector="input"+(set?":not([data-validate])":"[data-validate]");f=set?ClientSideValidations.toggle.makeRequired:ClientSideValidations.toggle.makeOptional;_ref=this.find(selector);for(_i=0,_len=_ref.length;_i<_len;_i++){elem=_ref[_i];f(form_id,elem.name,"presence");if(elem.name.indexOf("email")!==-1){f(form_id,elem.name,"email")}}return this}}).call(this);(function(){var oldValidation,original;oldValidation=$.fn.isValid;$.fn.isValid=function(validators){var obj,valid;obj=$(this[0]);if(obj.is("form")){obj.data("submit-attempted",true)}if(obj.closest("form").data("submit-attempted")){valid=oldValidation.call(this,validators)}if(obj.is("form")&&valid){obj.data("submit-attempted",false)}return valid};ClientSideValidations.formBuilders["SimpleForm::FormBuilder"].wrappers.bz=ClientSideValidations.formBuilders["SimpleForm::FormBuilder"].wrappers["default"];ClientSideValidations.selectors.inputs=':input:not(button):not([type="submit"])[name]';ClientSideValidations.selectors.validate_inputs=":input[data-validate]";original=ClientSideValidations.reset;ClientSideValidations.reset=function(form){if(form.ClientSideValidations){return original(form)}}}).call(this);
/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.core.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,b){function c(b,c){var e=b.nodeName.toLowerCase();if("area"===e){var f=b.parentNode,g=f.name,h;return !b.href||!g||f.nodeName.toLowerCase()!=="map"?!1:(h=a("img[usemap=#"+g+"]")[0],!!h&&d(h))}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||c:c)&&d(b)}function d(b){return !a(b).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};if(a.ui.version){return}a.extend(a.ui,{version:"1.8.24",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return typeof b=="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?b=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):b=this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b){return this.css("zIndex",c)}if(this.length){var d=a(this[0]),e,f;while(d.length&&d[0]!==document){e=d.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){f=parseInt(d.css("zIndex"),10);if(!isNaN(f)&&f!==0){return f}}d=d.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function h(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.curCSS(b,"padding"+this,!0))||0,d&&(c-=parseFloat(a.curCSS(b,"border"+this+"Width",!0))||0),f&&(c-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)}),c}var e=d==="Width"?["Left","Right"]:["Top","Bottom"],f=d.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?g["inner"+d].call(this):this.each(function(){a(this).css(f,h(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return typeof b!="number"?g["outer"+d].call(this,b):this.each(function(){a(this).css(f,h(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return !!a.data(c,b)}}):function(b,c,d){return !!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));c.offsetHeight,a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=c.offsetHeight===100,a.support.selectstart="onselectstart" in c,b.removeChild(c).style.display="none"}),a.curCSS||(a.curCSS=a.css),a.extend(a.ui,{plugin:{add:function(b,c,d){var e=a.ui[b].prototype;for(var f in d){e.plugins[f]=e.plugins[f]||[],e.plugins[f].push([c,d[f]])}},call:function(a,b,c){var d=a.plugins[b];if(!d||!a.element[0].parentNode){return}for(var e=0;e<d.length;e++){a.options[d[e][0]]&&d[e][1].apply(a.element,c)}}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if(a(b).css("overflow")==="hidden"){return !1}var d=c&&c==="left"?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}})})(jQuery);
/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.widget.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d=0,e;(e=b[d])!=null;d++){try{a(e).triggerHandler("remove")}catch(f){}}c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){return c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}}),d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e=b.split(".")[0],f;b=b.split(".")[1],f=e+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][f]=function(c){return !!a.data(c,b)},a[e]=a[e]||{},a[e][b]=function(a,b){arguments.length&&this._createWidget(a,b)};var g=new c;g.options=a.extend(!0,{},g.options),a[e][b].prototype=a.extend(!0,g,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:f},d),a.widget.bridge(b,a[e][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f=typeof e=="string",g=Array.prototype.slice.call(arguments,1),h=this;return e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e,f&&e.charAt(0)==="_"?h:(f?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;if(f!==d&&f!==b){return h=f,!1}}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))}),h)}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var e=c;if(arguments.length===0){return a.extend({},this.options)}if(typeof c=="string"){if(d===b){return this.options[c]}e={},e[c]=d}return this._setOptions(e),this},_setOptions:function(b){var c=this;return a.each(b,function(a,b){c._setOption(a,b)}),this},_setOption:function(a,b){return this.options[a]=b,a==="disabled"&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",b),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var e,f,g=this.options[b];d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent;if(f){for(e in f){e in c||(c[e]=f[e])}}return this.element.trigger(c,d),!(a.isFunction(g)&&g.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}})(jQuery);
/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.position.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,b){a.ui=a.ui||{};var c=/left|center|right/,d=/top|center|bottom/,e="center",f={},g=a.fn.position,h=a.fn.offset;a.fn.position=function(b){if(!b||!b.of){return g.apply(this,arguments)}b=a.extend({},b);var h=a(b.of),i=h[0],j=(b.collision||"flip").split(" "),k=b.offset?b.offset.split(" "):[0,0],l,m,n;return i.nodeType===9?(l=h.width(),m=h.height(),n={top:0,left:0}):i.setTimeout?(l=h.width(),m=h.height(),n={top:h.scrollTop(),left:h.scrollLeft()}):i.preventDefault?(b.at="left top",l=m=0,n={top:b.of.pageY,left:b.of.pageX}):(l=h.outerWidth(),m=h.outerHeight(),n=h.offset()),a.each(["my","at"],function(){var a=(b[this]||"").split(" ");a.length===1&&(a=c.test(a[0])?a.concat([e]):d.test(a[0])?[e].concat(a):[e,e]),a[0]=c.test(a[0])?a[0]:e,a[1]=d.test(a[1])?a[1]:e,b[this]=a}),j.length===1&&(j[1]=j[0]),k[0]=parseInt(k[0],10)||0,k.length===1&&(k[1]=k[0]),k[1]=parseInt(k[1],10)||0,b.at[0]==="right"?n.left+=l:b.at[0]===e&&(n.left+=l/2),b.at[1]==="bottom"?n.top+=m:b.at[1]===e&&(n.top+=m/2),n.left+=k[0],n.top+=k[1],this.each(function(){var c=a(this),d=c.outerWidth(),g=c.outerHeight(),h=parseInt(a.curCSS(this,"marginLeft",!0))||0,i=parseInt(a.curCSS(this,"marginTop",!0))||0,o=d+h+(parseInt(a.curCSS(this,"marginRight",!0))||0),p=g+i+(parseInt(a.curCSS(this,"marginBottom",!0))||0),q=a.extend({},n),r;b.my[0]==="right"?q.left-=d:b.my[0]===e&&(q.left-=d/2),b.my[1]==="bottom"?q.top-=g:b.my[1]===e&&(q.top-=g/2),f.fractions||(q.left=Math.round(q.left),q.top=Math.round(q.top)),r={left:q.left-h,top:q.top-i},a.each(["left","top"],function(c,e){a.ui.position[j[c]]&&a.ui.position[j[c]][e](q,{targetWidth:l,targetHeight:m,elemWidth:d,elemHeight:g,collisionPosition:r,collisionWidth:o,collisionHeight:p,offset:k,my:b.my,at:b.at})}),a.fn.bgiframe&&c.bgiframe(),c.offset(a.extend(q,{using:b.using}))})},a.ui.position={fit:{left:function(b,c){var d=a(window),e=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();b.left=e>0?b.left-e:Math.max(b.left-c.collisionPosition.left,b.left)},top:function(b,c){var d=a(window),e=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();b.top=e>0?b.top-e:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function(b,c){if(c.at[0]===e){return}var d=a(window),f=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft(),g=c.my[0]==="left"?-c.elemWidth:c.my[0]==="right"?c.elemWidth:0,h=c.at[0]==="left"?c.targetWidth:-c.targetWidth,i=-2*c.offset[0];b.left+=c.collisionPosition.left<0?g+h+i:f>0?g+h+i:0},top:function(b,c){if(c.at[1]===e){return}var d=a(window),f=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop(),g=c.my[1]==="top"?-c.elemHeight:c.my[1]==="bottom"?c.elemHeight:0,h=c.at[1]==="top"?c.targetHeight:-c.targetHeight,i=-2*c.offset[1];b.top+=c.collisionPosition.top<0?g+h+i:f>0?g+h+i:0}}},a.offset.setOffset||(a.offset.setOffset=function(b,c){/static/.test(a.curCSS(b,"position"))&&(b.style.position="relative");var d=a(b),e=d.offset(),f=parseInt(a.curCSS(b,"top",!0),10)||0,g=parseInt(a.curCSS(b,"left",!0),10)||0,h={top:c.top-e.top+f,left:c.left-e.left+g};"using" in c?c.using.call(b,h):d.css(h)},a.fn.offset=function(b){var c=this[0];return !c||!c.ownerDocument?null:b?a.isFunction(b)?this.each(function(c){a(this).offset(b.call(this,c,a(this).offset()))}):this.each(function(){a.offset.setOffset(this,b)}):h.call(this)}),a.curCSS||(a.curCSS=a.css),function(){var b=document.getElementsByTagName("body")[0],c=document.createElement("div"),d,e,g,h,i;d=document.createElement(b?"div":"body"),g={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},b&&a.extend(g,{position:"absolute",left:"-1000px",top:"-1000px"});for(var j in g){d.style[j]=g[j]}d.appendChild(c),e=b||document.documentElement,e.insertBefore(d,e.firstChild),c.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",h=a(c).offset(function(a,b){return b}).offset(),d.innerHTML="",e.removeChild(d),i=h.top+h.left+(b?2000:0),f.fractions=i>21&&i<22}()})(jQuery);
/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.autocomplete.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,b){var c=0;a.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var b=this,c=this.element[0].ownerDocument,d;this.isMultiLine=this.element.is("textarea"),this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(c){if(b.options.disabled||b.element.propAttr("readOnly")){return}d=!1;var e=a.ui.keyCode;switch(c.keyCode){case e.PAGE_UP:b._move("previousPage",c);break;case e.PAGE_DOWN:b._move("nextPage",c);break;case e.UP:b._keyEvent("previous",c);break;case e.DOWN:b._keyEvent("next",c);break;case e.ENTER:case e.NUMPAD_ENTER:b.menu.active&&(d=!0,c.preventDefault());case e.TAB:if(!b.menu.active){return}b.menu.select(c);break;case e.ESCAPE:b.element.val(b.term),b.close(c);break;default:clearTimeout(b.searching),b.searching=setTimeout(function(){b.term!=b.element.val()&&(b.selectedItem=null,b.search(null,c))},b.options.delay)}}).bind("keypress.autocomplete",function(a){d&&(d=!1,a.preventDefault())}).bind("focus.autocomplete",function(){if(b.options.disabled){return}b.selectedItem=null,b.previous=b.element.val()}).bind("blur.autocomplete",function(a){if(b.options.disabled){return}clearTimeout(b.searching),b.closing=setTimeout(function(){b.close(a),b._change(a)},150)}),this._initSource(),this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||"body",c)[0]).mousedown(function(c){var d=b.menu.element[0];a(c.target).closest(".ui-menu-item").length||setTimeout(function(){a(document).one("mousedown",function(c){c.target!==b.element[0]&&c.target!==d&&!a.ui.contains(d,c.target)&&b.close()})},1),setTimeout(function(){clearTimeout(b.closing)},13)}).menu({focus:function(a,c){var d=c.item.data("item.autocomplete");!1!==b._trigger("focus",a,{item:d})&&/^key/.test(a.originalEvent.type)&&b.element.val(d.value)},selected:function(a,d){var e=d.item.data("item.autocomplete"),f=b.previous;b.element[0]!==c.activeElement&&(b.element.focus(),b.previous=f,setTimeout(function(){b.previous=f,b.selectedItem=e},1)),!1!==b._trigger("select",a,{item:e})&&b.element.val(e.value),b.term=b.element.val(),b.close(a),b.selectedItem=e},blur:function(a,c){b.menu.element.is(":visible")&&b.element.val()!==b.term&&b.element.val(b.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),a.fn.bgiframe&&this.menu.element.bgiframe(),b.beforeunloadHandler=function(){b.element.removeAttr("autocomplete")},a(window).bind("beforeunload",b.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),a(window).unbind("beforeunload",this.beforeunloadHandler),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),b==="source"&&this._initSource(),b==="appendTo"&&this.menu.element.appendTo(a(c||"body",this.element[0].ownerDocument)[0]),b==="disabled"&&c&&this.xhr&&this.xhr.abort()},_initSource:function(){var b=this,c,d;a.isArray(this.options.source)?(c=this.options.source,this.source=function(b,d){d(a.ui.autocomplete.filter(c,b.term))}):typeof this.options.source=="string"?(d=this.options.source,this.source=function(c,e){b.xhr&&b.xhr.abort(),b.xhr=a.ajax({url:d,data:c,dataType:"json",success:function(a,b){e(a)},error:function(){e([])}})}):this.source=this.options.source},search:function(a,b){a=a!=null?a:this.element.val(),this.term=this.element.val();if(a.length<this.options.minLength){return this.close(b)}clearTimeout(this.closing);if(this._trigger("search",b)===!1){return}return this._search(a)},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:a},this._response())},_response:function(){var a=this,b=++c;return function(d){b===c&&a.__response(d),a.pending--,a.pending||a.element.removeClass("ui-autocomplete-loading")}},__response:function(a){!this.options.disabled&&a&&a.length?(a=this._normalize(a),this._suggest(a),this._trigger("open")):this.close()},close:function(a){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",a))},_change:function(a){this.previous!==this.element.val()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return typeof b=="string"?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,b),this.menu.deactivate(),this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new a.Event("mouseover"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItem(b,c)})},_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append(a("<a></a>").text(c.label)).appendTo(b)},_move:function(a,b){if(!this.menu.element.is(":visible")){this.search(null,b);return}if(this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a)){this.element.val(this.term),this.menu.deactivate();return}this.menu[a](b)},widget:function(){return this.menu.element},_keyEvent:function(a,b){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(a,b),b.preventDefault()}}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}})})(jQuery),function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){if(!a(c.target).closest(".ui-menu-item a").length){return}c.preventDefault(),b.select(c)}),this.refresh()},refresh:function(){var b=this,c=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");c.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(c){b.activate(c,a(this).parent())}).mouseleave(function(){b.deactivate()})},activate:function(a,b){this.deactivate();if(this.hasScroll()){var c=b.offset().top-this.element.offset().top,d=this.element.scrollTop(),e=this.element.height();c<0?this.element.scrollTop(d+c):c>=e&&this.element.scrollTop(d+c-e+b.height())}this.active=b.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",a,{item:b})},deactivate:function(){if(!this.active){return}this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null},next:function(a){this.move("next",".ui-menu-item:first",a)},previous:function(a){this.move("prev",".ui-menu-item:last",a)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(a,b,c){if(!this.active){this.activate(c,this.element.children(b));return}var d=this.active[a+"All"](".ui-menu-item").eq(0);d.length?this.activate(c,d):this.activate(c,this.element.children(b))},nextPage:function(b){if(this.hasScroll()){if(!this.active||this.last()){this.activate(b,this.element.children(".ui-menu-item:first"));return}var c=this.active.offset().top,d=this.element.height(),e=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c-d+a(this).height();return b<10&&b>-10});e.length||(e=this.element.children(".ui-menu-item:last")),this.activate(b,e)}else{this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))}},previousPage:function(b){if(this.hasScroll()){if(!this.active||this.first()){this.activate(b,this.element.children(".ui-menu-item:last"));return}var c=this.active.offset().top,d=this.element.height(),e=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c+d-a(this).height();return b<10&&b>-10});e.length||(e=this.element.children(".ui-menu-item:first")),this.activate(b,e)}else{this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))}},hasScroll:function(){return this.element.height()<this.element[a.fn.prop?"prop":"attr"]("scrollHeight")},select:function(a){this._trigger("selected",a,{item:this.active})}})}(jQuery);
/*!
 * jQuery.ScrollTo
 * Copyright (c) 2007-2012 Ariel Flesler - aflesler(at)gmail(dot)com | http://flesler.blogspot.com
 * Dual licensed under MIT and GPL.
 * Date: 12/14/2012
 *
 * @projectDescription Easy element scrolling using jQuery.
 * http://flesler.blogspot.com/2007/10/jqueryscrollto.html
 * @author Ariel Flesler
 * @version 1.4.5 BETA
 *
 * @id jQuery.scrollTo
 * @id jQuery.fn.scrollTo
 * @param {String, Number, DOMElement, jQuery, Object} target Where to scroll the matched elements.
 *	  The different options for target are:
 *		- A number position (will be applied to all axes).
 *		- A string position ('44', '100px', '+=90', etc ) will be applied to all axes
 *		- A jQuery/DOM element ( logically, child of the element to scroll )
 *		- A string selector, that will be relative to the element to scroll ( 'li:eq(2)', etc )
 *		- A hash { top:x, left:y }, x and y can be any kind of number/string like above.
 *		- A percentage of the container's dimension/s, for example: 50% to go to the middle.
 *		- The string 'max' for go-to-end. 
 * @param {Number, Function} duration The OVERALL length of the animation, this argument can be the settings object instead.
 * @param {Object,Function} settings Optional set of settings or the onAfter callback.
 *	 @option {String} axis Which axis must be scrolled, use 'x', 'y', 'xy' or 'yx'.
 *	 @option {Number, Function} duration The OVERALL length of the animation.
 *	 @option {String} easing The easing method for the animation.
 *	 @option {Boolean} margin If true, the margin of the target element will be deducted from the final position.
 *	 @option {Object, Number} offset Add/deduct from the end position. One number for both axes or { top:x, left:y }.
 *	 @option {Object, Number} over Add/deduct the height/width multiplied by 'over', can be { top:x, left:y } when using both axes.
 *	 @option {Boolean} queue If true, and both axis are given, the 2nd axis will only be animated after the first one ends.
 *	 @option {Function} onAfter Function to be called after the scrolling ends. 
 *	 @option {Function} onAfterFirst If queuing is activated, this function will be called after the first scrolling ends.
 * @return {jQuery} Returns the same jQuery object, for chaining.
 *
 * @desc Scroll to a fixed position
 * @example $('div').scrollTo( 340 );
 *
 * @desc Scroll relatively to the actual position
 * @example $('div').scrollTo( '+=340px', { axis:'y' } );
 *
 * @desc Scroll using a selector (relative to the scrolled element)
 * @example $('div').scrollTo( 'p.paragraph:eq(2)', 500, { easing:'swing', queue:true, axis:'xy' } );
 *
 * @desc Scroll to a DOM element (same for jQuery object)
 * @example var second_child = document.getElementById('container').firstChild.nextSibling;
 *			$('#container').scrollTo( second_child, { duration:500, axis:'x', onAfter:function(){
 *				alert('scrolled!!');																   
 *			}});
 *
 * @desc Scroll on both axes, to different values
 * @example $('div').scrollTo( { top: 300, left:'+=200' }, { axis:'xy', offset:-20 } );
 */
;(function($){var $scrollTo=$.scrollTo=function(target,duration,settings){$(window).scrollTo(target,duration,settings)};$scrollTo.defaults={axis:"xy",duration:parseFloat($.fn.jquery)>=1.3?0:1,limit:true};$scrollTo.window=function(scope){return $(window)._scrollable()};$.fn._scrollable=function(){return this.map(function(){var elem=this,isWin=!elem.nodeName||$.inArray(elem.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!isWin){return elem}var doc=(elem.contentWindow||elem).document||elem.ownerDocument||elem;return/webkit/i.test(navigator.userAgent)||doc.compatMode=="BackCompat"?doc.body:doc.documentElement})};$.fn.scrollTo=function(target,duration,settings){if(typeof duration=="object"){settings=duration;duration=0}if(typeof settings=="function"){settings={onAfter:settings}}if(target=="max"){target=9000000000}settings=$.extend({},$scrollTo.defaults,settings);duration=duration||settings.duration;settings.queue=settings.queue&&settings.axis.length>1;if(settings.queue){duration/=2}settings.offset=both(settings.offset);settings.over=both(settings.over);return this._scrollable().each(function(){if(target==null){return}var elem=this,$elem=$(elem),targ=target,toff,attr={},win=$elem.is("html,body");switch(typeof targ){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(targ)){targ=both(targ);break}targ=$(targ,this);if(!targ.length){return}case"object":if(targ.is||targ.style){toff=(targ=$(targ)).offset()}}$.each(settings.axis.split(""),function(i,axis){var Pos=axis=="x"?"Left":"Top",pos=Pos.toLowerCase(),key="scroll"+Pos,old=elem[key],max=$scrollTo.max(elem,axis);if(toff){attr[key]=toff[pos]+(win?0:old-$elem.offset()[pos]);if(settings.margin){attr[key]-=parseInt(targ.css("margin"+Pos))||0;attr[key]-=parseInt(targ.css("border"+Pos+"Width"))||0}attr[key]+=settings.offset[pos]||0;if(settings.over[pos]){attr[key]+=targ[axis=="x"?"width":"height"]()*settings.over[pos]}}else{var val=targ[pos];attr[key]=val.slice&&val.slice(-1)=="%"?parseFloat(val)/100*max:val}if(settings.limit&&/^\d+$/.test(attr[key])){attr[key]=attr[key]<=0?0:Math.min(attr[key],max)}if(!i&&settings.queue){if(old!=attr[key]){animate(settings.onAfterFirst)}delete attr[key]}});animate(settings.onAfter);function animate(callback){$elem.animate(attr,duration,settings.easing,callback&&function(){callback.call(this,target,settings)})}}).end()};$scrollTo.max=function(elem,axis){var Dim=axis=="x"?"Width":"Height",scroll="scroll"+Dim;if(!$(elem).is("html,body")){return elem[scroll]-$(elem)[Dim.toLowerCase()]()}var size="client"+Dim,html=elem.ownerDocument.documentElement,body=elem.ownerDocument.body;return Math.max(html[scroll],body[scroll])-Math.min(html[size],body[size])};function both(val){return typeof val=="object"?val:{top:val,left:val}}})(jQuery);
/*!
 * From jQuery UI 1.8.20
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function($,undefined){function focusable(element,isTabIndexNotNaN){var nodeName=element.nodeName.toLowerCase();if("area"===nodeName){var map=element.parentNode,mapName=map.name,img;if(!element.href||!mapName||map.nodeName.toLowerCase()!=="map"){return false}img=$("img[usemap=#"+mapName+"]")[0];return !!img&&visible(img)}return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element)}function visible(element){return !$(element).parents().andSelf().filter(function(){return $.curCSS(this,"visibility")==="hidden"||$.expr.filters.hidden(this)}).length}$.extend($.expr[":"],{focusable:function(element){return focusable(element,!isNaN($.attr(element,"tabindex")))}})}(jQuery));(function($){var UNDEF="undefined";var getSelection,setSelection,deleteSelectedText,deleteText,insertText;var replaceSelectedText,surroundSelectedText,extractSelectedText,collapseSelection;function isHostMethod(object,property){var t=typeof object[property];return t==="function"||(!!(t=="object"&&object[property]))||t=="unknown"}function isHostProperty(object,property){return typeof(object[property])!=UNDEF}function isHostObject(object,property){return !!(typeof(object[property])=="object"&&object[property])}function fail(reason){if(window.console&&window.console.log){window.console.log("TextInputs module for Rangy not supported in your browser. Reason: "+reason)}}function adjustOffsets(el,start,end){if(start<0){start+=el.value.length}if(typeof end==UNDEF){end=start}if(end<0){end+=el.value.length}return{start:start,end:end}}function makeSelection(el,start,end){return{start:start,end:end,length:end-start,text:el.value.slice(start,end)}}function getBody(){return isHostObject(document,"body")?document.body:document.getElementsByTagName("body")[0]}$(document).ready(function(){var testTextArea=document.createElement("textarea");getBody().appendChild(testTextArea);if(isHostProperty(testTextArea,"selectionStart")&&isHostProperty(testTextArea,"selectionEnd")){getSelection=function(el){var start=el.selectionStart,end=el.selectionEnd;return makeSelection(el,start,end)};setSelection=function(el,startOffset,endOffset){var offsets=adjustOffsets(el,startOffset,endOffset);el.selectionStart=offsets.start;el.selectionEnd=offsets.end};collapseSelection=function(el,toStart){if(toStart){el.selectionEnd=el.selectionStart}else{el.selectionStart=el.selectionEnd}}}else{if(isHostMethod(testTextArea,"createTextRange")&&isHostObject(document,"selection")&&isHostMethod(document.selection,"createRange")){getSelection=function(el){var start=0,end=0,normalizedValue,textInputRange,len,endRange;var range=document.selection.createRange();if(range&&range.parentElement()==el){len=el.value.length;normalizedValue=el.value.replace(/\r\n/g,"\n");textInputRange=el.createTextRange();textInputRange.moveToBookmark(range.getBookmark());endRange=el.createTextRange();endRange.collapse(false);if(textInputRange.compareEndPoints("StartToEnd",endRange)>-1){start=end=len}else{start=-textInputRange.moveStart("character",-len);start+=normalizedValue.slice(0,start).split("\n").length-1;if(textInputRange.compareEndPoints("EndToEnd",endRange)>-1){end=len}else{end=-textInputRange.moveEnd("character",-len);end+=normalizedValue.slice(0,end).split("\n").length-1}}}return makeSelection(el,start,end)};var offsetToRangeCharacterMove=function(el,offset){return offset-(el.value.slice(0,offset).split("\r\n").length-1)};setSelection=function(el,startOffset,endOffset){var offsets=adjustOffsets(el,startOffset,endOffset);var range=el.createTextRange();var startCharMove=offsetToRangeCharacterMove(el,offsets.start);range.collapse(true);if(offsets.start==offsets.end){range.move("character",startCharMove)}else{range.moveEnd("character",offsetToRangeCharacterMove(el,offsets.end));range.moveStart("character",startCharMove)}range.select()};collapseSelection=function(el,toStart){var range=document.selection.createRange();range.collapse(toStart);range.select()}}else{getBody().removeChild(testTextArea);fail("No means of finding text input caret position");return}}getBody().removeChild(testTextArea);deleteText=function(el,start,end,moveSelection){var val;if(start!=end){val=el.value;el.value=val.slice(0,start)+val.slice(end)}if(moveSelection){setSelection(el,start,start)}};deleteSelectedText=function(el){var sel=getSelection(el);deleteText(el,sel.start,sel.end,true)};extractSelectedText=function(el){var sel=getSelection(el),val;if(sel.start!=sel.end){val=el.value;el.value=val.slice(0,sel.start)+val.slice(sel.end)}setSelection(el,sel.start,sel.start);return sel.text};insertText=function(el,text,index,moveSelection){var val=el.value,caretIndex;el.value=val.slice(0,index)+text+val.slice(index);if(moveSelection){caretIndex=index+text.length;setSelection(el,caretIndex,caretIndex)}};replaceSelectedText=function(el,text){var sel=getSelection(el),val=el.value;el.value=val.slice(0,sel.start)+text+val.slice(sel.end);var caretIndex=sel.start+text.length;setSelection(el,caretIndex,caretIndex)};surroundSelectedText=function(el,before,after){var sel=getSelection(el),val=el.value;el.value=val.slice(0,sel.start)+before+sel.text+after+val.slice(sel.end);var startIndex=sel.start+before.length;var endIndex=startIndex+sel.length;setSelection(el,startIndex,endIndex)};function jQuerify(func,returnThis){return function(){var el=this.jquery?this[0]:this;var nodeName=el.nodeName.toLowerCase();if(el.nodeType==1&&(nodeName=="textarea"||(nodeName=="input"&&el.type=="text"))){var args=[el].concat(Array.prototype.slice.call(arguments));var result=func.apply(this,args);if(!returnThis){return result}}if(returnThis){return this}}}$.fn.extend({getSelection:jQuerify(getSelection,false),setSelection:jQuerify(setSelection,true),collapseSelection:jQuerify(collapseSelection,true),deleteSelectedText:jQuerify(deleteSelectedText,true),deleteText:jQuerify(deleteText,true),extractSelectedText:jQuerify(extractSelectedText,false),insertText:jQuerify(insertText,true),replaceSelectedText:jQuerify(replaceSelectedText,true),surroundSelectedText:jQuerify(surroundSelectedText,true)})})})(jQuery);
/*!
 * imagesLoaded PACKAGED v3.1.7
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(){function e(){}function t(e,t){for(var n=e.length;n--;){if(e[n].listener===t){return n}}return -1}function n(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,r=this,o=r.EventEmitter;i.getListeners=function(e){var t,n,i=this._getEvents();if("object"==typeof e){t={};for(n in i){i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}}else{t=i[e]||(i[e]=[])}return t},i.flattenListeners=function(e){var t,n=[];for(t=0;e.length>t;t+=1){n.push(e[t].listener)}return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,n){var i,r=this.getListenersAsObject(e),o="object"==typeof n;for(i in r){r.hasOwnProperty(i)&&-1===t(r[i],n)&&r[i].push(o?n:{listener:n,once:!1})}return this},i.on=n("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;e.length>t;t+=1){this.defineEvent(e[t])}return this},i.removeListener=function(e,n){var i,r,o=this.getListenersAsObject(e);for(r in o){o.hasOwnProperty(r)&&(i=t(o[r],n),-1!==i&&o[r].splice(i,1))}return this},i.off=n("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,r,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp){for(i=n.length;i--;){o.call(this,t,n[i])}}else{for(i in t){t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r))}}return this},i.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n){delete i[e]}else{if("object"===n){for(t in i){i.hasOwnProperty(t)&&e.test(t)&&delete i[t]}}else{delete this._events}}return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(e,t){var n,i,r,o,s=this.getListenersAsObject(e);for(r in s){if(s.hasOwnProperty(r)){for(i=s[r].length;i--;){n=s[r][i],n.once===!0&&this.removeListener(e,n.listener),o=n.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,n.listener)}}}return this},i.trigger=n("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=o,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}).call(this),function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(i=function(e,n,i){e[n+i]=i.handleEvent?function(){var n=t(e);i.handleEvent.call(i,n)}:function(){var n=t(e);i.call(e,n)},e.attachEvent("on"+n,e[n+i])});var r=function(){};n.removeEventListener?r=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(r=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var o={bind:i,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",o):e.eventie=o}(this),function(e,t){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(n,i){return t(e,n,i)}):"object"==typeof exports?module.exports=t(e,require("eventEmitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(window,function(e,t,n){function i(e,t){for(var n in t){e[n]=t[n]}return e}function r(e){return"[object Array]"===d.call(e)}function o(e){var t=[];if(r(e)){t=e}else{if("number"==typeof e.length){for(var n=0,i=e.length;i>n;n++){t.push(e[n])}}else{t.push(e)}}return t}function s(e,t,n){if(!(this instanceof s)){return new s(e,t)}"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=o(e),this.options=i({},this.options),"function"==typeof t?n=t:i(this.options,t),n&&this.on("always",n),this.getImages(),a&&(this.jqDeferred=new a.Deferred);var r=this;setTimeout(function(){r.check()})}function c(e){this.img=e}function f(e){this.src=e,v[e]=this}var a=e.jQuery,u=e.console,h=u!==void 0,d=Object.prototype.toString;s.prototype=new t,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);var i=n.nodeType;if(i&&(1===i||9===i||11===i)){for(var r=n.querySelectorAll("img"),o=0,s=r.length;s>o;o++){var c=r[o];this.addImage(c)}}}},s.prototype.addImage=function(e){var t=new c(e);this.images.push(t)},s.prototype.check=function(){function e(e,r){return t.options.debug&&h&&u.log("confirm",e,r),t.progress(e),n++,n===i&&t.complete(),!0}var t=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,!i){return this.complete(),void 0}for(var r=0;i>r;r++){var o=this.images[r];o.on("confirm",e),o.check()}},s.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var n=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[n](t)}})},a&&(a.fn.imagesLoaded=function(e,t){var n=new s(this,e,t);return n.jqDeferred.promise(a(this))}),c.prototype=new t,c.prototype.check=function(){var e=v[this.img.src]||new f(this.img.src);if(e.isConfirmed){return this.confirm(e.isLoaded,"cached was confirmed"),void 0}if(this.img.complete&&void 0!==this.img.naturalWidth){return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0}var t=this;e.on("confirm",function(e,n){return t.confirm(e.isLoaded,n),!0}),e.check()},c.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var v={};return f.prototype=new t,f.prototype.check=function(){if(!this.isChecked){var e=new Image;n.bind(e,"load",this),n.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},f.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},f.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},f.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},f.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},f.prototype.unbindProxyEvents=function(e){n.unbind(e.target,"load",this),n.unbind(e.target,"error",this)},s});
/*!
 * Isotope PACKAGED v2.0.0
 * Filter & sort magical layouts
 * http://isotope.metafizzy.co
 */
(function(t){function e(){}function i(t){function i(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function n(e,i){t.fn[e]=function(n){if("string"==typeof n){for(var s=o.call(arguments,1),a=0,u=this.length;u>a;a++){var p=this[a],h=t.data(p,e);if(h){if(t.isFunction(h[n])&&"_"!==n.charAt(0)){var f=h[n].apply(h,s);if(void 0!==f){return f}}else{r("no such method '"+n+"' for "+e+" instance")}}else{r("cannot call methods on "+e+" prior to initialization; attempted to call '"+n+"'")}}return this}return this.each(function(){var o=t.data(this,e);o?(o.option(n),o._init()):(o=new i(this,n),t.data(this,e,o))})}}if(t){var r="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){i(e),n(t,e)},t.bridget}}var o=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],i):i(t.jQuery)})(window),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,o=function(){};i.addEventListener?o=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(o=function(t,i,o){t[i+o]=o.handleEvent?function(){var i=e(t);o.handleEvent.call(o,i)}:function(){var i=e(t);o.call(t,i)},t.attachEvent("on"+i,t[i+o])});var n=function(){};i.removeEventListener?n=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(n=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(o){t[e+i]=void 0}});var r={bind:o,unbind:n};"function"==typeof define&&define.amd?define("eventie/eventie",r):"object"==typeof exports?module.exports=r:t.eventie=r}(this),function(t){function e(t){"function"==typeof t&&(e.isReady?t():r.push(t))}function i(t){var i="readystatechange"===t.type&&"complete"!==n.readyState;if(!e.isReady&&!i){e.isReady=!0;for(var o=0,s=r.length;s>o;o++){var a=r[o];a()}}}function o(o){return o.bind(n,"DOMContentLoaded",i),o.bind(n,"readystatechange",i),o.bind(t,"load",i),e}var n=t.document,r=[];e.isReady=!1,"function"==typeof define&&define.amd?(e.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],o)):t.docReady=o(t.eventie)}(this),function(){function t(){}function e(t,e){for(var i=t.length;i--;){if(t[i].listener===e){return i}}return -1}function i(t){return function(){return this[t].apply(this,arguments)}}var o=t.prototype,n=this,r=n.EventEmitter;o.getListeners=function(t){var e,i,o=this._getEvents();if(t instanceof RegExp){e={};for(i in o){o.hasOwnProperty(i)&&t.test(i)&&(e[i]=o[i])}}else{e=o[t]||(o[t]=[])}return e},o.flattenListeners=function(t){var e,i=[];for(e=0;t.length>e;e+=1){i.push(t[e].listener)}return i},o.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},o.addListener=function(t,i){var o,n=this.getListenersAsObject(t),r="object"==typeof i;for(o in n){n.hasOwnProperty(o)&&-1===e(n[o],i)&&n[o].push(r?i:{listener:i,once:!1})}return this},o.on=i("addListener"),o.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},o.once=i("addOnceListener"),o.defineEvent=function(t){return this.getListeners(t),this},o.defineEvents=function(t){for(var e=0;t.length>e;e+=1){this.defineEvent(t[e])}return this},o.removeListener=function(t,i){var o,n,r=this.getListenersAsObject(t);for(n in r){r.hasOwnProperty(n)&&(o=e(r[n],i),-1!==o&&r[n].splice(o,1))}return this},o.off=i("removeListener"),o.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},o.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},o.manipulateListeners=function(t,e,i){var o,n,r=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp){for(o=i.length;o--;){r.call(this,e,i[o])}}else{for(o in e){e.hasOwnProperty(o)&&(n=e[o])&&("function"==typeof n?r.call(this,o,n):s.call(this,o,n))}}return this},o.removeEvent=function(t){var e,i=typeof t,o=this._getEvents();if("string"===i){delete o[t]}else{if(t instanceof RegExp){for(e in o){o.hasOwnProperty(e)&&t.test(e)&&delete o[e]}}else{delete this._events}}return this},o.removeAllListeners=i("removeEvent"),o.emitEvent=function(t,e){var i,o,n,r,s=this.getListenersAsObject(t);for(n in s){if(s.hasOwnProperty(n)){for(o=s[n].length;o--;){i=s[n][o],i.once===!0&&this.removeListener(t,i.listener),r=i.listener.apply(this,e||[]),r===this._getOnceReturnValue()&&this.removeListener(t,i.listener)}}}return this},o.trigger=i("emitEvent"),o.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},o.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},o._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},o._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return n.EventEmitter=r,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof o[t]){return t}t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,n=0,r=i.length;r>n;n++){if(e=i[n]+t,"string"==typeof o[e]){return e}}}}var i="Webkit Moz ms Ms O".split(" "),o=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t){function e(t){var e=parseFloat(t),i=-1===t.indexOf("%")&&!isNaN(e);return i&&e}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,i=s.length;i>e;e++){var o=s[e];t[o]=0}return t}function o(t){function o(t){if("string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var o=r(t);if("none"===o.display){return i()}var n={};n.width=t.offsetWidth,n.height=t.offsetHeight;for(var h=n.isBorderBox=!(!p||!o[p]||"border-box"!==o[p]),f=0,c=s.length;c>f;f++){var d=s[f],l=o[d];l=a(t,l);var y=parseFloat(l);n[d]=isNaN(y)?0:y}var m=n.paddingLeft+n.paddingRight,g=n.paddingTop+n.paddingBottom,v=n.marginLeft+n.marginRight,_=n.marginTop+n.marginBottom,I=n.borderLeftWidth+n.borderRightWidth,L=n.borderTopWidth+n.borderBottomWidth,z=h&&u,S=e(o.width);S!==!1&&(n.width=S+(z?0:m+I));var b=e(o.height);return b!==!1&&(n.height=b+(z?0:g+L)),n.innerWidth=n.width-(m+I),n.innerHeight=n.height-(g+L),n.outerWidth=n.width+v,n.outerHeight=n.height+_,n}}function a(t,e){if(n||-1===e.indexOf("%")){return e}var i=t.style,o=i.left,r=t.runtimeStyle,s=r&&r.left;return s&&(r.left=t.currentStyle.left),i.left=e,e=i.pixelLeft,i.left=o,s&&(r.left=s),e}var u,p=t("boxSizing");return function(){if(p){var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style[p]="border-box";var i=document.body||document.documentElement;i.appendChild(t);var o=r(t);u=200===e(o.width),i.removeChild(t)}}(),o}var n=t.getComputedStyle,r=n?function(t){return n(t,null)}:function(t){return t.currentStyle},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],o):"object"==typeof exports?module.exports=o(require("get-style-property")):t.getSize=o(t.getStyleProperty)}(window),function(t,e){function i(t,e){return t[a](e)}function o(t){if(!t.parentNode){var e=document.createDocumentFragment();e.appendChild(t)}}function n(t,e){o(t);for(var i=t.parentNode.querySelectorAll(e),n=0,r=i.length;r>n;n++){if(i[n]===t){return !0}}return !1}function r(t,e){return o(t),i(t,e)}var s,a=function(){if(e.matchesSelector){return"matchesSelector"}for(var t=["webkit","moz","ms","o"],i=0,o=t.length;o>i;i++){var n=t[i],r=n+"MatchesSelector";if(e[r]){return r}}}();if(a){var u=document.createElement("div"),p=i(u,"div");s=p?i:r}else{s=n}"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return s}):window.matchesSelector=s}(this,Element.prototype),function(t){function e(t,e){for(var i in e){t[i]=e[i]}return t}function i(t){for(var e in t){return !1}return e=null,!0}function o(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function n(t,n,r){function a(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var u=r("transition"),p=r("transform"),h=u&&p,f=!!r("perspective"),c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[u],d=["transform","transition","transitionDuration","transitionProperty"],l=function(){for(var t={},e=0,i=d.length;i>e;e++){var o=d[e],n=r(o);n&&n!==o&&(t[o]=n)}return t}();e(a.prototype,t.prototype),a.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.getSize=function(){this.size=n(this.element)},a.prototype.css=function(t){var e=this.element.style;for(var i in t){var o=l[i]||i;e[o]=t[i]}},a.prototype.getPosition=function(){var t=s(this.element),e=this.layout.options,i=e.isOriginLeft,o=e.isOriginTop,n=parseInt(t[i?"left":"right"],10),r=parseInt(t[o?"top":"bottom"],10);n=isNaN(n)?0:n,r=isNaN(r)?0:r;var a=this.layout.size;n-=i?a.paddingLeft:a.paddingRight,r-=o?a.paddingTop:a.paddingBottom,this.position.x=n,this.position.y=r},a.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,i={};e.isOriginLeft?(i.left=this.position.x+t.paddingLeft+"px",i.right=""):(i.right=this.position.x+t.paddingRight+"px",i.left=""),e.isOriginTop?(i.top=this.position.y+t.paddingTop+"px",i.bottom=""):(i.bottom=this.position.y+t.paddingBottom+"px",i.top=""),this.css(i),this.emitEvent("layout",[this])};var y=f?function(t,e){return"translate3d("+t+"px, "+e+"px, 0)"}:function(t,e){return"translate("+t+"px, "+e+"px)"};a.prototype._transitionTo=function(t,e){this.getPosition();var i=this.position.x,o=this.position.y,n=parseInt(t,10),r=parseInt(e,10),s=n===this.position.x&&r===this.position.y;if(this.setPosition(t,e),s&&!this.isTransitioning){return this.layoutPosition(),void 0}var a=t-i,u=e-o,p={},h=this.layout.options;a=h.isOriginLeft?a:-a,u=h.isOriginTop?u:-u,p.transform=y(a,u),this.transition({to:p,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},a.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},a.prototype.moveTo=h?a.prototype._transitionTo:a.prototype.goTo,a.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},a.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd){t.onTransitionEnd[e].call(this)}},a.prototype._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration)){return this._nonTransition(t),void 0}var e=this._transn;for(var i in t.onTransitionEnd){e.onEnd[i]=t.onTransitionEnd[i]}for(i in t.to){e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0)}if(t.from){this.css(t.from);var o=this.element.offsetHeight;o=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var m=p&&o(p)+",opacity";a.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:m,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(c,this,!1))},a.prototype.transition=a.prototype[u?"_transition":"_nonTransition"],a.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},a.prototype.onotransitionend=function(t){this.ontransitionend(t)};var g={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};a.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,o=g[t.propertyName]||t.propertyName;if(delete e.ingProperties[o],i(e.ingProperties)&&this.disableTransition(),o in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[o]),o in e.onEnd){var n=e.onEnd[o];n.call(this),delete e.onEnd[o]}this.emitEvent("transitionEnd",[this])}},a.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(c,this,!1),this.isTransitioning=!1},a.prototype._removeStyles=function(t){var e={};for(var i in t){e[i]=""}this.css(e)};var v={transitionProperty:"",transitionDuration:""};return a.prototype.removeTransitionStyles=function(){this.css(v)},a.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},a.prototype.remove=function(){if(!u||!parseFloat(this.layout.options.transitionDuration)){return this.removeElem(),void 0}var t=this;this.on("transitionEnd",function(){return t.removeElem(),!0}),this.hide()},a.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0})},a.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},a.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a}var r=t.getComputedStyle,s=r?function(t){return r(t,null)}:function(t){return t.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],n):(t.Outlayer={},t.Outlayer.Item=n(t.EventEmitter,t.getSize,t.getStyleProperty))}(window),function(t){function e(t,e){for(var i in e){t[i]=e[i]}return t}function i(t){return"[object Array]"===f.call(t)}function o(t){var e=[];if(i(t)){e=t}else{if(t&&"number"==typeof t.length){for(var o=0,n=t.length;n>o;o++){e.push(t[o])}}else{e.push(t)}}return e}function n(t,e){var i=d(e,t);-1!==i&&e.splice(i,1)}function r(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()}function s(i,s,f,d,l,y){function m(t,i){if("string"==typeof t&&(t=a.querySelector(t)),!t||!c(t)){return u&&u.error("Bad "+this.constructor.namespace+" element: "+t),void 0}this.element=t,this.options=e({},this.constructor.defaults),this.option(i);var o=++g;this.element.outlayerGUID=o,v[o]=this,this._create(),this.options.isInitLayout&&this.layout()}var g=0,v={};return m.namespace="outlayer",m.Item=y,m.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e(m.prototype,f.prototype),m.prototype.option=function(t){e(this.options,t)},m.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},m.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},m.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,o=[],n=0,r=e.length;r>n;n++){var s=e[n],a=new i(s,this);o.push(a)}return o},m.prototype._filterFindItemElements=function(t){t=o(t);for(var e=this.options.itemSelector,i=[],n=0,r=t.length;r>n;n++){var s=t[n];if(c(s)){if(e){l(s,e)&&i.push(s);for(var a=s.querySelectorAll(e),u=0,p=a.length;p>u;u++){i.push(a[u])}}else{i.push(s)}}}return i},m.prototype.getItemElements=function(){for(var t=[],e=0,i=this.items.length;i>e;e++){t.push(this.items[e].element)}return t},m.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},m.prototype._init=m.prototype.layout,m.prototype._resetLayout=function(){this.getSize()},m.prototype.getSize=function(){this.size=d(this.element)},m.prototype._getMeasurement=function(t,e){var i,o=this.options[t];o?("string"==typeof o?i=this.element.querySelector(o):c(o)&&(i=o),this[t]=i?d(i)[e]:o):this[t]=0},m.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},m.prototype._getItemsForLayout=function(t){for(var e=[],i=0,o=t.length;o>i;i++){var n=t[i];n.isIgnored||e.push(n)}return e},m.prototype._layoutItems=function(t,e){function i(){o.emitEvent("layoutComplete",[o,t])}var o=this;if(!t||!t.length){return i(),void 0}this._itemsOn(t,"layout",i);for(var n=[],r=0,s=t.length;s>r;r++){var a=t[r],u=this._getItemLayoutPosition(a);u.item=a,u.isInstant=e||a.isLayoutInstant,n.push(u)}this._processLayoutQueue(n)},m.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},m.prototype._processLayoutQueue=function(t){for(var e=0,i=t.length;i>e;e++){var o=t[e];this._positionItem(o.item,o.x,o.y,o.isInstant)}},m.prototype._positionItem=function(t,e,i,o){o?t.goTo(e,i):t.moveTo(e,i)},m.prototype._postLayout=function(){this.resizeContainer()},m.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},m.prototype._getContainerSize=h,m.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},m.prototype._itemsOn=function(t,e,i){function o(){return n++,n===r&&i.call(s),!0}for(var n=0,r=t.length,s=this,a=0,u=t.length;u>a;a++){var p=t[a];p.on(e,o)}},m.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},m.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},m.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,i=t.length;i>e;e++){var o=t[e];this.ignore(o)}}},m.prototype.unstamp=function(t){if(t=this._find(t)){for(var e=0,i=t.length;i>e;e++){var o=t[e];n(o,this.stamps),this.unignore(o)}}},m.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=o(t)):void 0},m.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var i=this.stamps[t];this._manageStamp(i)}}},m.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},m.prototype._manageStamp=h,m.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,o=d(t),n={left:e.left-i.left-o.marginLeft,top:e.top-i.top-o.marginTop,right:i.right-e.right-o.marginRight,bottom:i.bottom-e.bottom-o.marginBottom};return n},m.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},m.prototype.bindResize=function(){this.isResizeBound||(i.bind(t,"resize",this),this.isResizeBound=!0)},m.prototype.unbindResize=function(){this.isResizeBound&&i.unbind(t,"resize",this),this.isResizeBound=!1},m.prototype.onresize=function(){function t(){e.resize(),delete e.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},m.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},m.prototype.needsResizeLayout=function(){var t=d(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},m.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},m.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},m.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},m.prototype.reveal=function(t){var e=t&&t.length;if(e){for(var i=0;e>i;i++){var o=t[i];o.reveal()}}},m.prototype.hide=function(t){var e=t&&t.length;if(e){for(var i=0;e>i;i++){var o=t[i];o.hide()}}},m.prototype.getItem=function(t){for(var e=0,i=this.items.length;i>e;e++){var o=this.items[e];if(o.element===t){return o}}},m.prototype.getItems=function(t){if(t&&t.length){for(var e=[],i=0,o=t.length;o>i;i++){var n=t[i],r=this.getItem(n);r&&e.push(r)}return e}},m.prototype.remove=function(t){t=o(t);var e=this.getItems(t);if(e&&e.length){this._itemsOn(e,"remove",function(){this.emitEvent("removeComplete",[this,e])});for(var i=0,r=e.length;r>i;i++){var s=e[i];s.remove(),n(s,this.items)}}},m.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,i=this.items.length;i>e;e++){var o=this.items[e];o.destroy()}this.unbindResize(),delete this.element.outlayerGUID,p&&p.removeData(this.element,this.constructor.namespace)},m.data=function(t){var e=t&&t.outlayerGUID;return e&&v[e]},m.create=function(t,i){function o(){m.apply(this,arguments)}return Object.create?o.prototype=Object.create(m.prototype):e(o.prototype,m.prototype),o.prototype.constructor=o,o.defaults=e({},m.defaults),e(o.defaults,i),o.prototype.settings={},o.namespace=t,o.data=m.data,o.Item=function(){y.apply(this,arguments)},o.Item.prototype=new y,s(function(){for(var e=r(t),i=a.querySelectorAll(".js-"+e),n="data-"+e+"-options",s=0,h=i.length;h>s;s++){var f,c=i[s],d=c.getAttribute(n);try{f=d&&JSON.parse(d)}catch(l){u&&u.error("Error parsing "+n+" on "+c.nodeName.toLowerCase()+(c.id?"#"+c.id:"")+": "+l);continue}var y=new o(c,f);p&&p.data(c,t,y)}}),p&&p.bridget&&p.bridget(t,o),o},m.Item=y,m}var a=t.document,u=t.console,p=t.jQuery,h=function(){},f=Object.prototype.toString,c="object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},d=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,o=t.length;o>i;i++){if(t[i]===e){return i}}return -1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],s):t.Outlayer=s(t.eventie,t.docReady,t.EventEmitter,t.getSize,t.matchesSelector,t.Outlayer.Item)}(window),function(t){function e(t){function e(){t.Item.apply(this,arguments)}return e.prototype=new t.Item,e.prototype._create=function(){this.id=this.layout.itemGUID++,t.Item.prototype._create.call(this),this.sortData={}},e.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var i in t){var o=e[i];this.sortData[i]=o(this.element,this)}}},e}"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],e):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window),function(t){function e(t,e){function i(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}return function(){function t(t){return function(){return e.prototype[t].apply(this.isotope,arguments)}}for(var o=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],n=0,r=o.length;r>n;n++){var s=o[n];i.prototype[s]=t(s)}}(),i.prototype.needsVerticalResizeLayout=function(){var e=t(this.isotope.element),i=this.isotope.size&&e;return i&&e.innerHeight!==this.isotope.size.innerHeight},i.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},i.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},i.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},i.prototype.getSegmentSize=function(t,e){var i=t+e,o="outer"+e;if(this._getMeasurement(i,o),!this[i]){var n=this.getFirstItemSize();this[i]=n&&n[o]||this.isotope.size["inner"+e]}},i.prototype.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},i.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},i.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},i.modes={},i.create=function(t,e){function o(){i.apply(this,arguments)}return o.prototype=new i,e&&(o.options=e),o.prototype.namespace=t,i.modes[t]=o,o},i}"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window),function(t){function e(t,e){var o=t.create("masonry");return o.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;){this.colYs.push(0)}this.maxY=0},o.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},o.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,i=e(t);this.containerWidth=i&&i.innerWidth},o.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,o=e&&1>e?"round":"ceil",n=Math[o](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var r=this._getColGroup(n),s=Math.min.apply(Math,r),a=i(r,s),u={x:this.columnWidth*a,y:s},p=s+t.size.outerHeight,h=this.cols+1-r.length,f=0;h>f;f++){this.colYs[a+f]=p}return u},o.prototype._getColGroup=function(t){if(2>t){return this.colYs}for(var e=[],i=this.cols+1-t,o=0;i>o;o++){var n=this.colYs.slice(o,o+t);e[o]=Math.max.apply(Math,n)}return e},o.prototype._manageStamp=function(t){var i=e(t),o=this._getElementOffset(t),n=this.options.isOriginLeft?o.left:o.right,r=n+i.outerWidth,s=Math.floor(n/this.columnWidth);s=Math.max(0,s);var a=Math.floor(r/this.columnWidth);a-=r%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var u=(this.options.isOriginTop?o.top:o.bottom)+i.outerHeight,p=s;a>=p;p++){this.colYs[p]=Math.max(u,this.colYs[p])}},o.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},o.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];){t++}return(this.cols-t)*this.columnWidth-this.gutter},o.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},o}var i=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,o=t.length;o>i;i++){var n=t[i];if(n===e){return i}}return -1};"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],e):t.Masonry=e(t.Outlayer,t.getSize)}(window),function(t){function e(t,e){for(var i in e){t[i]=e[i]}return t}function i(t,i){var o=t.create("masonry"),n=o.prototype._getElementOffset,r=o.prototype.layout,s=o.prototype._getMeasurement;e(o.prototype,i.prototype),o.prototype._getElementOffset=n,o.prototype.layout=r,o.prototype._getMeasurement=s;var a=o.prototype.measureColumns;o.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,a.call(this)};var u=o.prototype._manageStamp;return o.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,u.apply(this,arguments)},o}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],i):i(t.Isotope.LayoutMode,t.Masonry)}(window),function(t){function e(t){var e=t.create("fitRows");return e.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0},e.prototype._getItemLayoutPosition=function(t){t.getSize(),0!==this.x&&t.size.outerWidth+this.x>this.isotope.size.innerWidth&&(this.x=0,this.y=this.maxY);var e={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=t.size.outerWidth,e},e.prototype._getContainerSize=function(){return{height:this.maxY}},e}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],e):e(t.Isotope.LayoutMode)}(window),function(t){function e(t){var e=t.create("vertical",{horizontalAlignment:0});return e.prototype._resetLayout=function(){this.y=0},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=t.size.outerHeight,{x:e,y:i}},e.prototype._getContainerSize=function(){return{height:this.y}},e}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],e):e(t.Isotope.LayoutMode)}(window),function(t){function e(t,e){for(var i in e){t[i]=e[i]}return t}function i(t){return"[object Array]"===h.call(t)}function o(t){var e=[];if(i(t)){e=t}else{if(t&&"number"==typeof t.length){for(var o=0,n=t.length;n>o;o++){e.push(t[o])}}else{e.push(t)}}return e}function n(t,e){var i=f(e,t);-1!==i&&e.splice(i,1)}function r(t,i,r,u,h){function f(t,e){return function(i,o){for(var n=0,r=t.length;r>n;n++){var s=t[n],a=i.sortData[s],u=o.sortData[s];if(a>u||u>a){var p=void 0!==e[s]?e[s]:e,h=p?1:-1;return(a>u?1:-1)*h}}return 0}}var c=t.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});c.Item=u,c.LayoutMode=h,c.prototype._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),t.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var e in h.modes){this._initLayoutMode(e)}},c.prototype.reloadItems=function(){this.itemGUID=0,t.prototype.reloadItems.call(this)},c.prototype._itemize=function(){for(var e=t.prototype._itemize.apply(this,arguments),i=0,o=e.length;o>i;i++){var n=e[i];n.id=this.itemGUID++}return this._updateItemsSortData(e),e},c.prototype._initLayoutMode=function(t){var i=h.modes[t],o=this.options[t]||{};this.options[t]=i.options?e(i.options,o):o,this.modes[t]=new i(this)},c.prototype.layout=function(){return !this._isLayoutInited&&this.options.isInitLayout?(this.arrange(),void 0):(this._layout(),void 0)},c.prototype._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},c.prototype.arrange=function(t){this.option(t),this._getIsInstant(),this.filteredItems=this._filter(this.items),this._sort(),this._layout()},c.prototype._init=c.prototype.arrange,c.prototype._getIsInstant=function(){var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=t,t},c.prototype._filter=function(t){function e(){f.reveal(n),f.hide(r)}var i=this.options.filter;i=i||"*";for(var o=[],n=[],r=[],s=this._getFilterTest(i),a=0,u=t.length;u>a;a++){var p=t[a];if(!p.isIgnored){var h=s(p);h&&o.push(p),h&&p.isHidden?n.push(p):h||p.isHidden||r.push(p)}}var f=this;return this._isInstant?this._noTransition(e):e(),o},c.prototype._getFilterTest=function(t){return s&&this.options.isJQueryFiltering?function(e){return s(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return r(e.element,t)}},c.prototype.updateSortData=function(t){this._getSorters(),t=o(t);var e=this.getItems(t);e=e.length?e:this.items,this._updateItemsSortData(e)},c.prototype._getSorters=function(){var t=this.options.getSortData;for(var e in t){var i=t[e];this._sorters[e]=d(i)}},c.prototype._updateItemsSortData=function(t){for(var e=0,i=t.length;i>e;e++){var o=t[e];o.updateSortData()}};var d=function(){function t(t){if("string"!=typeof t){return t}var i=a(t).split(" "),o=i[0],n=o.match(/^\[(.+)\]$/),r=n&&n[1],s=e(r,o),u=c.sortDataParsers[i[1]];return t=u?function(t){return t&&u(s(t))}:function(t){return t&&s(t)}}function e(t,e){var i;return i=t?function(e){return e.getAttribute(t)}:function(t){var i=t.querySelector(e);return i&&p(i)}}return t}();c.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},c.prototype._sort=function(){var t=this.options.sortBy;if(t){var e=[].concat.apply(t,this.sortHistory),i=f(e,this.options.sortAscending);this.filteredItems.sort(i),t!==this.sortHistory[0]&&this.sortHistory.unshift(t)}},c.prototype._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e){throw Error("No layout mode: "+t)}return e.options=this.options[t],e},c.prototype._resetLayout=function(){t.prototype._resetLayout.call(this),this._mode()._resetLayout()},c.prototype._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},c.prototype._manageStamp=function(t){this._mode()._manageStamp(t)},c.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},c.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},c.prototype.appended=function(t){var e=this.addItems(t);if(e.length){var i=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(i)}},c.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps();var o=this._filterRevealAdded(e);this.layoutItems(i),this.filteredItems=o.concat(this.filteredItems)}},c.prototype._filterRevealAdded=function(t){var e=this._noTransition(function(){return this._filter(t)});return this.layoutItems(e,!0),this.reveal(e),t},c.prototype.insert=function(t){var e=this.addItems(t);if(e.length){var i,o,n=e.length;for(i=0;n>i;i++){o=e[i],this.element.appendChild(o.element)}var r=this._filter(e);for(this._noTransition(function(){this.hide(r)}),i=0;n>i;i++){e[i].isLayoutInstant=!0}for(this.arrange(),i=0;n>i;i++){delete e[i].isLayoutInstant}this.reveal(r)}};var l=c.prototype.remove;return c.prototype.remove=function(t){t=o(t);var e=this.getItems(t);if(l.call(this,t),e&&e.length){for(var i=0,r=e.length;r>i;i++){var s=e[i];n(s,this.filteredItems)}}},c.prototype._noTransition=function(t){var e=this.options.transitionDuration;this.options.transitionDuration=0;var i=t.call(this);return this.options.transitionDuration=e,i},c}var s=t.jQuery,a=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},u=document.documentElement,p=u.textContent?function(t){return t.textContent}:function(t){return t.innerText},h=Object.prototype.toString,f=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,o=t.length;o>i;i++){if(t[i]===e){return i}}return -1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],r):t.Isotope=r(t.Outlayer,t.getSize,t.matchesSelector,t.Isotope.Item,t.Isotope.LayoutMode)}(window);(function(){$.app={}}).call(this);(function(){var isOurCDN;$(function(){$(document).on("ajaxError",function(evt,xhr){if(/^text\/javascript/.test(xhr.getResponseHeader("Content-Type"))){eval(xhr.responseText)}return true});return $(document).on("ajaxComplete",function(evt,xhr){var flash,mess,type,_i,_len,_ref;if((flash=$.parseJSON(xhr.getResponseHeader("X-Flash")))){for(_i=0,_len=flash.length;_i<_len;_i++){_ref=flash[_i],type=_ref[0],mess=_ref[1];$.zoogleFlash(mess,type)}}$(document).trigger("refresh");return true})});isOurCDN=function(href){var u;u=document.createElement("a");u.href=href;return u.hostname==="s3.amazonaws.com"&&u.pathname.lastIndexOf("/content.sitezoogle.com/assets",0)===0};$.ajaxPrefilter(function(options,original,jqXHR){return options.global||(options.global=options.crossDomain&&!original.crossDomain&&isOurCDN(options.url))})}).call(this);(function(){$.fontFaceIconsIEFixer=function(){var addIcon,newClass,oldClass,_ref;if($.browser.msie&&$.browser.version<=8){addIcon=function($el,entity){if($.browser.version<8){return $el.append("<span style=\"font-family: '"+$.fontFaceIconsFixes.family+"';\">"+entity+"</span>")}};_ref=$.fontFaceIconsFixes["switch"];for(oldClass in _ref){newClass=_ref[oldClass];$("."+oldClass).removeClass(oldClass).addClass(newClass)}return $("[class*=icon-]").each(function(){var $el,className;$el=$(this);className=$el.attr("class").match(/icon-([^ ]+)/)[0];if($.fontFaceIconsFixes.icons.hasOwnProperty(className)){return addIcon($el,$.fontFaceIconsFixes.icons[className])}})}}}).call(this);$.onload=(function($){var _methods=[];var loadModule=function(module){if(window.console&&window.console.log){console.log("running module: "+module.id)}module.init()};var onDomReady=function(){$.each(_methods,function(i,m){$(m())})};$(onDomReady);return{add:function(m){_methods.push(m)},run:function(){onDomReady()}}})(jQuery);(function(){$.fontFaceIconsFixes={family:"cp-font-icons",icons:{"icon-user":"&#xe623;","icon-eye":"&#xe624;","icon-account":"&#xe004;","icon-reorderable":"&#xe700;","icon-rotate-right":"&#xe701;","icon-sort":"&#xe702;","icon-circle-arrow-left":"&#xe703;","icon-circle-arrow-right":"&#xe704;","icon-circle-arrow-up":"&#xe705;","icon-circle-arrow-down":"&#xe706;","icon-wrench":"&#xe707;","icon-thumbs-up":"&#xe708;","icon-thumbs-down":"&#xe709;","icon-editable":"&#xe70a;","icon-question-sign":"&#xe70b;","icon-info-sign":"&#xe70c;","icon-deletable":"&#xe70d;","icon-remove":"&#xe70e;","icon-ok":"&#xe70f;","icon-rotate-left":"&#xe600;","icon-file":"&#xe601;","icon-file-text":"&#xe602;","icon-zoom-in":"&#xe603;","icon-zoom-out":"&#xe604;","icon-link":"&#xe605;","icon-chevron-left":"&#xe606;","icon-circle-blank":"&#xe607;","icon-play-sign":"&#xe60a;","icon-chevron-sign-right":"&#xe609;","icon-chevron-sign-left":"&#xe608;","icon-play-circle":"&#xe221;","icon-page":"&#xe037;","icon-links":"&#xe051;","icon-edit":"&#xe151;","icon-download":"&#xe182;","icon-faders":"&#xe140;","icon-bargraph":"&#xe080;","icon-reload":"&#xe082;","icon-star-full":"&#xe050;","icon-star-empty":"&#xe049;","icon-calendar":"&#xe046;","icon-pencil":"&#x270f;","icon-add-user":"&#xe007;","icon-notes":"&#xe018;","icon-heart-full":"&#xe013;","icon-heart-empty":"&#xe020;","icon-home":"&#xe021;","icon-book":"&#xe072;","icon-close-x":"&#xe208;","icon-tools":"&#xe281;","icon-word-bubble":"&#xe246;","icon-add-item":"&#xe191;","icon-cart":"&#xe203;","icon-conversation":"&#xe245;","icon-help":"&#xe195;","icon-shopping-bag":"&#xe351;","icon-facetime-video":"&#xe60d;","icon-spike-chart":"&#xe283;","icon-notebook":"&#xe331;","icon-instagram":"&#xe614;","icon-dollar":"&#xe613;","icon-envelope-alt":"&#xe612;","icon-sign-blank":"&#xe611;","icon-gears":"&#xe610;","icon-comment":"&#xe60f;","icon-picture":"&#xe60e;","icon-gear":"&#xe60c;","icon-heart":"&#xe60b;","icon-check":"&#xe615;","icon-back":"&#xe616;","icon-music-list":"&#xe160;","icon-members":"&#xe025;","icon-home2":"&#xe617;","icon-time":"&#xe618;","icon-paintbrush":"&#xe235;","icon-history":"&#xe058;","icon-flag":"&#xe619;","icon-message-out":"&#xe124;","icon-folder-open":"&#xe61a;","icon-list-ul":"&#xe61b;","icon-message-in":"&#xe123;","icon-message-sent":"&#xe121;","icon-message-read":"&#xe122;","icon-twitter":"&#xe61c;","icon-microphone":"&#xe61d;","icon-list":"&#xe61e;","icon-alert":"&#xe61f;","icon-flash":"&#xe242;","icon-pause":"&#xe620;","icon-crop":"&#xe094;","icon-pages":"&#xe319;","icon-search":"&#xe621;","icon-pedigree":"&#xe309;","icon-ok2":"&#xe710;","icon-record":"&#xe622;"},"switch":{"icon-play":"icon-play-2","icon-pause":"icon-pause-2"}};$.onload.add($.fontFaceIconsIEFixer)}).call(this);(function(){var __hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key)){child[key]=parent[key]}}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor();child.__super__=parent.prototype;return child},__slice=[].slice;jQuery.Extension=(function(_super){var rootjQuery;__extends(Extension,_super);rootjQuery=$(document);function Extension(selector,context,root){var key,r,val;if(root==null){root=rootjQuery}r=this.init(selector,context,root);if(r!==this){for(key in r){val=r[key];this[key]=val}}}Extension.prototype.__class__=Extension;Extension.vivify=function(){var ctor;this.prototype.__class__=this;ctor=function(){this.constructor=this.__class__;return this};ctor.prototype=this.__super__;this.__super__=new ctor();this.prototype.constructor=jQuery;return this};Extension.ancestors=[];return Extension})(jQuery);jQuery.Vivified=(function(_super){__extends(Vivified,_super);function Vivified(){var args,klass,reg,selector,_i,_len,_ref,_this=this;selector=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];Vivified.__super__.constructor.call(this,selector);if(this.length!==1){console.warn("Expected selector "+selector+" to match exactly 1 element, matched "+this.length,this)}if(!(reg=$.data(this[0],"vivified"))){$.data(this[0],"vivified",reg={})}if(this.__class__===jQuery.Vivified){console.error("Class must call @vivify")}if(reg[this.__class__.uniqueID]){console.error("Constructor called on already vivified DOM object",this)}_ref=this.__class__.ancestors;for(_i=0,_len=_ref.length;_i<_len;_i++){klass=_ref[_i];reg[klass.uniqueID]=this}if(typeof this.initialize==="function"){this.initialize.apply(this,args)}this.on("refresh",function(){return _this.refresh()});this.refresh()}Vivified.prototype.refresh=function(){var klass,selector,_ref;_ref=this.__class__.autoVivified||{};for(selector in _ref){klass=_ref[selector];this.find(selector).vivify(klass)}return this};Vivified.vivify=function(autoVivify){if(autoVivify){$.extend(this.autoVivified||(this.autoVivified={}),autoVivify)}if(this.ancestors[0]!==this){this.ancestors=[this].concat(__slice.call(this.ancestors));this.generateUniqueID();return Vivified.__super__.constructor.vivify.call(this)}};Vivified.registry={};Vivified.generateUniqueID=function(){var i,id,name;id=name=this.name||"class";i=1;while(this.registry[id]){id=""+name+"_"+(i+=1)}this.uniqueID=id;this.registry[id]=this;return this};Vivified.vivify();return Vivified})(jQuery.Extension);$.fn.vivify=function(){var first,initArgs,klass,obj,other,reg,rest,_i,_len,_ref;klass=arguments[0],initArgs=2<=arguments.length?__slice.call(arguments,1):[];_ref=(function(){var _i,_len,_ref,_results;_ref=this.get();_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){obj=_ref[_i];reg=$.data(obj,"vivified");_results.push((reg!=null?reg[klass.uniqueID]:void 0)||(function(func,args,ctor){ctor.prototype=func.prototype;var child=new ctor,result=func.apply(child,args);return Object(result)===result?result:child})(klass,[obj].concat(__slice.call(initArgs)),function(){}))}return _results}).call(this),first=_ref[0],rest=2<=_ref.length?__slice.call(_ref,1):[];first||(first=$());for(_i=0,_len=rest.length;_i<_len;_i++){other=rest[_i];first=first.add(other)}return first};$.fn.vivified=function(klass){var first,key,obj,other,reg,rest,u,value,values,_i,_len,_ref;_ref=(function(){var _i,_len,_ref,_results;_ref=this.get();_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){obj=_ref[_i];reg=$.data(obj,"vivified");values=(function(){var _results1;_results1=[];for(key in reg){value=reg[key];_results1.push(value)}return _results1})();switch(false){case values.length!==0:console.error("DOM object is not vivified:",obj);_results.push($(obj));break;case !!klass:if((u=$.unique(values)).length>1){console.error("DOM object is vivified with more than one class:",obj,u)}_results.push(values[0]);break;case !!klass.uniqueID:_results.push(console.error("Given class is not vivified:",klass));break;case !!reg[klass.uniqueID]:_results.push(console.error("DOM object is not vivified with requested klass:",obj,klass));break;default:_results.push(reg[klass.uniqueID])}}return _results}).call(this),first=_ref[0],rest=2<=_ref.length?__slice.call(_ref,1):[];first||(first=$());for(_i=0,_len=rest.length;_i<_len;_i++){other=rest[_i];first=first.add(other)}return first}}).call(this);(function(){var _ref,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key)){child[key]=parent[key]}}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor();child.__super__=parent.prototype;return child};$.Document=(function(_super){__extends(Document,_super);function Document(){_ref=Document.__super__.constructor.apply(this,arguments);return _ref}Document.vivify();return Document})($.Vivified);$(function($){return new $.Document(document)})}).call(this);(function($){var props=["Width","Height"],prop;var defineNatural=function(methodName,prop){var fn;if(methodName in new Image()){fn=function(){return this[0]&&this[0][methodName]}}else{fn=function(){var node=this[0],img,value;if(typeof(node)!=="undefined"&&node.tagName.toLowerCase()==="img"){img=new Image();img.src=node.src;value=img[prop]}return value}}$.fn[methodName]=fn};while(prop=props.pop()){defineNatural("natural"+prop,prop.toLowerCase())}}(jQuery));(function($){$.detectSwipe={version:"2.1.1",enabled:"ontouchstart" in document.documentElement,preventDefault:true,threshold:20};var startX,startY,isMoving=false;function onTouchEnd(){this.removeEventListener("touchmove",onTouchMove);this.removeEventListener("touchend",onTouchEnd);isMoving=false}function onTouchMove(e){if($.detectSwipe.preventDefault){e.preventDefault()}if(isMoving){var x=e.touches[0].pageX;var y=e.touches[0].pageY;var dx=startX-x;var dy=startY-y;var dir;if(Math.abs(dx)>=$.detectSwipe.threshold){dir=dx>0?"left":"right"}else{if(Math.abs(dy)>=$.detectSwipe.threshold){dir=dy>0?"down":"up"}}if(dir){onTouchEnd.call(this);$(this).trigger("swipe",dir).trigger("swipe"+dir)}}}function onTouchStart(e){if(e.touches.length==1){startX=e.touches[0].pageX;startY=e.touches[0].pageY;isMoving=true;this.addEventListener("touchmove",onTouchMove,false);this.addEventListener("touchend",onTouchEnd,false)}}function setup(){this.addEventListener("touchstart",onTouchStart,false)}function teardown(){this.removeEventListener("touchstart",onTouchStart)}$.event.special.swipe={setup:setup};$.each(["left","up","down","right"],function(){$.event.special["swipe"+this]={setup:function(){$(this).on("swipe",$.noop)}}})})(jQuery);(function($){if("undefined"===typeof $){if("console" in window){window.console.info("Too much lightness, Featherlight needs jQuery.")}return}var Fl=$.featherlight=function($content,config){if(this.constructor===Fl){this.id=Fl.id++;this.setup($content,config)}else{var fl=new Fl($content,config);fl.open();return fl}};var escapeHandler=function(event){if(27===event.keyCode&&!event.isDefaultPrevented()){var cur=Fl.current();if(cur&&cur.closeOnEsc){cur.$instance.find("."+cur.namespace+"-close:first").click();event.preventDefault()}}};var elementConfig=function(element){var config={};if(element&&element.attributes){$.each(element.attributes,function(){var match=this.name.match(/^data-featherlight-(.*)/);if(match){var val=this.value;try{val=$.parseJSON(val)}catch(e){}config[$.camelCase(match[1])]=val}})}return config};$.extend(Fl,{id:0,autoBind:"[data-featherlight]",defaults:{namespace:"featherlight",targetAttr:"data-featherlight",variant:null,resetCss:false,background:null,openTrigger:"click",closeTrigger:"click",filter:null,openSpeed:250,closeSpeed:250,closeOnClick:"background",closeOnEsc:true,closeIcon:"&#10005;",otherClose:null,beforeOpen:$.noop,beforeClose:$.noop,afterOpen:$.noop,afterClose:$.noop,type:null,contentFilters:["jquery","image","html","ajax","text"]},methods:{setup:function(target,config){if(typeof target==="object"&&target instanceof $===false&&!config){config=target;target=undefined}var self=$.extend(this,Fl.defaults,config,{target:target});var css=!self.resetCss?self.namespace:self.namespace+"-reset",$background=$(self.background||'<div class="'+css+'"><div class="'+css+'-content"><span class="'+css+"-close-icon "+self.namespace+'-close">'+self.closeIcon+"</span></div></div>"),closeButtonSelector="."+self.namespace+"-close"+(self.otherClose?","+self.otherClose:"");self.$instance=$background.clone().addClass(self.variant);self.$instance.on(self.closeTrigger+"."+self.namespace,function(event){var $target=$(event.target);if(("background"===self.closeOnClick&&$target.is("."+self.namespace))||"anywhere"===self.closeOnClick||$target.is(closeButtonSelector)){event.preventDefault();self.close()}});self.$instance.on("featherlightGetCurrent",function(event){if(self.$instance.closest("body").length>0){event.currentFeatherlight=self}});return this},getContent:function(){var self=this,sourceAttr=function(name){return self.source&&self.source.getAttribute(name)},targetAttr=sourceAttr(self.targetAttr),data=self.target||targetAttr||"";var filter=Fl.contentFilters[self.type];if(!filter&&data in Fl.contentFilters){filter=Fl.contentFilters[data];data=self.target&&targetAttr}data=data||sourceAttr("href")||"";if(!filter){for(var filterName in Fl.contentFilters){if(self[filterName]){filter=Fl.contentFilters[filterName];data=self[filterName]}}}if(!filter){var target=data;data=null;$.each(self.contentFilters,function(){filter=Fl.contentFilters[this];if(filter.test){data=filter.test(target)}if(!data&&filter.regex&&target.match&&target.match(filter.regex)){data=target}return !data});if(!data){if("console" in window){window.console.error("Featherlight: no content filter found "+(target?' for "'+target+'"':" (no target specified)"))}return false}}return filter.process.call(self,data)},setContent:function($content){var self=this;if($content.is("iframe")||$("iframe",$content).length>0){self.$instance.addClass(self.namespace+"-iframe")}self.$content=$content.clone().addClass(self.namespace+"-inner");self.$instance.find("."+self.namespace+"-inner").remove();self.$instance.find("."+self.namespace+"-content").append(self.$content)},open:function(event){var self=this;if(event&&event.isDefaultPrevented()){return false}if(this.beforeOpen(event)===false){return false}if(event){event.preventDefault()}var $content=this.getContent();if(!$content){return false}$content.promise().done(function($content){if(self.closeOnEsc&&escapeHandler){$(document).bind("keyup."+Fl.defaults.namespace,escapeHandler);escapeHandler=null}self.setContent($content);self.$instance.appendTo("body").fadeIn(self.openSpeed);self.afterOpen(event)})},close:function(event){var self=this;if(this.beforeClose(event)===false){return false}self.$instance.fadeOut(self.closeSpeed,function(){self.$instance.detach()});this.afterClose(event)}},contentFilters:{jquery:{regex:/^[#.]\w/,test:function(elem){return elem instanceof $&&elem},process:function(elem){return $(elem)}},image:{regex:/\.(png|jpg|jpeg|gif|tiff|bmp)(\?\S*)?$/i,process:function(url){var self=this,deferred=$.Deferred(),img=new Image();img.onload=function(){deferred.resolve($('<img src="'+url+'" alt="" class="'+self.namespace+'-image" />'))};img.onerror=function(){deferred.reject()};img.src=url;return deferred.promise()}},html:{regex:/^\s*<[\w!][^<]*>/,process:function(html){return $(html)}},ajax:{regex:/./,process:function(url){var self=this,deferred=$.Deferred();var $container=$("<div></div>").load(url,function(response,status){if(status!=="error"){deferred.resolve($container.contents())}deferred.fail()});return deferred.promise()}},text:{process:function(text){return $("<div>",{text:text})}}},attach:function($source,$content,config){if(typeof $content==="object"&&$content instanceof $===false&&!config){config=$content;$content=undefined}config=$.extend({},config);var curConfig=$.extend({},Fl.defaults,elementConfig($source[0]),config);$source.on(curConfig.openTrigger+"."+curConfig.namespace,curConfig.filter,function(event){var elemConfig=$.extend({source:this},elementConfig(this),config);new $.featherlight($content,elemConfig).open(event)})},current:function(){var event=new $.Event("featherlightGetCurrent");$.event.trigger(event);return event.currentFeatherlight},close:function(){var cur=Fl.current();if(cur){cur.close()}}});Fl.prototype=$.extend(Fl.methods,{constructor:Fl});$.fn.featherlight=function($content,config){Fl.attach(this,$content,config);return this};$(document).ready(function(){if(Fl.autoBind){$(document).featherlight({filter:Fl.autoBind})}})}(jQuery));(function($){if("undefined"===typeof $){if("console" in window){window.console.info("Too much lightness, Featherlight needs jQuery.");if(!("featherlight" in $)){window.console.info("Load the featherlight plugin before the gallery plugin")}}return}var isTouchAware="ontouchstart" in document.documentElement,jQueryConstructor=$.event&&$.event.special.swipeleft&&$,hammerConstructor=("Hammer" in window)&&function($el){new window.Hammer(el[0])},swipeAwareConstructor=isTouchAware&&(jQueryConstructor||hammerConstructor);$.fn.featherlightGallery=function(config){var flg={gallery:{$gallery:this,$current:null}},customAfterOpen=config&&config.afterOpen,overrideCallbacks={afterOpen:function(event){var fl=this,config=this.gallery,$img=fl.$instance.find("img");config.$current=$(event.currentTarget);fl.$instance.on("next."+fl.namespace+" previous."+fl.namespace,function(event){var offset=event.type==="next"?+1:-1;config.$current=config.$gallery.eq((config.$gallery.length+config.$gallery.index(config.$current)+offset)%config.$gallery.length);config.beforeImage.call(fl,event);$.when($.featherlight.contentFilters.image.process(config.$current.attr("href")),$img.fadeTo(config.fadeOut,0.2)).done(function($i){$img[0].src=$i[0].src;config.afterImage.call(fl,event);$img.fadeTo(config.fadeIn,1)})});if(swipeAwareConstructor){swipeAwareConstructor(fl.$instance).on("swipeleft",function(){fl.$instance.trigger("next")}).on("swiperight",function(){fl.$instance.trigger("previous")})}else{var createNav=function(target){return $('<span title="'+target+'" class="'+fl.namespace+"-"+target+'"><span>'+config[target]+"</span></span>").click(function(){$(this).trigger(target+"."+fl.namespace)})};$img.after(createNav("previous")).after(createNav("next"))}if("function"===typeof customAfterOpen){customAfterOpen.call(fl,event)}config.afterImage.call(fl,event)}};this.featherlight($.extend(true,{},$.featherlightGallery.defaults,flg,config,overrideCallbacks))};$.featherlightGallery=function($targets,config){if("object"!==typeof $targets){$targets=$($targets)}$targets.featherlightGallery(config)};$.featherlightGallery.defaults={gallery:{beforeImage:$.noop,afterImage:$.noop,previous:"&#9664;",next:"&#9654;",fadeIn:100,fadeOut:300},type:"image"}}(jQuery));(function(){var resizeImage;$.featherlight.defaults.otherClose=".close";$.extend(true,$.featherlightGallery.defaults,{variant:"dialog-image",gallery:{afterImage:function(){var title;$(window).trigger("resize");this.$instance.find(".title").remove();title=this.gallery.$current.attr("title");return $('<div class="title">').text(title).appendTo(this.$instance.find(".featherlight-content"))}}});$(window).on("resize",function(){return resizeImage($(".featherlight .featherlight-image"),$(".featherlight .featherlight-content"))});resizeImage=function($img,$container){var contH,contW,dim,imgH,imgW,maxRatio,_ref,_ref1;$img.css("width","");_ref=(function(){var _i,_len,_ref,_results;_ref=["width","height"];_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){dim=_ref[_i];_results.push(parseInt($container.css(dim),10))}return _results})(),contW=_ref[0],contH=_ref[1];_ref1=(function(){var _i,_len,_ref1,_results;_ref1=["naturalWidth","naturalHeight"];_results=[];for(_i=0,_len=_ref1.length;_i<_len;_i++){dim=_ref1[_i];_results.push($img[dim]())}return _results})(),imgW=_ref1[0],imgH=_ref1[1];maxRatio=Math.max(imgW/contW,imgH/contH,1);return $img.css("width",""+(imgW/maxRatio)+"px")};$(document).featherlight({filter:"a.thumbnail-popup",closeOnClick:"anywhere",variant:"dialog-image",afterOpen:function(event){var title;title=$(event.currentTarget).attr("title");$('<div class="title">').text(title).appendTo(this.$instance.find(".featherlight-content"));return $(window).trigger("resize")}});$.featherlight.prototype.reload=function(){return this.load({})};$.featherlight.prototype.load=function(options){var _this=this;$.extend(this,options);return $.when(this.getContent()).done(function($content){return _this.setContent($content)})}}).call(this);(function(){$.fontFaceIconsFixes={family:"font-icons",icons:{"icon-default-2":"&#xe617;","icon-default-3":"&#xe618;","icon-default-1":"&#xe61f;","icon-gear":"&#xf013;","icon-spinner":"&#xf110;","icon-envelope":"&#xe604;","icon-twitter-sign":"&#xe605;","icon-share":"&#xe603;","icon-angle-down":"&#xe602;","icon-chevron-down":"&#xe601;","icon-facebook-sign":"&#xe606;","icon-twitter":"&#xe607;","icon-facebook":"&#xe608;","icon-envelope-alt":"&#xe609;","icon-hamburger":"&#xe600;","icon-onesheet":"&#xe628;","icon-myspace":"&#xe629;","icon-circle-fill":"&#xe627;","icon-roundrect-fill":"&#xe625;","icon-roundrect":"&#xe622;","icon-chevron-sign-left":"&#xe62a;","icon-chevron-sign-right":"&#xe62b;","icon-circle-arrow-right":"&#xe623;","icon-circle-arrow-left":"&#xe624;","icon-circle":"&#xe626;","icon-screen":"&#xe620;","icon-mobile":"&#xe621;","icon-rdio":"&#xe61e;","icon-pinterest":"&#xe61a;","icon-linkedin":"&#xe61b;","icon-reverbnation":"&#xe60a;","icon-bandcamp":"&#xe60b;","icon-cdbaby":"&#xe60c;","icon-spotify":"&#xe60d;","icon-pandora":"&#xe60e;","icon-itunes":"&#xe60f;","icon-amazon":"&#xe61c;","icon-sonicbids":"&#xe61d;","icon-first":"&#xe000;","icon-last":"&#xe001;","icon-previous":"&#xe00d;","icon-pause":"&#xe002;","icon-close":"&#xe00b;","icon-download":"&#xe00c;","icon-next":"&#xe00e;","icon-play-2":"&#xe004;","icon-play":"&#xe003;","icon-pause-2":"&#xe005;","icon-cancel-circle":"&#xe006;","icon-calendar":"&#xe007;","icon-clock":"&#xe008;","icon-location":"&#xe009;","icon-volume-medium":"&#xe00a;","icon-flickr":"&#xe619;","icon-googleplus":"&#xe610;","icon-instagram":"&#xe611;","icon-move":"&#xe62c;","icon-soundcloud":"&#xe612;","icon-tumblr":"&#xe613;","icon-vimeo":"&#xe614;","icon-youtube":"&#xe615;","icon-lastfm":"&#xe616;"},"switch":{"icon-play":"icon-play-2","icon-pause":"icon-pause-2"}};$.onload.add($.fontFaceIconsIEFixer)}).call(this);(function(){var dimensions,func,helpers,key,sizePrefixes;sizePrefixes=" KMGTPEZYXWVU";dimensions={mini:100,thumb:125,small:200,square:200,medium:300,large:600};helpers={humanizeBytes:function(bytes){var magnitude;if(bytes<=0){return"-"}magnitude=Math.min(Math.floor(Math.log(bytes)/Math.log(1024)),12);return""+(Math.round(bytes*10/Math.pow(1024,magnitude))/10)+" "+(sizePrefixes.charAt(magnitude))+"B"},imageUrl:function(image,size){return image.generic_url.replace("[[size]]",size).replace("[[dimension]]",dimensions[size])}};for(key in helpers){func=helpers[key];Handlebars.registerHelper(key,$.app[key]=func)}}).call(this);(function(){$.fn.addAtIndex=function(content,index){if(index<0){index=0}return this.each(function(){var $child,$this;$this=$(this);$child=$this.children().eq(index);if($child.length){return $child.before(content)}return $this.append(content)})}}).call(this);(function(){$.curCSS=$.css}).call(this);(function(){var __slice=[].slice;$.fn.ensureVisible=function(action){var $e,elem,orgStyle,previousInlineStyle,result,toToggle,_i,_len,_ref;if(this.is(":visible")){return action()}toToggle=(function(){var _i,_len,_ref,_results;_ref=__slice.call(this.parents().get().reverse()).concat(__slice.call(this.get()));_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){elem=_ref[_i];if(!(($e=$(elem)).is(":hidden"))){continue}orgStyle=$e.attr("style")||"";$e.attr("style",orgStyle+"display: block !important;");_results.push([orgStyle,$e])}return _results}).call(this);result=action();for(_i=0,_len=toToggle.length;_i<_len;_i++){_ref=toToggle[_i],previousInlineStyle=_ref[0],$e=_ref[1];$e.attr("style",previousInlineStyle)}return result}}).call(this);(function(){var mockCSSclass,mockHoverCSS;mockCSSclass="mock-hover";mockHoverCSS=function(){var i,mockRule,rule,stylesheet,_i,_j,_len,_ref,_ref1;_ref=document.styleSheets;for(_i=0,_len=_ref.length;_i<_len;_i++){stylesheet=_ref[_i];_ref1=stylesheet.cssRules||stylesheet.rules||[];for(i=_j=_ref1.length-1;_j>=0;i=_j+=-1){rule=_ref1[i];if(/:hover/i.test(rule.selectorText)){mockRule=rule.cssText.replace(/:hover/gi,"."+mockCSSclass);stylesheet.insertRule(mockRule,i)}}}return mockHoverCSS=function(){}};$.fn.toggleMockHover=function(set){mockHoverCSS();this.toggleClass(mockCSSclass,set);this.parents().toggleClass(mockCSSclass);return this.trigger(set?"mouseover":"mouseout")}}).call(this);(function(){$.fn.oneForAll=function(type,callback){var $all;$all=$(this);return $all.on(type,function(e){$all.off(type);return callback(e)})}}).call(this);(function(){$.fn.presence=function(){if(this.length){return this}}}).call(this);(function(){$.fn.setDataAttr=function(obj){var attr,clearKey,key,value;for(key in obj){value=obj[key];if(!(typeof value!=="function")){continue}clearKey=key.replace(/[|&;$%@"<>()+,]/g,"");attr="data-"+clearKey.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase();this.attr(attr,value)}return this}}).call(this);(function(){jQuery.fn.toggleVisibility=function(visible){if(visible==null){visible=this.css("visibility")==="hidden"}return this.css("visibility",visible?"visible":"hidden")}}).call(this);(function(){var hideFlash;$.zoogleFlash=function(mess,klass){var alert;if(klass==null){klass="notice"}klass+=" alert "+(klass==="notice"?"positive":"negative");alert=$("<section/>").addClass(klass).append("<p>"+mess.replace(/\n/g,"<br/>")+"</p>");return $("#zoogle_flash").append(alert)};hideFlash=function(){return $("#zoogle_flash section").slideUp()};$(document).on("mouseup",hideFlash);$(function(){var editor,exception;try{editor=$("textarea.rich_text").ckeditorGet();return editor.on("focus",hideFlash)}catch(_error){exception=_error}})}).call(this);var identified=false;window.trackInMixpanel=function(x){var code;if(typeof(mixpanel)==="undefined"){return}if(typeof(x)==="string"){x={code:x}}code=x.code;if(typeof(code)==="undefined"){code="page viewed"}if(identified===false){mixpanel.identify($.cookie("t"));identified=true}var data=$.extend({},x,{"page name":document.title,url:window.location.pathname});mixpanel.track(code,data)};document.createElement("picture");(function(){$(document).ready(function(){return $("body").on("click",".popup-on-click",function(e){var height,width;width=$(this).data("width");height=$(this).data("height");window.open($(this).attr("href"),"popup","width="+width+",height="+height);return e.preventDefault()})})}).call(this);(function(){$(document).ready(function(){$("body").on("click",".select-on-focus",function(){return $(this).select()});return $("body").on("click",".zoogle-share",function(e){var d,data,fb_opts,mailto_opts,subject,tweet_opts;data=$(this).data();fb_opts={u:data.url};data.fb_url="https://www.facebook.com/sharer/sharer.php?"+$.param(fb_opts);tweet_opts={url:data.url,text:data.text};data.twitter_url="https://twitter.com/share?"+$.param(tweet_opts);subject=encodeURIComponent(data.title);mailto_opts={body:data.url};data.mailto_url="mailto:?subject="+subject+"&"+$.param(mailto_opts);d=Handlebars.templates.shared.social.dialog(data);return $.featherlight({html:d})})})}).call(this);(function(undefined){var moment,VERSION="2.5.1",global=this,round=Math.round,i,YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,languages={},momentProperties={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},hasModule=(typeof module!=="undefined"&&module.exports&&typeof require!=="undefined"),aspNetJsonRegex=/^\/?Date\((\-?\d+)/i,aspNetTimeSpanJsonRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,isoDurationRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,parseTokenOneOrTwoDigits=/\d\d?/,parseTokenOneToThreeDigits=/\d{1,3}/,parseTokenOneToFourDigits=/\d{1,4}/,parseTokenOneToSixDigits=/[+\-]?\d{1,6}/,parseTokenDigits=/\d+/,parseTokenWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,parseTokenTimezone=/Z|[\+\-]\d\d:?\d\d/gi,parseTokenT=/T/i,parseTokenTimestampMs=/[\+\-]?\d+(\.\d{1,3})?/,parseTokenOneDigit=/\d/,parseTokenTwoDigits=/\d\d/,parseTokenThreeDigits=/\d{3}/,parseTokenFourDigits=/\d{4}/,parseTokenSixDigits=/[+-]?\d{6}/,parseTokenSignedNumber=/[+-]?\d+/,isoRegex=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,isoFormat="YYYY-MM-DDTHH:mm:ssZ",isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],isoTimes=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],parseTimezoneChunker=/([\+\-]|\d\d)/gi,proxyGettersAndSetters="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),unitMillisecondFactors={Milliseconds:1,Seconds:1000,Minutes:60000,Hours:3600000,Days:86400000,Months:2592000000,Years:31536000000},unitAliases={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},camelFunctions={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},formatFunctions={},ordinalizeTokens="DDD w W M D d".split(" "),paddedTokens="M D H h m s w W".split(" "),formatTokenFunctions={M:function(){return this.month()+1},MMM:function(format){return this.lang().monthsShort(this,format)},MMMM:function(format){return this.lang().months(this,format)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(format){return this.lang().weekdaysMin(this,format)},ddd:function(format){return this.lang().weekdaysShort(this,format)},dddd:function(format){return this.lang().weekdays(this,format)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return leftZeroFill(this.year()%100,2)},YYYY:function(){return leftZeroFill(this.year(),4)},YYYYY:function(){return leftZeroFill(this.year(),5)},YYYYYY:function(){var y=this.year(),sign=y>=0?"+":"-";return sign+leftZeroFill(Math.abs(y),6)},gg:function(){return leftZeroFill(this.weekYear()%100,2)},gggg:function(){return leftZeroFill(this.weekYear(),4)},ggggg:function(){return leftZeroFill(this.weekYear(),5)},GG:function(){return leftZeroFill(this.isoWeekYear()%100,2)},GGGG:function(){return leftZeroFill(this.isoWeekYear(),4)},GGGGG:function(){return leftZeroFill(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),true)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),false)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return toInt(this.milliseconds()/100)},SS:function(){return leftZeroFill(toInt(this.milliseconds()/10),2)},SSS:function(){return leftZeroFill(this.milliseconds(),3)},SSSS:function(){return leftZeroFill(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";if(a<0){a=-a;b="-"}return b+leftZeroFill(toInt(a/60),2)+":"+leftZeroFill(toInt(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";if(a<0){a=-a;b="-"}return b+leftZeroFill(toInt(a/60),2)+leftZeroFill(toInt(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},lists=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];function defaultParsingFlags(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false}}function padToken(func,count){return function(a){return leftZeroFill(func.call(this,a),count)}}function ordinalizeToken(func,period){return function(a){return this.lang().ordinal(func.call(this,a),period)}}while(ordinalizeTokens.length){i=ordinalizeTokens.pop();formatTokenFunctions[i+"o"]=ordinalizeToken(formatTokenFunctions[i],i)}while(paddedTokens.length){i=paddedTokens.pop();formatTokenFunctions[i+i]=padToken(formatTokenFunctions[i],2)}formatTokenFunctions.DDDD=padToken(formatTokenFunctions.DDD,3);function Language(){}function Moment(config){checkOverflow(config);extend(this,config)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+seconds*1000+minutes*60000+hours*3600000;this._days=+days+weeks*7;this._months=+months+years*12;this._data={};this._bubble()}function extend(a,b){for(var i in b){if(b.hasOwnProperty(i)){a[i]=b[i]}}if(b.hasOwnProperty("toString")){a.toString=b.toString}if(b.hasOwnProperty("valueOf")){a.valueOf=b.valueOf}return a}function cloneMoment(m){var result={},i;for(i in m){if(m.hasOwnProperty(i)&&momentProperties.hasOwnProperty(i)){result[i]=m[i]}}return result}function absRound(number){if(number<0){return Math.ceil(number)}else{return Math.floor(number)}}function leftZeroFill(number,targetLength,forceSign){var output=""+Math.abs(number),sign=number>=0;while(output.length<targetLength){output="0"+output}return(sign?(forceSign?"+":""):"-")+output}function addOrSubtractDurationFromMoment(mom,duration,isAdding,ignoreUpdateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months,minutes,hours;if(milliseconds){mom._d.setTime(+mom._d+milliseconds*isAdding)}if(days||months){minutes=mom.minute();hours=mom.hour()}if(days){mom.date(mom.date()+days*isAdding)}if(months){mom.month(mom.month()+months*isAdding)}if(milliseconds&&!ignoreUpdateOffset){moment.updateOffset(mom)}if(days||months){mom.minute(minutes);mom.hour(hours)}}function isArray(input){return Object.prototype.toString.call(input)==="[object Array]"}function isDate(input){return Object.prototype.toString.call(input)==="[object Date]"||input instanceof Date}function compareArrays(array1,array2,dontConvert){var len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0,i;for(i=0;i<len;i++){if((dontConvert&&array1[i]!==array2[i])||(!dontConvert&&toInt(array1[i])!==toInt(array2[i]))){diffs++}}return diffs+lengthDiff}function normalizeUnits(units){if(units){var lowered=units.toLowerCase().replace(/(.)s$/,"$1");units=unitAliases[units]||camelFunctions[lowered]||lowered}return units}function normalizeObjectUnits(inputObject){var normalizedInput={},normalizedProp,prop;for(prop in inputObject){if(inputObject.hasOwnProperty(prop)){normalizedProp=normalizeUnits(prop);if(normalizedProp){normalizedInput[normalizedProp]=inputObject[prop]}}}return normalizedInput}function makeList(field){var count,setter;if(field.indexOf("week")===0){count=7;setter="day"}else{if(field.indexOf("month")===0){count=12;setter="month"}else{return}}moment[field]=function(format,index){var i,getter,method=moment.fn._lang[field],results=[];if(typeof format==="number"){index=format;format=undefined}getter=function(i){var m=moment().utc().set(setter,i);return method.call(moment.fn._lang,m,format||"")};if(index!=null){return getter(index)}else{for(i=0;i<count;i++){results.push(getter(i))}return results}}}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;if(coercedNumber!==0&&isFinite(coercedNumber)){if(coercedNumber>=0){value=Math.floor(coercedNumber)}else{value=Math.ceil(coercedNumber)}}return value}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return(year%4===0&&year%100!==0)||year%400===0}function checkOverflow(m){var overflow;if(m._a&&m._pf.overflow===-2){overflow=m._a[MONTH]<0||m._a[MONTH]>11?MONTH:m._a[DATE]<1||m._a[DATE]>daysInMonth(m._a[YEAR],m._a[MONTH])?DATE:m._a[HOUR]<0||m._a[HOUR]>23?HOUR:m._a[MINUTE]<0||m._a[MINUTE]>59?MINUTE:m._a[SECOND]<0||m._a[SECOND]>59?SECOND:m._a[MILLISECOND]<0||m._a[MILLISECOND]>999?MILLISECOND:-1;if(m._pf._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)){overflow=DATE}m._pf.overflow=overflow}}function isValid(m){if(m._isValid==null){m._isValid=!isNaN(m._d.getTime())&&m._pf.overflow<0&&!m._pf.empty&&!m._pf.invalidMonth&&!m._pf.nullInput&&!m._pf.invalidFormat&&!m._pf.userInvalidated;if(m._strict){m._isValid=m._isValid&&m._pf.charsLeftOver===0&&m._pf.unusedTokens.length===0}}return m._isValid}function normalizeLanguage(key){return key?key.toLowerCase().replace("_","-"):key}function makeAs(input,model){return model._isUTC?moment(input).zone(model._offset||0):moment(input).local()}extend(Language.prototype,{set:function(config){var prop,i;for(i in config){prop=config[i];if(typeof prop==="function"){this[i]=prop}else{this["_"+i]=prop}}},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(m){return this._months[m.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(m){return this._monthsShort[m.month()]},monthsParse:function(monthName){var i,mom,regex;if(!this._monthsParse){this._monthsParse=[]}for(i=0;i<12;i++){if(!this._monthsParse[i]){mom=moment.utc([2000,i]);regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,"");this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")}if(this._monthsParse[i].test(monthName)){return i}}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(m){return this._weekdays[m.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(m){return this._weekdaysShort[m.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(m){return this._weekdaysMin[m.day()]},weekdaysParse:function(weekdayName){var i,mom,regex;if(!this._weekdaysParse){this._weekdaysParse=[]}for(i=0;i<7;i++){if(!this._weekdaysParse[i]){mom=moment([2000,1]).day(i);regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,"");this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")}if(this._weekdaysParse[i].test(weekdayName)){return i}}},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(key){var output=this._longDateFormat[key];if(!output&&this._longDateFormat[key.toUpperCase()]){output=this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)});this._longDateFormat[key]=output}return output},isPM:function(input){return((input+"").toLowerCase().charAt(0)==="p")},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(hours,minutes,isLower){if(hours>11){return isLower?"pm":"PM"}else{return isLower?"am":"AM"}},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(key,mom){var output=this._calendar[key];return typeof output==="function"?output.apply(mom):output},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return(typeof output==="function")?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},pastFuture:function(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return typeof format==="function"?format(output):format.replace(/%s/i,output)},ordinal:function(number){return this._ordinal.replace("%d",number)},_ordinal:"%d",preparse:function(string){return string},postformat:function(string){return string},week:function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});function loadLang(key,values){values.abbr=key;if(!languages[key]){languages[key]=new Language()}languages[key].set(values);return languages[key]}function unloadLang(key){delete languages[key]}function getLangDefinition(key){var i=0,j,lang,next,split,get=function(k){if(!languages[k]&&hasModule){try{require("./lang/"+k)}catch(e){}}return languages[k]};if(!key){return moment.fn._lang}if(!isArray(key)){lang=get(key);if(lang){return lang}key=[key]}while(i<key.length){split=normalizeLanguage(key[i]).split("-");j=split.length;next=normalizeLanguage(key[i+1]);next=next?next.split("-"):null;while(j>0){lang=get(split.slice(0,j).join("-"));if(lang){return lang}if(next&&next.length>=j&&compareArrays(split,next,true)>=j-1){break}j--}i++}return moment.fn._lang}function removeFormattingTokens(input){if(input.match(/\[[\s\S]/)){return input.replace(/^\[|\]$/g,"")}return input.replace(/\\/g,"")}function makeFormatFunction(format){var array=format.match(formattingTokens),i,length;for(i=0,length=array.length;i<length;i++){if(formatTokenFunctions[array[i]]){array[i]=formatTokenFunctions[array[i]]}else{array[i]=removeFormattingTokens(array[i])}}return function(mom){var output="";for(i=0;i<length;i++){output+=array[i] instanceof Function?array[i].call(mom,format):array[i]}return output}}function formatMoment(m,format){if(!m.isValid()){return m.lang().invalidDate()}format=expandFormat(format,m.lang());if(!formatFunctions[format]){formatFunctions[format]=makeFormatFunction(format)}return formatFunctions[format](m)}function expandFormat(format,lang){var i=5;function replaceLongDateFormatTokens(input){return lang.longDateFormat(input)||input}localFormattingTokens.lastIndex=0;while(i>=0&&localFormattingTokens.test(format)){format=format.replace(localFormattingTokens,replaceLongDateFormatTokens);localFormattingTokens.lastIndex=0;i-=1}return format}function getParseRegexForToken(token,config){var a,strict=config._strict;switch(token){case"DDDD":return parseTokenThreeDigits;case"YYYY":case"GGGG":case"gggg":return strict?parseTokenFourDigits:parseTokenOneToFourDigits;case"Y":case"G":case"g":return parseTokenSignedNumber;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return strict?parseTokenSixDigits:parseTokenOneToSixDigits;case"S":if(strict){return parseTokenOneDigit}case"SS":if(strict){return parseTokenTwoDigits}case"SSS":if(strict){return parseTokenThreeDigits}case"DDD":return parseTokenOneToThreeDigits;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return parseTokenWord;case"a":case"A":return getLangDefinition(config._l)._meridiemParse;case"X":return parseTokenTimestampMs;case"Z":case"ZZ":return parseTokenTimezone;case"T":return parseTokenT;case"SSSS":return parseTokenDigits;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return strict?parseTokenTwoDigits:parseTokenOneOrTwoDigits;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return parseTokenOneOrTwoDigits;default:a=new RegExp(regexpEscape(unescapeFormat(token.replace("\\","")),"i"));return a}}function timezoneMinutesFromString(string){string=string||"";var possibleTzMatches=(string.match(parseTokenTimezone)||[]),tzChunk=possibleTzMatches[possibleTzMatches.length-1]||[],parts=(tzChunk+"").match(parseTimezoneChunker)||["-",0,0],minutes=+(parts[1]*60)+toInt(parts[2]);return parts[0]==="+"?-minutes:minutes}function addTimeToArrayFromToken(token,input,config){var a,datePartArray=config._a;switch(token){case"M":case"MM":if(input!=null){datePartArray[MONTH]=toInt(input)-1}break;case"MMM":case"MMMM":a=getLangDefinition(config._l).monthsParse(input);if(a!=null){datePartArray[MONTH]=a}else{config._pf.invalidMonth=input}break;case"D":case"DD":if(input!=null){datePartArray[DATE]=toInt(input)}break;case"DDD":case"DDDD":if(input!=null){config._dayOfYear=toInt(input)}break;case"YY":datePartArray[YEAR]=toInt(input)+(toInt(input)>68?1900:2000);break;case"YYYY":case"YYYYY":case"YYYYYY":datePartArray[YEAR]=toInt(input);break;case"a":case"A":config._isPm=getLangDefinition(config._l).isPM(input);break;case"H":case"HH":case"h":case"hh":datePartArray[HOUR]=toInt(input);break;case"m":case"mm":datePartArray[MINUTE]=toInt(input);break;case"s":case"ss":datePartArray[SECOND]=toInt(input);break;case"S":case"SS":case"SSS":case"SSSS":datePartArray[MILLISECOND]=toInt(("0."+input)*1000);break;case"X":config._d=new Date(parseFloat(input)*1000);break;case"Z":case"ZZ":config._useUTC=true;config._tzm=timezoneMinutesFromString(input);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":token=token.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":token=token.substr(0,2);if(input){config._w=config._w||{};config._w[token]=input}break}}function dateFromConfig(config){var i,date,input=[],currentDate,yearToUse,fixYear,w,temp,lang,weekday,week;if(config._d){return}currentDate=currentDateArray(config);if(config._w&&config._a[DATE]==null&&config._a[MONTH]==null){fixYear=function(val){var int_val=parseInt(val,10);return val?(val.length<3?(int_val>68?1900+int_val:2000+int_val):int_val):(config._a[YEAR]==null?moment().weekYear():config._a[YEAR])};w=config._w;if(w.GG!=null||w.W!=null||w.E!=null){temp=dayOfYearFromWeeks(fixYear(w.GG),w.W||1,w.E,4,1)}else{lang=getLangDefinition(config._l);weekday=w.d!=null?parseWeekday(w.d,lang):(w.e!=null?parseInt(w.e,10)+lang._week.dow:0);week=parseInt(w.w,10)||1;if(w.d!=null&&weekday<lang._week.dow){week++}temp=dayOfYearFromWeeks(fixYear(w.gg),week,weekday,lang._week.doy,lang._week.dow)}config._a[YEAR]=temp.year;config._dayOfYear=temp.dayOfYear}if(config._dayOfYear){yearToUse=config._a[YEAR]==null?currentDate[YEAR]:config._a[YEAR];if(config._dayOfYear>daysInYear(yearToUse)){config._pf._overflowDayOfYear=true}date=makeUTCDate(yearToUse,0,config._dayOfYear);config._a[MONTH]=date.getUTCMonth();config._a[DATE]=date.getUTCDate()}for(i=0;i<3&&config._a[i]==null;++i){config._a[i]=input[i]=currentDate[i]}for(;i<7;i++){config._a[i]=input[i]=(config._a[i]==null)?(i===2?1:0):config._a[i]}input[HOUR]+=toInt((config._tzm||0)/60);input[MINUTE]+=toInt((config._tzm||0)%60);config._d=(config._useUTC?makeUTCDate:makeDate).apply(null,input)}function dateFromObject(config){var normalizedInput;if(config._d){return}normalizedInput=normalizeObjectUnits(config._i);config._a=[normalizedInput.year,normalizedInput.month,normalizedInput.day,normalizedInput.hour,normalizedInput.minute,normalizedInput.second,normalizedInput.millisecond];dateFromConfig(config)}function currentDateArray(config){var now=new Date();if(config._useUTC){return[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()]}else{return[now.getFullYear(),now.getMonth(),now.getDate()]}}function makeDateFromStringAndFormat(config){config._a=[];config._pf.empty=true;var lang=getLangDefinition(config._l),string=""+config._i,i,parsedInput,tokens,token,skipped,stringLength=string.length,totalParsedInputLength=0;tokens=expandFormat(config._f,lang).match(formattingTokens)||[];for(i=0;i<tokens.length;i++){token=tokens[i];parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0];if(parsedInput){skipped=string.substr(0,string.indexOf(parsedInput));if(skipped.length>0){config._pf.unusedInput.push(skipped)}string=string.slice(string.indexOf(parsedInput)+parsedInput.length);totalParsedInputLength+=parsedInput.length}if(formatTokenFunctions[token]){if(parsedInput){config._pf.empty=false}else{config._pf.unusedTokens.push(token)}addTimeToArrayFromToken(token,parsedInput,config)}else{if(config._strict&&!parsedInput){config._pf.unusedTokens.push(token)}}}config._pf.charsLeftOver=stringLength-totalParsedInputLength;if(string.length>0){config._pf.unusedInput.push(string)}if(config._isPm&&config._a[HOUR]<12){config._a[HOUR]+=12}if(config._isPm===false&&config._a[HOUR]===12){config._a[HOUR]=0}dateFromConfig(config);checkOverflow(config)}function unescapeFormat(s){return s.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4})}function regexpEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function makeDateFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(config._f.length===0){config._pf.invalidFormat=true;config._d=new Date(NaN);return}for(i=0;i<config._f.length;i++){currentScore=0;tempConfig=extend({},config);tempConfig._pf=defaultParsingFlags();tempConfig._f=config._f[i];makeDateFromStringAndFormat(tempConfig);if(!isValid(tempConfig)){continue}currentScore+=tempConfig._pf.charsLeftOver;currentScore+=tempConfig._pf.unusedTokens.length*10;tempConfig._pf.score=currentScore;if(scoreToBeat==null||currentScore<scoreToBeat){scoreToBeat=currentScore;bestMoment=tempConfig}}extend(config,bestMoment||tempConfig)}function makeDateFromString(config){var i,l,string=config._i,match=isoRegex.exec(string);if(match){config._pf.iso=true;for(i=0,l=isoDates.length;i<l;i++){if(isoDates[i][1].exec(string)){config._f=isoDates[i][0]+(match[6]||" ");break}}for(i=0,l=isoTimes.length;i<l;i++){if(isoTimes[i][1].exec(string)){config._f+=isoTimes[i][0];break}}if(string.match(parseTokenTimezone)){config._f+="Z"}makeDateFromStringAndFormat(config)}else{config._d=new Date(string)}}function makeDateFromInput(config){var input=config._i,matched=aspNetJsonRegex.exec(input);if(input===undefined){config._d=new Date()}else{if(matched){config._d=new Date(+matched[1])}else{if(typeof input==="string"){makeDateFromString(config)}else{if(isArray(input)){config._a=input.slice(0);dateFromConfig(config)}else{if(isDate(input)){config._d=new Date(+input)}else{if(typeof(input)==="object"){dateFromObject(config)}else{config._d=new Date(input)}}}}}}}function makeDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);if(y<1970){date.setFullYear(y)}return date}function makeUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));if(y<1970){date.setUTCFullYear(y)}return date}function parseWeekday(input,language){if(typeof input==="string"){if(!isNaN(input)){input=parseInt(input,10)}else{input=language.weekdaysParse(input);if(typeof input!=="number"){return null}}}return input}function substituteTimeAgo(string,number,withoutSuffix,isFuture,lang){return lang.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function relativeTime(milliseconds,withoutSuffix,lang){var seconds=round(Math.abs(milliseconds)/1000),minutes=round(seconds/60),hours=round(minutes/60),days=round(hours/24),years=round(days/365),args=seconds<45&&["s",seconds]||minutes===1&&["m"]||minutes<45&&["mm",minutes]||hours===1&&["h"]||hours<22&&["hh",hours]||days===1&&["d"]||days<=25&&["dd",days]||days<=45&&["M"]||days<345&&["MM",round(days/30)]||years===1&&["y"]||["yy",years];args[2]=withoutSuffix;args[3]=milliseconds>0;args[4]=lang;return substituteTimeAgo.apply({},args)}function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day(),adjustedMoment;if(daysToDayOfWeek>end){daysToDayOfWeek-=7}if(daysToDayOfWeek<end-7){daysToDayOfWeek+=7}adjustedMoment=moment(mom).add("d",daysToDayOfWeek);return{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()}}function dayOfYearFromWeeks(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){var d=makeUTCDate(year,0,1).getUTCDay(),daysToAdd,dayOfYear;weekday=weekday!=null?weekday:firstDayOfWeek;daysToAdd=firstDayOfWeek-d+(d>firstDayOfWeekOfYear?7:0)-(d<firstDayOfWeek?7:0);dayOfYear=7*(week-1)+(weekday-firstDayOfWeek)+daysToAdd+1;return{year:dayOfYear>0?year:year-1,dayOfYear:dayOfYear>0?dayOfYear:daysInYear(year-1)+dayOfYear}}function makeMoment(config){var input=config._i,format=config._f;if(input===null){return moment.invalid({nullInput:true})}if(typeof input==="string"){config._i=input=getLangDefinition().preparse(input)}if(moment.isMoment(input)){config=cloneMoment(input);config._d=new Date(+input._d)}else{if(format){if(isArray(format)){makeDateFromStringAndArray(config)}else{makeDateFromStringAndFormat(config)}}else{makeDateFromInput(config)}}return new Moment(config)}moment=function(input,format,lang,strict){var c;if(typeof(lang)==="boolean"){strict=lang;lang=undefined}c={};c._isAMomentObject=true;c._i=input;c._f=format;c._l=lang;c._strict=strict;c._isUTC=false;c._pf=defaultParsingFlags();return makeMoment(c)};moment.utc=function(input,format,lang,strict){var c;if(typeof(lang)==="boolean"){strict=lang;lang=undefined}c={};c._isAMomentObject=true;c._useUTC=true;c._isUTC=true;c._l=lang;c._i=input;c._f=format;c._strict=strict;c._pf=defaultParsingFlags();return makeMoment(c).utc()};moment.unix=function(input){return moment(input*1000)};moment.duration=function(input,key){var duration=input,match=null,sign,ret,parseIso;if(moment.isDuration(input)){duration={ms:input._milliseconds,d:input._days,M:input._months}}else{if(typeof input==="number"){duration={};if(key){duration[key]=input}else{duration.milliseconds=input}}else{if(!!(match=aspNetTimeSpanJsonRegex.exec(input))){sign=(match[1]==="-")?-1:1;duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}}else{if(!!(match=isoDurationRegex.exec(input))){sign=(match[1]==="-")?-1:1;parseIso=function(inp){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign};duration={y:parseIso(match[2]),M:parseIso(match[3]),d:parseIso(match[4]),h:parseIso(match[5]),m:parseIso(match[6]),s:parseIso(match[7]),w:parseIso(match[8])}}}}}ret=new Duration(duration);if(moment.isDuration(input)&&input.hasOwnProperty("_lang")){ret._lang=input._lang}return ret};moment.version=VERSION;moment.defaultFormat=isoFormat;moment.updateOffset=function(){};moment.lang=function(key,values){var r;if(!key){return moment.fn._lang._abbr}if(values){loadLang(normalizeLanguage(key),values)}else{if(values===null){unloadLang(key);key="en"}else{if(!languages[key]){getLangDefinition(key)}}}r=moment.duration.fn._lang=moment.fn._lang=getLangDefinition(key);return r._abbr};moment.langData=function(key){if(key&&key._lang&&key._lang._abbr){key=key._lang._abbr}return getLangDefinition(key)};moment.isMoment=function(obj){return obj instanceof Moment||(obj!=null&&obj.hasOwnProperty("_isAMomentObject"))};moment.isDuration=function(obj){return obj instanceof Duration};for(i=lists.length-1;i>=0;--i){makeList(lists[i])}moment.normalizeUnits=function(units){return normalizeUnits(units)};moment.invalid=function(flags){var m=moment.utc(NaN);if(flags!=null){extend(m._pf,flags)}else{m._pf.userInvalidated=true}return m};moment.parseZone=function(input){return moment(input).parseZone()};extend(moment.fn=Moment.prototype,{clone:function(){return moment(this)},valueOf:function(){return +this._d+((this._offset||0)*60000)},unix:function(){return Math.floor(+this/1000)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var m=moment(this).utc();if(0<m.year()&&m.year()<=9999){return formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}else{return formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}},toArray:function(){var m=this;return[m.year(),m.month(),m.date(),m.hours(),m.minutes(),m.seconds(),m.milliseconds()]},isValid:function(){return isValid(this)},isDSTShifted:function(){if(this._a){return this.isValid()&&compareArrays(this._a,(this._isUTC?moment.utc(this._a):moment(this._a)).toArray())>0}return false},parsingFlags:function(){return extend({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){this.zone(0);this._isUTC=false;return this},format:function(inputString){var output=formatMoment(this,inputString||moment.defaultFormat);return this.lang().postformat(output)},add:function(input,val){var dur;if(typeof input==="string"){dur=moment.duration(+val,input)}else{dur=moment.duration(input,val)}addOrSubtractDurationFromMoment(this,dur,1);return this},subtract:function(input,val){var dur;if(typeof input==="string"){dur=moment.duration(+val,input)}else{dur=moment.duration(input,val)}addOrSubtractDurationFromMoment(this,dur,-1);return this},diff:function(input,units,asFloat){var that=makeAs(input,this),zoneDiff=(this.zone()-that.zone())*60000,diff,output;units=normalizeUnits(units);if(units==="year"||units==="month"){diff=(this.daysInMonth()+that.daysInMonth())*43200000;output=((this.year()-that.year())*12)+(this.month()-that.month());output+=((this-moment(this).startOf("month"))-(that-moment(that).startOf("month")))/diff;output-=((this.zone()-moment(this).startOf("month").zone())-(that.zone()-moment(that).startOf("month").zone()))*60000/diff;if(units==="year"){output=output/12}}else{diff=(this-that);output=units==="second"?diff/1000:units==="minute"?diff/60000:units==="hour"?diff/3600000:units==="day"?(diff-zoneDiff)/86400000:units==="week"?(diff-zoneDiff)/604800000:diff}return asFloat?output:absRound(output)},from:function(time,withoutSuffix){return moment.duration(this.diff(time)).lang(this.lang()._abbr).humanize(!withoutSuffix)},fromNow:function(withoutSuffix){return this.from(moment(),withoutSuffix)},calendar:function(){var sod=makeAs(moment(),this).startOf("day"),diff=this.diff(sod,"days",true),format=diff<-6?"sameElse":diff<-1?"lastWeek":diff<0?"lastDay":diff<1?"sameDay":diff<2?"nextDay":diff<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(format,this))},isLeapYear:function(){return isLeapYear(this.year())},isDST:function(){return(this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone())},day:function(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();if(input!=null){input=parseWeekday(input,this.lang());return this.add({d:input-day})}else{return day}},month:function(input){var utc=this._isUTC?"UTC":"",dayOfMonth;if(input!=null){if(typeof input==="string"){input=this.lang().monthsParse(input);if(typeof input!=="number"){return this}}dayOfMonth=this.date();this.date(1);this._d["set"+utc+"Month"](input);this.date(Math.min(dayOfMonth,this.daysInMonth()));moment.updateOffset(this);return this}else{return this._d["get"+utc+"Month"]()}},startOf:function(units){units=normalizeUnits(units);switch(units){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(units==="week"){this.weekday(0)}else{if(units==="isoWeek"){this.isoWeekday(1)}}return this},endOf:function(units){units=normalizeUnits(units);return this.startOf(units).add((units==="isoWeek"?"week":units),1).subtract("ms",1)},isAfter:function(input,units){units=typeof units!=="undefined"?units:"millisecond";return +this.clone().startOf(units)>+moment(input).startOf(units)},isBefore:function(input,units){units=typeof units!=="undefined"?units:"millisecond";return +this.clone().startOf(units)<+moment(input).startOf(units)},isSame:function(input,units){units=units||"ms";return +this.clone().startOf(units)===+makeAs(input,this).startOf(units)},min:function(other){other=moment.apply(null,arguments);return other<this?this:other},max:function(other){other=moment.apply(null,arguments);return other>this?this:other},zone:function(input){var offset=this._offset||0;if(input!=null){if(typeof input==="string"){input=timezoneMinutesFromString(input)}if(Math.abs(input)<16){input=input*60}this._offset=input;this._isUTC=true;if(offset!==input){addOrSubtractDurationFromMoment(this,moment.duration(offset-input,"m"),1,true)}}else{return this._isUTC?offset:this._d.getTimezoneOffset()}return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){if(this._tzm){this.zone(this._tzm)}else{if(typeof this._i==="string"){this.zone(this._i)}}return this},hasAlignedHourOffset:function(input){if(!input){input=0}else{input=moment(input).zone()}return(this.zone()-input)%60===0},daysInMonth:function(){return daysInMonth(this.year(),this.month())},dayOfYear:function(input){var dayOfYear=round((moment(this).startOf("day")-moment(this).startOf("year"))/86400000)+1;return input==null?dayOfYear:this.add("d",(input-dayOfYear))},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(input){var year=weekOfYear(this,this.lang()._week.dow,this.lang()._week.doy).year;return input==null?year:this.add("y",(input-year))},isoWeekYear:function(input){var year=weekOfYear(this,1,4).year;return input==null?year:this.add("y",(input-year))},week:function(input){var week=this.lang().week(this);return input==null?week:this.add("d",(input-week)*7)},isoWeek:function(input){var week=weekOfYear(this,1,4).week;return input==null?week:this.add("d",(input-week)*7)},weekday:function(input){var weekday=(this.day()+7-this.lang()._week.dow)%7;return input==null?weekday:this.add("d",input-weekday)},isoWeekday:function(input){return input==null?this.day()||7:this.day(this.day()%7?input:input-7)},get:function(units){units=normalizeUnits(units);return this[units]()},set:function(units,value){units=normalizeUnits(units);if(typeof this[units]==="function"){this[units](value)}return this},lang:function(key){if(key===undefined){return this._lang}else{this._lang=getLangDefinition(key);return this}}});function makeGetterAndSetter(name,key){moment.fn[name]=moment.fn[name+"s"]=function(input){var utc=this._isUTC?"UTC":"";if(input!=null){this._d["set"+utc+key](input);moment.updateOffset(this);return this}else{return this._d["get"+utc+key]()}}}for(i=0;i<proxyGettersAndSetters.length;i++){makeGetterAndSetter(proxyGettersAndSetters[i].toLowerCase().replace(/s$/,""),proxyGettersAndSetters[i])}makeGetterAndSetter("year","FullYear");moment.fn.days=moment.fn.day;moment.fn.months=moment.fn.month;moment.fn.weeks=moment.fn.week;moment.fn.isoWeeks=moment.fn.isoWeek;moment.fn.toJSON=moment.fn.toISOString;extend(moment.duration.fn=Duration.prototype,{_bubble:function(){var milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data,seconds,minutes,hours,years;data.milliseconds=milliseconds%1000;seconds=absRound(milliseconds/1000);data.seconds=seconds%60;minutes=absRound(seconds/60);data.minutes=minutes%60;hours=absRound(minutes/60);data.hours=hours%24;days+=absRound(hours/24);data.days=days%30;months+=absRound(days/30);data.months=months%12;years=absRound(months/12);data.years=years},weeks:function(){return absRound(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*86400000+(this._months%12)*2592000000+toInt(this._months/12)*31536000000},humanize:function(withSuffix){var difference=+this,output=relativeTime(difference,!withSuffix,this.lang());if(withSuffix){output=this.lang().pastFuture(difference,output)}return this.lang().postformat(output)},add:function(input,val){var dur=moment.duration(input,val);this._milliseconds+=dur._milliseconds;this._days+=dur._days;this._months+=dur._months;this._bubble();return this},subtract:function(input,val){var dur=moment.duration(input,val);this._milliseconds-=dur._milliseconds;this._days-=dur._days;this._months-=dur._months;this._bubble();return this},get:function(units){units=normalizeUnits(units);return this[units.toLowerCase()+"s"]()},as:function(units){units=normalizeUnits(units);return this["as"+units.charAt(0).toUpperCase()+units.slice(1)+"s"]()},lang:moment.fn.lang,toIsoString:function(){var years=Math.abs(this.years()),months=Math.abs(this.months()),days=Math.abs(this.days()),hours=Math.abs(this.hours()),minutes=Math.abs(this.minutes()),seconds=Math.abs(this.seconds()+this.milliseconds()/1000);if(!this.asSeconds()){return"P0D"}return(this.asSeconds()<0?"-":"")+"P"+(years?years+"Y":"")+(months?months+"M":"")+(days?days+"D":"")+((hours||minutes||seconds)?"T":"")+(hours?hours+"H":"")+(minutes?minutes+"M":"")+(seconds?seconds+"S":"")}});function makeDurationGetter(name){moment.duration.fn[name]=function(){return this._data[name]}}function makeDurationAsGetter(name,factor){moment.duration.fn["as"+name]=function(){return +this/factor}}for(i in unitMillisecondFactors){if(unitMillisecondFactors.hasOwnProperty(i)){makeDurationAsGetter(i,unitMillisecondFactors[i]);makeDurationGetter(i.toLowerCase())}}makeDurationAsGetter("Weeks",604800000);moment.duration.fn.asMonths=function(){return(+this-this.years()*31536000000)/2592000000+this.years()*12};moment.lang("en",{ordinal:function(number){var b=number%10,output=(toInt(number%100/10)===1)?"th":(b===1)?"st":(b===2)?"nd":(b===3)?"rd":"th";return number+output}});function makeGlobal(deprecate){var warned=false,local_moment=moment;if(typeof ender!=="undefined"){return}if(deprecate){global.moment=function(){if(!warned&&console&&console.warn){warned=true;console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")}return local_moment.apply(null,arguments)};extend(global.moment,local_moment)}else{global.moment=moment}}if(hasModule){module.exports=moment;makeGlobal(true)}else{if(typeof define==="function"&&define.amd){define("moment",function(require,exports,module){if(module.config&&module.config()&&module.config().noGlobal!==true){makeGlobal(module.config().noGlobal===undefined)}return moment})}else{makeGlobal()}}}).call(this);(function(){var makeRelative;makeRelative=function($element){return $element.html(moment($element.data("time")).fromNow())};$(document).on("ready",function(){var elem,_i,_len,_ref,_results;_ref=$(".relative-time").removeClass("relative-time");_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){elem=_ref[_i];_results.push(makeRelative($(elem)))}return _results})}).call(this);(function(){$(document).on("click","a.toggle_with_hide",function(evt){evt.preventDefault();$($(this).attr("data-hide")).toggleClass("hide").trigger("toggled");return $($(this).attr("href")).each(function(i,showEl){$(showEl).toggleClass("hide").trigger("toggled");$(showEl).find("input,textarea").filter(":focusable:first").focus();return $(showEl).find("input,textarea").filter(".rich_text").each(function(j,richtextEl){return CKEDITOR.instances[richtextEl.id].focus()})})});$(document).on("click",".one-way-toggle",function(evt){var toHide,toShow;evt.preventDefault();toHide=$(this).data("hide");toShow=$(this).val();$(toHide).addClass("hide");return $(toShow).removeClass("hide")})}).call(this);window.Modernizr=function(a,b,c){function C(a){j.cssText=a}function D(a,b){return C(n.join(a+";")+(b||""))}function E(a,b){return typeof a===b}function F(a,b){return !!~(""+a).indexOf(b)}function G(a,b){for(var d in a){var e=a[d];if(!F(e,"-")&&j[e]!==c){return b=="pfx"?e:!0}}return !1}function H(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c){return d===!1?a[e]:E(f,"function")?f.bind(d||b):f}}return !1}function I(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+p.join(d+" ")+d).split(" ");return E(b,"string")||E(b,"undefined")?G(e,b):(e=(a+" "+q.join(d+" ")+d).split(" "),H(e,b,c))}function J(){e.input=function(c){for(var d=0,e=c.length;d<e;d++){t[c[d]]=c[d] in k}return t.list&&(t.list=!!b.createElement("datalist")&&!!a.HTMLDataListElement),t}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),e.inputtypes=function(a){for(var d=0,e,f,h,i=a.length;d<i;d++){k.setAttribute("type",f=a[d]),e=k.type!=="text",e&&(k.value=l,k.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&k.style.WebkitAppearance!==c?(g.appendChild(k),h=b.defaultView,e=h.getComputedStyle&&h.getComputedStyle(k,null).WebkitAppearance!=="textfield"&&k.offsetHeight!==0,g.removeChild(k)):/^(search|tel)$/.test(f)||(/^(url|email)$/.test(f)?e=k.checkValidity&&k.checkValidity()===!1:e=k.value!=l)),s[a[d]]=!!e}return s}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d="2.7.1",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k=b.createElement("input"),l=":)",m={}.toString,n=" -webkit- -moz- -o- -ms- ".split(" "),o="Webkit Moz O ms",p=o.split(" "),q=o.toLowerCase().split(" "),r={},s={},t={},u=[],v=u.slice,w,x=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10)){while(d--){j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j)}}return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},y=function(b){var c=a.matchMedia||a.msMatchMedia;if(c){return c(b).matches}var d;return x("@media "+b+" { #"+h+" { position: absolute; } }",function(b){d=(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle)["position"]=="absolute"}),d},z=function(){function d(d,e){e=e||b.createElement(a[d]||"div"),d="on"+d;var f=d in e;return f||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(d,""),f=E(e[d],"function"),E(e[d],"undefined")||(e[d]=c),e.removeAttribute(d))),e=null,f}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return d}(),A={}.hasOwnProperty,B;!E(A,"undefined")&&!E(A.call,"undefined")?B=function(a,b){return A.call(a,b)}:B=function(a,b){return b in a&&E(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function"){throw new TypeError}var d=v.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(v.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(v.call(arguments)))};return e}),r.flexbox=function(){return I("flexWrap")},r.flexboxlegacy=function(){return I("boxDirection")},r.canvas=function(){var a=b.createElement("canvas");return !!a.getContext&&!!a.getContext("2d")},r.canvastext=function(){return !!e.canvas&&!!E(b.createElement("canvas").getContext("2d").fillText,"function")},r.touch=function(){var c;return"ontouchstart" in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:x(["@media (",n.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=a.offsetTop===9}),c},r.postmessage=function(){return !!a.postMessage},r.websqldatabase=function(){return !!a.openDatabase},r.indexedDB=function(){return !!I("indexedDB",a)},r.hashchange=function(){return z("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},r.history=function(){return !!a.history&&!!history.pushState},r.draganddrop=function(){var a=b.createElement("div");return"draggable" in a||"ondragstart" in a&&"ondrop" in a},r.websockets=function(){return"WebSocket" in a||"MozWebSocket" in a},r.rgba=function(){return C("background-color:rgba(150,255,150,.5)"),F(j.backgroundColor,"rgba")},r.hsla=function(){return C("background-color:hsla(120,40%,100%,.5)"),F(j.backgroundColor,"rgba")||F(j.backgroundColor,"hsla")},r.multiplebgs=function(){return C("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(j.background)},r.backgroundsize=function(){return I("backgroundSize")},r.borderimage=function(){return I("borderImage")},r.borderradius=function(){return I("borderRadius")},r.boxshadow=function(){return I("boxShadow")},r.textshadow=function(){return b.createElement("div").style.textShadow===""},r.opacity=function(){return D("opacity:.55"),/^0.55$/.test(j.opacity)},r.cssanimations=function(){return I("animationName")},r.csscolumns=function(){return I("columnCount")},r.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return C((a+"-webkit- ".split(" ").join(b+a)+n.join(c+a)).slice(0,-a.length)),F(j.backgroundImage,"gradient")},r.cssreflections=function(){return I("boxReflect")},r.csstransforms=function(){return !!I("transform")},r.csstransforms3d=function(){var a=!!I("perspective");return a&&"webkitPerspective" in g.style&&x("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=b.offsetLeft===9&&b.offsetHeight===3}),a},r.csstransitions=function(){return I("transition")},r.fontface=function(){var a;return x('@font-face {font-family:"font";src:url("https://")}',function(c,d){var e=b.getElementById("smodernizr"),f=e.sheet||e.styleSheet,g=f?f.cssRules&&f.cssRules[0]?f.cssRules[0].cssText:f.cssText||"":"";a=/src/i.test(g)&&g.indexOf(d.split(" ")[0])===0}),a},r.generatedcontent=function(){var a;return x(["#",h,"{font:0/0 a}#",h,':after{content:"',l,'";visibility:hidden;font:3px/1 a}'].join(""),function(b){a=b.offsetHeight>=3}),a},r.video=function(){var a=b.createElement("video"),c=!1;try{if(c=!!a.canPlayType){c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),c.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}}catch(d){}return c},r.audio=function(){var a=b.createElement("audio"),c=!1;try{if(c=!!a.canPlayType){c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),c.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),c.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),c.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,"")}}catch(d){}return c},r.localstorage=function(){try{return localStorage.setItem(h,h),localStorage.removeItem(h),!0}catch(a){return !1}},r.sessionstorage=function(){try{return sessionStorage.setItem(h,h),sessionStorage.removeItem(h),!0}catch(a){return !1}},r.webworkers=function(){return !!a.Worker},r.applicationcache=function(){return !!a.applicationCache};for(var K in r){B(r,K)&&(w=K.toLowerCase(),e[w]=r[K](),u.push((e[w]?"":"no-")+w))}return e.input||J(),e.addTest=function(a,b){if(typeof a=="object"){for(var d in a){B(a,d)&&e.addTest(d,a[d])}}else{a=a.toLowerCase();if(e[a]!==c){return e}b=typeof b=="function"?b():b,typeof f!="undefined"&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},C(""),i=k=null,function(a,b){function l(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function m(){var a=s.elements;return typeof a=="string"?a.split(" "):a}function n(a){var b=j[a[h]];return b||(b={},i++,a[h]=i,j[i]=b),b}function o(a,c,d){c||(c=b);if(k){return c.createElement(a)}d||(d=n(c));var g;return d.cache[a]?g=d.cache[a].cloneNode():f.test(a)?g=(d.cache[a]=d.createElem(a)).cloneNode():g=d.createElem(a),g.canHaveChildren&&!e.test(a)&&!g.tagUrn?d.frag.appendChild(g):g}function p(a,c){a||(a=b);if(k){return a.createDocumentFragment()}c=c||n(a);var d=c.frag.cloneNode(),e=0,f=m(),g=f.length;for(;e<g;e++){d.createElement(f[e])}return d}function q(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return s.shivMethods?o(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+m().join().replace(/[\w\-]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(s,b.frag)}function r(a){a||(a=b);var c=n(a);return s.shivCSS&&!g&&!c.hasCSS&&(c.hasCSS=!!l(a,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),k||q(a,c),a}var c="3.7.0",d=a.html5||{},e=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g,h="_html5shiv",i=0,j={},k;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",g="hidden" in a,k=a.childNodes.length==1||function(){b.createElement("a");var a=b.createDocumentFragment();return typeof a.cloneNode=="undefined"||typeof a.createDocumentFragment=="undefined"||typeof a.createElement=="undefined"}()}catch(c){g=!0,k=!0}})();var s={elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:c,shivCSS:d.shivCSS!==!1,supportsUnknownElements:k,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:r,createElement:o,createDocumentFragment:p};a.html5=s,r(b)}(this,b),e._version=d,e._prefixes=n,e._domPrefixes=q,e._cssomPrefixes=p,e.mq=y,e.hasEvent=z,e.testProp=function(a){return G([a])},e.testAllProps=I,e.testStyles=x,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+u.join(" "):""),e}(this,this.document),Modernizr.addTest("cssvhunit",function(){var a;return Modernizr.testStyles("#modernizr { height: 50vh; }",function(b,c){var d=parseInt(window.innerHeight/2,10),e=parseInt((window.getComputedStyle?getComputedStyle(b,null):b.currentStyle).height,10);a=e==d}),a}),Modernizr.addTest("cssvwunit",function(){var a;return Modernizr.testStyles("#modernizr { width: 50vw; }",function(b,c){var d=parseInt(window.innerWidth/2,10),e=parseInt((window.getComputedStyle?getComputedStyle(b,null):b.currentStyle).width,10);a=e==d}),a});
/*! Picturefill - v2.1.0 - 2014-07-25
* http://scottjehl.github.io/picturefill
* Copyright (c) 2014 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT */
;window.matchMedia||(window.matchMedia=function(){var a=window.styleMedia||window.media;if(!a){var b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle" in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,"1px"===d.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),function(a,b){function c(a){var b,c,d,f,g,h=a||{};b=h.elements||e.getAllElements();for(var i=0,j=b.length;j>i;i++){if(c=b[i],d=c.parentNode,f=void 0,g=void 0,c[e.ns]||(c[e.ns]={}),h.reevaluate||!c[e.ns].evaluated){if("PICTURE"===d.nodeName.toUpperCase()){if(e.removeVideoShim(d),f=e.getMatch(c,d),f===!1){continue}}else{f=void 0}("PICTURE"===d.nodeName.toUpperCase()||c.srcset&&!e.srcsetSupported||!e.sizesSupported&&c.srcset&&c.srcset.indexOf("w")>-1)&&e.dodgeSrcset(c),f?(g=e.processSourceSet(f),e.applyBestCandidate(g,c)):(g=e.processSourceSet(c),(void 0===c.srcset||c[e.ns].srcset)&&e.applyBestCandidate(g,c)),c[e.ns].evaluated=!0}}}function d(){c();var d=setInterval(function(){return c(),/^loaded|^i|^c/.test(b.readyState)?void clearInterval(d):void 0},250);if(a.addEventListener){var e;a.addEventListener("resize",function(){a._picturefillWorking||(a._picturefillWorking=!0,a.clearTimeout(e),e=a.setTimeout(function(){c({reevaluate:!0}),a._picturefillWorking=!1},60))},!1)}}if(a.HTMLPictureElement){return void (a.picturefill=function(){})}b.createElement("picture");var e={};e.ns="picturefill",e.srcsetSupported="srcset" in b.createElement("img"),e.sizesSupported=a.HTMLImageElement.sizes,e.trim=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},e.endsWith=function(a,b){return a.endsWith?a.endsWith(b):-1!==a.indexOf(b,a.length-b.length)},e.matchesMedia=function(b){return a.matchMedia&&a.matchMedia(b).matches},e.getDpr=function(){return a.devicePixelRatio||1},e.getWidthFromLength=function(a){return a=a&&(parseFloat(a)>0||a.indexOf("calc(")>-1)?a:"100vw",a=a.replace("vw","%"),e.lengthEl||(e.lengthEl=b.createElement("div"),b.documentElement.insertBefore(e.lengthEl,b.documentElement.firstChild)),e.lengthEl.style.cssText="position: absolute; left: 0; width: "+a+";",e.lengthEl.offsetWidth<=0&&(e.lengthEl.style.cssText="width: 100%;"),e.lengthEl.offsetWidth},e.types={},e.types["image/jpeg"]=!0,e.types["image/gif"]=!0,e.types["image/png"]=!0,e.types["image/svg+xml"]=b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),e.types["image/webp"]=function(){var b=new a.Image,d="image/webp";b.onerror=function(){e.types[d]=!1,c()},b.onload=function(){e.types[d]=1===b.width,c()},b.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="},e.verifyTypeSupport=function(a){var b=a.getAttribute("type");return null===b||""===b?!0:"function"==typeof e.types[b]?(e.types[b](),"pending"):e.types[b]},e.parseSize=function(a){var b=/(\([^)]+\))?\s*(.+)/g.exec(a);return{media:b&&b[1],length:b&&b[2]}},e.findWidthFromSourceSize=function(a){for(var b,c=e.trim(a).split(/\s*,\s*/),d=0,f=c.length;f>d;d++){var g=c[d],h=e.parseSize(g),i=h.length,j=h.media;if(i&&(!j||e.matchesMedia(j))){b=i;break}}return e.getWidthFromLength(b)},e.parseSrcset=function(a){for(var b=[];""!==a;){a=a.replace(/^\s+/g,"");var c,d=a.search(/\s/g),e=null;if(-1!==d){c=a.slice(0,d);var f=c[c.length-1];if((","===f||""===c)&&(c=c.replace(/,+$/,""),e=""),a=a.slice(d+1),null===e){var g=a.indexOf(",");-1!==g?(e=a.slice(0,g),a=a.slice(g+1)):(e=a,a="")}}else{c=a,a=""}(c||e)&&b.push({url:c,descriptor:e})}return b},e.parseDescriptor=function(a,b){var c,d=b||"100vw",f=a&&a.replace(/(^\s+|\s+$)/g,""),g=e.findWidthFromSourceSize(d);if(f){for(var h=f.split(" "),i=h.length+1;i>=0;i--){if(void 0!==h[i]){var j=h[i],k=j&&j.slice(j.length-1);if("h"!==k&&"w"!==k||e.sizesSupported){if("x"===k){var l=j&&parseFloat(j,10);c=l&&!isNaN(l)?l:1}}else{c=parseFloat(parseInt(j,10)/g)}}}}return c||1},e.getCandidatesFromSourceSet=function(a,b){for(var c=e.parseSrcset(a),d=[],f=0,g=c.length;g>f;f++){var h=c[f];d.push({url:h.url,resolution:e.parseDescriptor(h.descriptor,b)})}return d},e.dodgeSrcset=function(a){a.srcset&&(a[e.ns].srcset=a.srcset,a.removeAttribute("srcset"))},e.processSourceSet=function(a){var b=a.getAttribute("srcset"),c=a.getAttribute("sizes"),d=[];return"IMG"===a.nodeName.toUpperCase()&&a[e.ns]&&a[e.ns].srcset&&(b=a[e.ns].srcset),b&&(d=e.getCandidatesFromSourceSet(b,c)),d},e.applyBestCandidate=function(a,b){var c,d,f;a.sort(e.ascendingSort),d=a.length,f=a[d-1];for(var g=0;d>g;g++){if(c=a[g],c.resolution>=e.getDpr()){f=c;break}}f&&!e.endsWith(b.src,f.url)&&(b.src=f.url,b.currentSrc=b.src)},e.ascendingSort=function(a,b){return a.resolution-b.resolution},e.removeVideoShim=function(a){var b=a.getElementsByTagName("video");if(b.length){for(var c=b[0],d=c.getElementsByTagName("source");d.length;){a.insertBefore(d[0],c)}c.parentNode.removeChild(c)}},e.getAllElements=function(){for(var a=[],c=b.getElementsByTagName("img"),d=0,f=c.length;f>d;d++){var g=c[d];("PICTURE"===g.parentNode.nodeName.toUpperCase()||null!==g.getAttribute("srcset")||g[e.ns]&&null!==g[e.ns].srcset)&&a.push(g)}return a},e.getMatch=function(a,b){for(var c,d=b.childNodes,f=0,g=d.length;g>f;f++){var h=d[f];if(1===h.nodeType){if(h===a){return c}if("SOURCE"===h.nodeName.toUpperCase()){null!==h.getAttribute("src")&&void 0!==typeof console&&console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.");var i=h.getAttribute("media");if(h.getAttribute("srcset")&&(!i||e.matchesMedia(i))){var j=e.verifyTypeSupport(h);if(j===!0){c=h;break}if("pending"===j){return !1}}}}}return c},d(),c._=e,"object"==typeof module&&"object"==typeof module.exports?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):"object"==typeof a&&(a.picturefill=c)}(this,this.document);(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else{factory(jQuery)}}(function($){var TRUE=true,FALSE=false,NULL=null,undefined,QTIP,PLUGINS,MOUSE,usedIDs={},uitooltip="ui-tooltip",widget="ui-widget",disabled="ui-state-disabled",selector="div.qtip."+uitooltip,defaultClass=uitooltip+"-default",focusClass=uitooltip+"-focus",hoverClass=uitooltip+"-hover",fluidClass=uitooltip+"-fluid",hideOffset="-31000px",replaceSuffix="_replacedByqTip",oldtitle="oldtitle",trackingBound;function log(){log.history=log.history||[];log.history.push(arguments);if("object"===typeof console){var c=console[console.warn?"warn":"log"],args=Array.prototype.slice.call(arguments),a;if(typeof arguments[0]==="string"){args[0]="qTip2: "+args[0]}a=c.apply?c.apply(console,args):c(args)}}function sanitizeOptions(opts){var content;if(!opts||"object"!==typeof opts){return FALSE}if(opts.metadata===NULL||"object"!==typeof opts.metadata){opts.metadata={type:opts.metadata}}if("content" in opts){if(opts.content===NULL||"object"!==typeof opts.content||opts.content.jquery){opts.content={text:opts.content}}content=opts.content.text||FALSE;if(!$.isFunction(content)&&((!content&&!content.attr)||content.length<1||("object"===typeof content&&!content.jquery))){opts.content.text=FALSE}if("title" in opts.content){if(opts.content.title===NULL||"object"!==typeof opts.content.title){opts.content.title={text:opts.content.title}}content=opts.content.title.text||FALSE;if(!$.isFunction(content)&&((!content&&!content.attr)||content.length<1||("object"===typeof content&&!content.jquery))){opts.content.title.text=FALSE}}}if("position" in opts){if(opts.position===NULL||"object"!==typeof opts.position){opts.position={my:opts.position,at:opts.position}}}if("show" in opts){if(opts.show===NULL||"object"!==typeof opts.show){if(opts.show.jquery){opts.show={target:opts.show}}else{opts.show={event:opts.show}}}}if("hide" in opts){if(opts.hide===NULL||"object"!==typeof opts.hide){if(opts.hide.jquery){opts.hide={target:opts.hide}}else{opts.hide={event:opts.hide}}}}if("style" in opts){if(opts.style===NULL||"object"!==typeof opts.style){opts.style={classes:opts.style}}}$.each(PLUGINS,function(){if(this.sanitize){this.sanitize(opts)}});return opts}function QTip(target,options,id,attr){var self=this,docBody=document.body,tooltipID=uitooltip+"-"+id,isPositioning=0,isDrawing=0,tooltip=$(),namespace=".qtip-"+id,elements,cache;self.id=id;self.rendered=FALSE;self.elements=elements={target:target};self.timers={img:{}};self.options=options;self.checks={};self.plugins={};self.cache=cache={event:{},target:$(),disabled:FALSE,attr:attr,onTarget:FALSE};function convertNotation(notation){var i=0,obj,option=options,levels=notation.split(".");while(option=option[levels[i++]]){if(i<levels.length){obj=option}}return[obj||options,levels.pop()]}function setWidget(){var on=options.style.widget;tooltip.toggleClass(widget,on).toggleClass(defaultClass,options.style.def&&!on);elements.content.toggleClass(widget+"-content",on);if(elements.titlebar){elements.titlebar.toggleClass(widget+"-header",on)}if(elements.button){elements.button.toggleClass(uitooltip+"-icon",!on)}}function removeTitle(reposition){if(elements.title){elements.titlebar.remove();elements.titlebar=elements.title=elements.button=NULL;if(reposition!==FALSE){self.reposition()}}}function createButton(){var button=options.content.title.button,isString=typeof button==="string",close=isString?button:"Close tooltip";if(elements.button){elements.button.remove()}if(button.jquery){elements.button=button}else{elements.button=$("<a />",{"class":"ui-state-default ui-tooltip-close "+(options.style.widget?"":uitooltip+"-icon"),title:close,"aria-label":close}).prepend($("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}))}elements.button.appendTo(elements.titlebar).attr("role","button").click(function(event){if(!tooltip.hasClass(disabled)){self.hide(event)}return FALSE});self.redraw()}function createTitle(){var id=tooltipID+"-title";if(elements.titlebar){removeTitle()}elements.titlebar=$("<div />",{"class":uitooltip+"-titlebar "+(options.style.widget?"ui-widget-header":"")}).append(elements.title=$("<div />",{id:id,"class":uitooltip+"-title","aria-atomic":TRUE})).insertBefore(elements.content).delegate(".ui-tooltip-close","mousedown keydown mouseup keyup mouseout",function(event){$(this).toggleClass("ui-state-active ui-state-focus",event.type.substr(-4)==="down")}).delegate(".ui-tooltip-close","mouseover mouseout",function(event){$(this).toggleClass("ui-state-hover",event.type==="mouseover")});if(options.content.title.button){createButton()}else{if(self.rendered){self.redraw()}}}function updateButton(button){var elem=elements.button,title=elements.title;if(!self.rendered){return FALSE}if(!button){elem.remove()}else{if(!title){createTitle()}createButton()}}function updateTitle(content,reposition){var elem=elements.title;if(!self.rendered||!content){return FALSE}if($.isFunction(content)){content=content.call(target,cache.event,self)}if(content===FALSE||(!content&&content!=="")){return removeTitle(FALSE)}else{if(content.jquery&&content.length>0){elem.empty().append(content.css({display:"block"}))}else{elem.html(content)}}self.redraw();if(reposition!==FALSE&&self.rendered&&tooltip.is(":visible")){self.reposition(cache.event)}}function updateContent(content,reposition){var elem=elements.content;if(!self.rendered||!content){return FALSE}if($.isFunction(content)){content=content.call(target,cache.event,self)||""}if(content.jquery&&content.length>0){elem.empty().append(content.css({display:"block"}))}else{elem.html(content)}function detectImages(next){var images,srcs={};function imageLoad(image){if(image){delete srcs[image.src];clearTimeout(self.timers.img[image.src]);$(image).unbind(namespace)}if($.isEmptyObject(srcs)){self.redraw();if(reposition!==FALSE){self.reposition(cache.event)}next()}}if((images=elem.find("img[src]:not([height]):not([width])")).length===0){return imageLoad()}images.each(function(i,elem){if(srcs[elem.src]!==undefined){return}var iterations=0,maxIterations=3;(function timer(){if(elem.height||elem.width||(iterations>maxIterations)){return imageLoad(elem)}iterations+=1;self.timers.img[elem.src]=setTimeout(timer,700)}());$(elem).bind("error"+namespace+" load"+namespace,function(){imageLoad(this)});srcs[elem.src]=elem})}if(self.rendered<0){tooltip.queue("fx",detectImages)}else{isDrawing=0;detectImages($.noop)}return self}function assignEvents(){var posOptions=options.position,targets={show:options.show.target,hide:options.hide.target,viewport:$(posOptions.viewport),document:$(document),body:$(document.body),window:$(window)},events={show:$.trim(""+options.show.event).split(" "),hide:$.trim(""+options.hide.event).split(" ")},IE6=$.browser.msie&&parseInt($.browser.version,10)===6;function showMethod(event){if(tooltip.hasClass(disabled)){return FALSE}clearTimeout(self.timers.show);clearTimeout(self.timers.hide);var callback=function(){self.toggle(TRUE,event)};if(options.show.delay>0){self.timers.show=setTimeout(callback,options.show.delay)}else{callback()}}function hideMethod(event){if(tooltip.hasClass(disabled)||isPositioning||isDrawing){return FALSE}var relatedTarget=$(event.relatedTarget||event.target),ontoTooltip=relatedTarget.closest(selector)[0]===tooltip[0],ontoTarget=relatedTarget[0]===targets.show[0];clearTimeout(self.timers.show);clearTimeout(self.timers.hide);if((posOptions.target==="mouse"&&ontoTooltip)||(options.hide.fixed&&((/mouse(out|leave|move)/).test(event.type)&&(ontoTooltip||ontoTarget)))){try{event.preventDefault();event.stopImmediatePropagation()}catch(e){}return}if(options.hide.delay>0){self.timers.hide=setTimeout(function(){self.hide(event)},options.hide.delay)}else{self.hide(event)}}function inactiveMethod(event){if(tooltip.hasClass(disabled)){return FALSE}clearTimeout(self.timers.inactive);self.timers.inactive=setTimeout(function(){self.hide(event)},options.hide.inactive)}function repositionMethod(event){if(tooltip.is(":visible")){self.reposition(event)}}tooltip.bind("mouseenter"+namespace+" mouseleave"+namespace,function(event){var state=event.type==="mouseenter";if(state){self.focus(event)}tooltip.toggleClass(hoverClass,state)});if(options.hide.fixed){targets.hide=targets.hide.add(tooltip);tooltip.bind("mouseover"+namespace,function(){if(!tooltip.hasClass(disabled)){clearTimeout(self.timers.hide)}})}if(/mouse(out|leave)/i.test(options.hide.event)){if(options.hide.leave==="window"){targets.window.bind("mouseout"+namespace+" blur"+namespace,function(event){if(/select|option/.test(event.target)&&!event.relatedTarget){self.hide(event)}})}}else{if(/mouse(over|enter)/i.test(options.show.event)){targets.hide.bind("mouseleave"+namespace,function(event){clearTimeout(self.timers.show)})}}if((""+options.hide.event).indexOf("unfocus")>-1){posOptions.container.closest("html").bind("mousedown"+namespace,function(event){var elem=$(event.target),enabled=!tooltip.hasClass(disabled)&&tooltip.is(":visible"),isAncestor=elem.parents(selector).filter(tooltip[0]).length>0;if(elem[0]!==target[0]&&elem[0]!==tooltip[0]&&!isAncestor&&!target.has(elem[0]).length&&!elem.attr("disabled")){self.hide(event)}})}if("number"===typeof options.hide.inactive){targets.show.bind("qtip-"+id+"-inactive",inactiveMethod);$.each(QTIP.inactiveEvents,function(index,type){targets.hide.add(elements.tooltip).bind(type+namespace+"-inactive",inactiveMethod)})}$.each(events.hide,function(index,type){var showIndex=$.inArray(type,events.show),targetHide=$(targets.hide);if((showIndex>-1&&targetHide.add(targets.show).length===targetHide.length)||type==="unfocus"){targets.show.bind(type+namespace,function(event){if(tooltip.is(":visible")){hideMethod(event)}else{showMethod(event)}});delete events.show[showIndex]}else{targets.hide.bind(type+namespace,hideMethod)}});$.each(events.show,function(index,type){targets.show.bind(type+namespace,showMethod)});if("number"===typeof options.hide.distance){targets.show.add(tooltip).bind("mousemove"+namespace,function(event){var origin=cache.origin||{},limit=options.hide.distance,abs=Math.abs;if(abs(event.pageX-origin.pageX)>=limit||abs(event.pageY-origin.pageY)>=limit){self.hide(event)}})}if(posOptions.target==="mouse"){targets.show.bind("mousemove"+namespace,function(event){MOUSE={pageX:event.pageX,pageY:event.pageY,type:"mousemove"}});if(posOptions.adjust.mouse){if(options.hide.event){tooltip.bind("mouseleave"+namespace,function(event){if((event.relatedTarget||event.target)!==targets.show[0]){self.hide(event)}});elements.target.bind("mouseenter"+namespace+" mouseleave"+namespace,function(event){cache.onTarget=event.type==="mouseenter"})}targets.document.bind("mousemove"+namespace,function(event){if(cache.onTarget&&!tooltip.hasClass(disabled)&&tooltip.is(":visible")){self.reposition(event||MOUSE)}})}}if(posOptions.adjust.resize||targets.viewport.length){($.event.special.resize?targets.viewport:targets.window).bind("resize"+namespace,repositionMethod)}if(targets.viewport.length||(IE6&&tooltip.css("position")==="fixed")){targets.viewport.bind("scroll"+namespace,repositionMethod)}}function unassignEvents(){var targets=[options.show.target[0],options.hide.target[0],self.rendered&&elements.tooltip[0],options.position.container[0],options.position.viewport[0],window,document];if(self.rendered){$([]).pushStack($.grep(targets,function(i){return typeof i==="object"})).unbind(namespace)}else{options.show.target.unbind(namespace+"-create")}}self.checks.builtin={"^id$":function(obj,o,v){var id=v===TRUE?QTIP.nextid:v,tooltipID=uitooltip+"-"+id;if(id!==FALSE&&id.length>0&&!$("#"+tooltipID).length){tooltip[0].id=tooltipID;elements.content[0].id=tooltipID+"-content";elements.title[0].id=tooltipID+"-title"}},"^content.text$":function(obj,o,v){updateContent(v)},"^content.title.text$":function(obj,o,v){if(!v){return removeTitle()}if(!elements.title&&v){createTitle()}updateTitle(v)},"^content.title.button$":function(obj,o,v){updateButton(v)},"^position.(my|at)$":function(obj,o,v){if("string"===typeof v){obj[o]=new PLUGINS.Corner(v)}},"^position.container$":function(obj,o,v){if(self.rendered){tooltip.appendTo(v)}},"^show.ready$":function(){if(!self.rendered){self.render(1)}else{self.toggle(TRUE)}},"^style.classes$":function(obj,o,v){tooltip.attr("class",uitooltip+" qtip ui-helper-reset "+v)},"^style.widget|content.title":setWidget,"^events.(render|show|move|hide|focus|blur)$":function(obj,o,v){tooltip[($.isFunction(v)?"":"un")+"bind"]("tooltip"+o,v)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var posOptions=options.position;tooltip.attr("tracking",posOptions.target==="mouse"&&posOptions.adjust.mouse);unassignEvents();assignEvents()}};$.extend(self,{render:function(show){if(self.rendered){return self}var text=options.content.text,title=options.content.title.text,posOptions=options.position,callback=$.Event("tooltiprender");$.attr(target[0],"aria-describedby",tooltipID);tooltip=elements.tooltip=$("<div/>",{id:tooltipID,"class":uitooltip+" qtip ui-helper-reset "+defaultClass+" "+options.style.classes+" "+uitooltip+"-pos-"+options.position.my.abbrev(),width:options.style.width||"",height:options.style.height||"",tracking:posOptions.target==="mouse"&&posOptions.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":FALSE,"aria-describedby":tooltipID+"-content","aria-hidden":TRUE}).toggleClass(disabled,cache.disabled).data("qtip",self).appendTo(options.position.container).append(elements.content=$("<div />",{"class":uitooltip+"-content",id:tooltipID+"-content","aria-atomic":TRUE}));self.rendered=-1;isDrawing=1;isPositioning=1;if(title){createTitle();if(!$.isFunction(title)){updateTitle(title,FALSE)}}if(!$.isFunction(text)){updateContent(text,FALSE)}self.rendered=TRUE;setWidget();$.each(options.events,function(name,callback){if($.isFunction(callback)){tooltip.bind(name==="toggle"?"tooltipshow tooltiphide":"tooltip"+name,callback)}});$.each(PLUGINS,function(){if(this.initialize==="render"){this(self)}});assignEvents();tooltip.queue("fx",function(next){callback.originalEvent=cache.event;tooltip.trigger(callback,[self]);isDrawing=0;isPositioning=0;self.redraw();if(options.show.ready||show){self.toggle(TRUE,cache.event,FALSE)}next()});return self},get:function(notation){var result,o;switch(notation.toLowerCase()){case"dimensions":result={height:tooltip.outerHeight(),width:tooltip.outerWidth()};break;case"offset":result=PLUGINS.offset(tooltip,options.position.container);break;default:o=convertNotation(notation.toLowerCase());result=o[0][o[1]];result=result.precedance?result.string():result;break}return result},set:function(option,value){var rmove=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,rdraw=/^content\.(title|attr)|style/i,reposition=FALSE,redraw=FALSE,checks=self.checks,name;function callback(notation,args){var category,rule,match;for(category in checks){for(rule in checks[category]){if(match=(new RegExp(rule,"i")).exec(notation)){args.push(match);checks[category][rule].apply(self,args)}}}}if("string"===typeof option){name=option;option={};option[name]=value}else{option=$.extend(TRUE,{},option)}$.each(option,function(notation,value){var obj=convertNotation(notation.toLowerCase()),previous;previous=obj[0][obj[1]];obj[0][obj[1]]="object"===typeof value&&value.nodeType?$(value):value;option[notation]=[obj[0],obj[1],value,previous];reposition=rmove.test(notation)||reposition;redraw=rdraw.test(notation)||redraw});sanitizeOptions(options);isPositioning=isDrawing=1;$.each(option,callback);isPositioning=isDrawing=0;if(tooltip.is(":visible")&&self.rendered){if(reposition){self.reposition(options.position.target==="mouse"?NULL:cache.event)}if(redraw){self.redraw()}}return self},toggle:function(state,event){if(!self.rendered){return state?self.render(1):self}var type=state?"show":"hide",opts=options[type],visible=tooltip.is(":visible"),sameTarget=!event||options[type].target.length<2||cache.target[0]===event.target,posOptions=options.position,contentOptions=options.content,delay,callback;if((typeof state).search("boolean|number")){state=!visible}if(!tooltip.is(":animated")&&visible===state&&sameTarget){return self}if(event){if((/over|enter/).test(event.type)&&(/out|leave/).test(cache.event.type)&&event.target===options.show.target[0]&&tooltip.has(event.relatedTarget).length){return self}cache.event=$.extend({},event)}callback=$.Event("tooltip"+type);callback.originalEvent=event?cache.event:NULL;tooltip.trigger(callback,[self,90]);if(callback.isDefaultPrevented()){return self}$.attr(tooltip[0],"aria-hidden",!!!state);if(state){cache.origin=$.extend({},MOUSE);self.focus(event);if($.isFunction(contentOptions.text)){updateContent(contentOptions.text,FALSE)}if($.isFunction(contentOptions.title.text)){updateTitle(contentOptions.title.text,FALSE)}if(!trackingBound&&posOptions.target==="mouse"&&posOptions.adjust.mouse){$(document).bind("mousemove.qtip",function(event){MOUSE={pageX:event.pageX,pageY:event.pageY,type:"mousemove"}});trackingBound=TRUE}self.reposition(event,arguments[2]);if((callback.solo=!!opts.solo)){$(selector,opts.solo).not(tooltip).qtip("hide",callback)}}else{clearTimeout(self.timers.show);delete cache.origin;if(trackingBound&&!$(selector+'[tracking="true"]:visible',opts.solo).not(tooltip).length){$(document).unbind("mousemove.qtip");trackingBound=FALSE}self.blur(event)}function after(){if(state){if($.browser.msie){tooltip[0].style.removeAttribute("filter")}tooltip.css("overflow","");if("string"===typeof opts.autofocus){$(opts.autofocus,tooltip).focus()}callback=$.Event("tooltipvisible");callback.originalEvent=event?cache.event:NULL;tooltip.trigger(callback,[self]);opts.target.trigger("qtip-"+id+"-inactive")}else{tooltip.css({display:"",visibility:"",opacity:"",left:"",top:""})}}if(sameTarget){tooltip.stop(0,1)}if(opts.effect===FALSE){tooltip[type]();after.call(tooltip)}else{if($.isFunction(opts.effect)){opts.effect.call(tooltip,self);tooltip.queue("fx",function(n){after();n()})}else{tooltip.fadeTo(90,state?1:0,after)}}if(state){opts.target.trigger("qtip-"+id+"-inactive")}return self},show:function(event){return self.toggle(TRUE,event)},hide:function(event){return self.toggle(FALSE,event)},focus:function(event){if(!self.rendered){return self}var qtips=$(selector),curIndex=parseInt(tooltip[0].style.zIndex,10),newIndex=QTIP.zindex+qtips.length,cachedEvent=$.extend({},event),focusedElem,callback;if(!tooltip.hasClass(focusClass)){callback=$.Event("tooltipfocus");callback.originalEvent=cachedEvent;tooltip.trigger(callback,[self,newIndex]);if(!callback.isDefaultPrevented()){if(curIndex!==newIndex){qtips.each(function(){if(this.style.zIndex>curIndex){this.style.zIndex=this.style.zIndex-1}});qtips.filter("."+focusClass).qtip("blur",cachedEvent)}tooltip.addClass(focusClass)[0].style.zIndex=newIndex}}return self},blur:function(event){var cachedEvent=$.extend({},event),callback;tooltip.removeClass(focusClass);callback=$.Event("tooltipblur");callback.originalEvent=cachedEvent;tooltip.trigger(callback,[self]);return self},reposition:function(event,effect){if(!self.rendered||isPositioning){return self}isPositioning=1;var target=options.position.target,posOptions=options.position,my=posOptions.my,at=posOptions.at,adjust=posOptions.adjust,method=adjust.method.split(" "),elemWidth=tooltip.outerWidth(),elemHeight=tooltip.outerHeight(),targetWidth=0,targetHeight=0,callback=$.Event("tooltipmove"),fixed=tooltip.css("position")==="fixed",viewport=posOptions.viewport,position={left:0,top:0},container=posOptions.container,flipoffset=FALSE,tip=self.plugins.tip,readjust={horizontal:method[0],vertical:(method[1]=method[1]||method[0]),enabled:viewport.jquery&&target[0]!==window&&target[0]!==docBody&&adjust.method!=="none",left:function(posLeft){var isShift=readjust.horizontal==="shift",viewportScroll=-container.offset.left+viewport.offset.left+viewport.scrollLeft,myWidth=my.x==="left"?elemWidth:my.x==="right"?-elemWidth:-elemWidth/2,atWidth=at.x==="left"?targetWidth:at.x==="right"?-targetWidth:-targetWidth/2,tipWidth=tip&&tip.size?tip.size.width||0:0,tipAdjust=tip&&tip.corner&&tip.corner.precedance==="x"&&!isShift?tipWidth:0,overflowLeft=viewportScroll-posLeft+tipAdjust,overflowRight=posLeft+elemWidth-viewport.width-viewportScroll+tipAdjust,offset=myWidth-(my.precedance==="x"||my.x===my.y?atWidth:0)-(at.x==="center"?targetWidth/2:0),isCenter=my.x==="center";if(isShift){tipAdjust=tip&&tip.corner&&tip.corner.precedance==="y"?tipWidth:0;offset=(my.x==="left"?1:-1)*myWidth-tipAdjust;position.left+=overflowLeft>0?overflowLeft:overflowRight>0?-overflowRight:0;position.left=Math.max(-container.offset.left+viewport.offset.left+(tipAdjust&&tip.corner.x==="center"?tip.offset:0),posLeft-offset,Math.min(Math.max(-container.offset.left+viewport.offset.left+viewport.width,posLeft+offset),position.left))}else{if(overflowLeft>0&&(my.x!=="left"||overflowRight>0)){position.left-=offset}else{if(overflowRight>0&&(my.x!=="right"||overflowLeft>0)){position.left-=isCenter?-offset:offset}}if(position.left!==posLeft&&isCenter){position.left-=adjust.x}if(position.left<viewportScroll&&-position.left>overflowRight){position.left=posLeft}}return position.left-posLeft},top:function(posTop){var isShift=readjust.vertical==="shift",viewportScroll=-container.offset.top+viewport.offset.top+viewport.scrollTop,myHeight=my.y==="top"?elemHeight:my.y==="bottom"?-elemHeight:-elemHeight/2,atHeight=at.y==="top"?targetHeight:at.y==="bottom"?-targetHeight:-targetHeight/2,tipHeight=tip&&tip.size?tip.size.height||0:0,tipAdjust=tip&&tip.corner&&tip.corner.precedance==="y"&&!isShift?tipHeight:0,overflowTop=viewportScroll-posTop+tipAdjust,overflowBottom=posTop+elemHeight-viewport.height-viewportScroll+tipAdjust,offset=myHeight-(my.precedance==="y"||my.x===my.y?atHeight:0)-(at.y==="center"?targetHeight/2:0),isCenter=my.y==="center";if(isShift){tipAdjust=tip&&tip.corner&&tip.corner.precedance==="x"?tipHeight:0;offset=(my.y==="top"?1:-1)*myHeight-tipAdjust;position.top+=overflowTop>0?overflowTop:overflowBottom>0?-overflowBottom:0;position.top=Math.max(-container.offset.top+viewport.offset.top+(tipAdjust&&tip.corner.x==="center"?tip.offset:0),posTop-offset,Math.min(Math.max(-container.offset.top+viewport.offset.top+viewport.height,posTop+offset),position.top))}else{if(overflowTop>0&&(my.y!=="top"||overflowBottom>0)){position.top-=offset}else{if(overflowBottom>0&&(my.y!=="bottom"||overflowTop>0)){position.top-=isCenter?-offset:offset}}if(position.top!==posTop&&isCenter){position.top-=adjust.y}if(position.top<0&&-position.top>overflowBottom){position.top=posTop}}return position.top-posTop}},win;if($.isArray(target)&&target.length===2){at={x:"left",y:"top"};position={left:target[0],top:target[1]}}else{if(target==="mouse"&&((event&&event.pageX)||cache.event.pageX)){at={x:"left",y:"top"};event=(event&&(event.type==="resize"||event.type==="scroll")?cache.event:event&&event.pageX&&event.type==="mousemove"?event:MOUSE&&MOUSE.pageX&&(adjust.mouse||!event||!event.pageX)?{pageX:MOUSE.pageX,pageY:MOUSE.pageY}:!adjust.mouse&&cache.origin&&cache.origin.pageX&&options.show.distance?cache.origin:event)||event||cache.event||MOUSE||{};position={top:event.pageY,left:event.pageX}}else{if(target==="event"){if(event&&event.target&&event.type!=="scroll"&&event.type!=="resize"){target=cache.target=$(event.target)}else{target=cache.target}}else{target=cache.target=$(target.jquery?target:elements.target)}target=$(target).eq(0);if(target.length===0){return self}else{if(target[0]===document||target[0]===window){targetWidth=PLUGINS.iOS?window.innerWidth:target.width();targetHeight=PLUGINS.iOS?window.innerHeight:target.height();if(target[0]===window){position={top:(viewport||target).scrollTop(),left:(viewport||target).scrollLeft()}}}else{if(target.is("area")&&PLUGINS.imagemap){position=PLUGINS.imagemap(target,at,readjust.enabled?method:FALSE)}else{if(target[0].namespaceURI==="http://www.w3.org/2000/svg"&&PLUGINS.svg){position=PLUGINS.svg(target,at)}else{targetWidth=target.outerWidth();targetHeight=target.outerHeight();position=PLUGINS.offset(target,container)}}}}if(position.offset){targetWidth=position.width;targetHeight=position.height;flipoffset=position.flipoffset;position=position.offset}if((PLUGINS.iOS<4.1&&PLUGINS.iOS>3.1)||PLUGINS.iOS==4.3||(!PLUGINS.iOS&&fixed)){win=$(window);position.left-=win.scrollLeft();position.top-=win.scrollTop()}position.left+=at.x==="right"?targetWidth:at.x==="center"?targetWidth/2:0;position.top+=at.y==="bottom"?targetHeight:at.y==="center"?targetHeight/2:0}}position.left+=adjust.x+(my.x==="right"?-elemWidth:my.x==="center"?-elemWidth/2:0);position.top+=adjust.y+(my.y==="bottom"?-elemHeight:my.y==="center"?-elemHeight/2:0);if(readjust.enabled){viewport={elem:viewport,height:viewport[(viewport[0]===window?"h":"outerH")+"eight"](),width:viewport[(viewport[0]===window?"w":"outerW")+"idth"](),scrollLeft:fixed?0:viewport.scrollLeft(),scrollTop:fixed?0:viewport.scrollTop(),offset:viewport.offset()||{left:0,top:0}};container={elem:container,scrollLeft:container.scrollLeft(),scrollTop:container.scrollTop(),offset:container.offset()||{left:0,top:0}};position.adjusted={left:readjust.horizontal!=="none"?readjust.left(position.left):0,top:readjust.vertical!=="none"?readjust.top(position.top):0};if(position.adjusted.left+position.adjusted.top){tooltip.attr("class",tooltip[0].className.replace(/ui-tooltip-pos-\w+/i,uitooltip+"-pos-"+my.abbrev()))}if(flipoffset&&position.adjusted.left){position.left+=flipoffset.left}if(flipoffset&&position.adjusted.top){position.top+=flipoffset.top}}else{position.adjusted={left:0,top:0}}callback.originalEvent=$.extend({},event);tooltip.trigger(callback,[self,position,viewport.elem||viewport]);if(callback.isDefaultPrevented()){return self}delete position.adjusted;if(effect===FALSE||isNaN(position.left)||isNaN(position.top)||target==="mouse"||!$.isFunction(posOptions.effect)){tooltip.css(position)}else{if($.isFunction(posOptions.effect)){posOptions.effect.call(tooltip,self,$.extend({},position));tooltip.queue(function(next){$(this).css({opacity:"",height:""});if($.browser.msie){this.style.removeAttribute("filter")}next()})}}isPositioning=0;return self},redraw:function(){if(self.rendered<1||isDrawing){return self}var container=options.position.container,perc,width,max,min;isDrawing=1;if(options.style.height){tooltip.css("height",options.style.height)}if(options.style.width){tooltip.css("width",options.style.width)}else{tooltip.css("width","").addClass(fluidClass);width=tooltip.width()+1;max=tooltip.css("max-width")||"";min=tooltip.css("min-width")||"";perc=(max+min).indexOf("%")>-1?container.width()/100:0;max=((max.indexOf("%")>-1?perc:1)*parseInt(max,10))||width;min=((min.indexOf("%")>-1?perc:1)*parseInt(min,10))||0;width=max+min?Math.min(Math.max(width,min),max):width;tooltip.css("width",Math.round(width)).removeClass(fluidClass)}isDrawing=0;return self},disable:function(state){if("boolean"!==typeof state){state=!(tooltip.hasClass(disabled)||cache.disabled)}if(self.rendered){tooltip.toggleClass(disabled,state);$.attr(tooltip[0],"aria-disabled",state)}else{cache.disabled=!!state}return self},enable:function(){return self.disable(FALSE)},destroy:function(){var t=target[0],title=$.attr(t,oldtitle),elemAPI=target.data("qtip");if(self.rendered){tooltip.stop(1,0).remove();$.each(self.plugins,function(){if(this.destroy){this.destroy()}})}clearTimeout(self.timers.show);clearTimeout(self.timers.hide);unassignEvents();if(!elemAPI||self===elemAPI){$.removeData(t,"qtip");if(options.suppress&&title){$.attr(t,"title",title);target.removeAttr(oldtitle)}target.removeAttr("aria-describedby")}target.unbind(".qtip-"+id);delete usedIDs[self.id];return target}})}function init(id,opts){var obj,posOptions,attr,config,title,elem=$(this),docBody=$(document.body),newTarget=this===document?docBody:elem,metadata=(elem.metadata)?elem.metadata(opts.metadata):NULL,metadata5=opts.metadata.type==="html5"&&metadata?metadata[opts.metadata.name]:NULL,html5=elem.data(opts.metadata.name||"qtipopts");try{html5=typeof html5==="string"?(new Function("return "+html5))():html5}catch(e){log("Unable to parse HTML5 attribute data: "+html5)}config=$.extend(TRUE,{},QTIP.defaults,opts,typeof html5==="object"?sanitizeOptions(html5):NULL,sanitizeOptions(metadata5||metadata));posOptions=config.position;config.id=id;if("boolean"===typeof config.content.text){attr=elem.attr(config.content.attr);if(config.content.attr!==FALSE&&attr){config.content.text=attr}else{log("Unable to locate content for tooltip! Aborting render of tooltip on element: ",elem);return FALSE}}if(!posOptions.container.length){posOptions.container=docBody}if(posOptions.target===FALSE){posOptions.target=newTarget}if(config.show.target===FALSE){config.show.target=newTarget}if(config.show.solo===TRUE){config.show.solo=posOptions.container.closest("body")}if(config.hide.target===FALSE){config.hide.target=newTarget}if(config.position.viewport===TRUE){config.position.viewport=posOptions.container}posOptions.at=new PLUGINS.Corner(posOptions.at);posOptions.my=new PLUGINS.Corner(posOptions.my);if($.data(this,"qtip")){if(config.overwrite){elem.qtip("destroy")}else{if(config.overwrite===FALSE){return FALSE}}}if(config.suppress&&(title=$.attr(this,"title"))){$(this).removeAttr("title").attr(oldtitle,title)}obj=new QTip(elem,config,id,!!attr);$.data(this,"qtip",obj);elem.bind("remove.qtip-"+id+" removeqtip.qtip-"+id,function(){obj.destroy()});return obj}QTIP=$.fn.qtip=function(options,notation,newValue){var command=(""+options).toLowerCase(),returned=NULL,args=$.makeArray(arguments).slice(1),event=args[args.length-1],opts=this[0]?$.data(this[0],"qtip"):NULL;if((!arguments.length&&opts)||command==="api"){return opts}else{if("string"===typeof options){this.each(function(){var api=$.data(this,"qtip");if(!api){return TRUE}if(event&&event.timeStamp){api.cache.event=event}if((command==="option"||command==="options")&&notation){if($.isPlainObject(notation)||newValue!==undefined){api.set(notation,newValue)}else{returned=api.get(notation);return FALSE}}else{if(api[command]){api[command].apply(api[command],args)}}});return returned!==NULL?returned:this}else{if("object"===typeof options||!arguments.length){opts=sanitizeOptions($.extend(TRUE,{},options));return QTIP.bind.call(this,opts,event)}}}};QTIP.bind=function(opts,event){return this.each(function(i){var options,targets,events,namespace,api,id;id=$.isArray(opts.id)?opts.id[i]:opts.id;id=!id||id===FALSE||id.length<1||usedIDs[id]?QTIP.nextid++:(usedIDs[id]=id);namespace=".qtip-"+id+"-create";api=init.call(this,id,opts);if(api===FALSE){return TRUE}options=api.options;$.each(PLUGINS,function(){if(this.initialize==="initialize"){this(api)}});targets={show:options.show.target,hide:options.hide.target};events={show:$.trim(""+options.show.event).replace(/ /g,namespace+" ")+namespace,hide:$.trim(""+options.hide.event).replace(/ /g,namespace+" ")+namespace};if(/mouse(over|enter)/i.test(events.show)&&!/mouse(out|leave)/i.test(events.hide)){events.hide+=" mouseleave"+namespace}targets.show.bind("mousemove"+namespace,function(event){MOUSE={pageX:event.pageX,pageY:event.pageY,type:"mousemove"};api.cache.onTarget=TRUE});function hoverIntent(event){function render(){api.render(typeof event==="object"||options.show.ready);targets.show.add(targets.hide).unbind(namespace)}if(api.cache.disabled){return FALSE}api.cache.event=$.extend({},event);api.cache.target=event?$(event.target):[undefined];if(options.show.delay>0){clearTimeout(api.timers.show);api.timers.show=setTimeout(render,options.show.delay);if(events.show!==events.hide){targets.hide.bind(events.hide,function(){clearTimeout(api.timers.show)})}}else{render()}}targets.show.bind(events.show,hoverIntent);if(options.show.ready||options.prerender){hoverIntent(event)}})};PLUGINS=QTIP.plugins={Corner:function(corner){corner=(""+corner).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();this.x=(corner.match(/left|right/i)||corner.match(/center/)||["inherit"])[0].toLowerCase();this.y=(corner.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();var f=corner.charAt(0);this.precedance=(f==="t"||f==="b"?"y":"x");this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbrev=function(){var x=this.x.substr(0,1),y=this.y.substr(0,1);return x===y?x:(x==="c"||(x!=="c"&&y!=="c"))?y+x:x+y};this.clone=function(){return{x:this.x,y:this.y,precedance:this.precedance,string:this.string,abbrev:this.abbrev,clone:this.clone}}},offset:function(elem,container){var pos=elem.offset(),docBody=elem.closest("body")[0],parent=container,scrolled,coffset,overflow;function scroll(e,i){pos.left+=i*e.scrollLeft();pos.top+=i*e.scrollTop()}if(parent){do{if(parent.css("position")!=="static"){coffset=parent.position();pos.left-=coffset.left+(parseInt(parent.css("borderLeftWidth"),10)||0)+(parseInt(parent.css("marginLeft"),10)||0);pos.top-=coffset.top+(parseInt(parent.css("borderTopWidth"),10)||0)+(parseInt(parent.css("marginTop"),10)||0);if(!scrolled&&(overflow=parent.css("overflow"))!=="hidden"&&overflow!=="visible"){scrolled=parent}}}while((parent=$(parent[0].offsetParent)).length);if(scrolled&&scrolled[0]!==docBody){scroll(scrolled,1)}}return pos},iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,3})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_","."))||FALSE,fn:{attr:function(attr,val){if(this.length){var self=this[0],title="title",api=$.data(self,"qtip");if(attr===title&&api&&"object"===typeof api&&api.options.suppress){if(arguments.length<2){return $.attr(self,oldtitle)}else{if(api&&api.options.content.attr===title&&api.cache.attr){api.set("content.text",val)}return this.attr(oldtitle,val)}}}return $.fn["attr"+replaceSuffix].apply(this,arguments)},clone:function(keepData){var titles=$([]),title="title",elems=$.fn["clone"+replaceSuffix].apply(this,arguments);if(!keepData){elems.filter("["+oldtitle+"]").attr("title",function(){return $.attr(this,oldtitle)}).removeAttr(oldtitle)}return elems}}};$.each(PLUGINS.fn,function(name,func){if(!func||$.fn[name+replaceSuffix]){return TRUE}var old=$.fn[name+replaceSuffix]=$.fn[name];$.fn[name]=function(){return func.apply(this,arguments)||old.apply(this,arguments)}});if(!$.ui){$["cleanData"+replaceSuffix]=$.cleanData;$.cleanData=function(elems){for(var i=0,elem;(elem=elems[i])!==undefined;i++){try{$(elem).triggerHandler("removeqtip")}catch(e){}}$["cleanData"+replaceSuffix](elems)}}QTIP.version="nightly";QTIP.nextid=0;QTIP.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");QTIP.zindex=15000;QTIP.defaults={prerender:FALSE,id:FALSE,overwrite:TRUE,suppress:TRUE,content:{text:TRUE,attr:"title",title:{text:FALSE,button:FALSE}},position:{my:"top left",at:"bottom right",target:FALSE,container:FALSE,viewport:FALSE,adjust:{x:0,y:0,mouse:TRUE,resize:TRUE,method:"flip flip"},effect:function(api,pos,viewport){$(this).animate(pos,{duration:200,queue:FALSE})}},show:{target:FALSE,event:"mouseenter",effect:TRUE,delay:90,solo:FALSE,ready:FALSE,autofocus:FALSE},hide:{target:FALSE,event:"mouseleave",effect:TRUE,delay:0,fixed:FALSE,inactive:FALSE,leave:"window",distance:FALSE},style:{classes:"",widget:FALSE,width:FALSE,height:FALSE,def:TRUE},events:{render:NULL,move:NULL,show:NULL,hide:NULL,toggle:NULL,visible:NULL,focus:NULL,blur:NULL}};function BGIFrame(api){var self=this,elems=api.elements,tooltip=elems.tooltip,namespace=".bgiframe-"+api.id;$.extend(self,{init:function(){elems.bgiframe=$('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>');elems.bgiframe.appendTo(tooltip);tooltip.bind("tooltipmove"+namespace,self.adjust)},adjust:function(){var dimensions=api.get("dimensions"),plugin=api.plugins.tip,tip=elems.tip,tipAdjust,offset;offset=parseInt(tooltip.css("border-left-width"),10)||0;offset={left:-offset,top:-offset};if(plugin&&tip){tipAdjust=(plugin.corner.precedance==="x")?["width","left"]:["height","top"];offset[tipAdjust[1]]-=tip[tipAdjust[0]]()}elems.bgiframe.css(offset).css(dimensions)},destroy:function(){elems.bgiframe.remove();tooltip.unbind(namespace)}});self.init()}PLUGINS.bgiframe=function(api){var browser=$.browser,self=api.plugins.bgiframe;if($("select, object").length<1||!(browser.msie&&(""+browser.version).charAt(0)==="6")){return FALSE}return"object"===typeof self?self:(api.plugins.bgiframe=new BGIFrame(api))};PLUGINS.bgiframe.initialize="render"}));
/*!
 * jQuery Tools v1.2.7 (with **CUSTOM** code) - The missing UI library for the Web
 *
 * dateinput/dateinput.js
 *
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 *
 * http://flowplayer.org/tools/
 *
 */
(function($,undefined){$.tools=$.tools||{version:"@VERSION"};var instances=[],formatters={},tool,KEYS=[75,76,38,39,74,72,40,37],LABELS={};tool=$.tools.dateinput={conf:{format:"mm/dd/yy",formatter:"default",selectors:false,yearRange:[-5,5],lang:"en",offset:[0,0],speed:0,firstDay:0,min:undefined,max:undefined,trigger:0,toggle:0,editable:0,css:{prefix:"cal",input:"date",root:0,head:0,title:0,prev:0,next:0,month:0,year:0,days:0,body:0,weeks:0,today:0,current:0,week:0,off:0,sunday:0,focus:0,disabled:0,trigger:0}},addFormatter:function(name,fn){formatters[name]=fn},localize:function(language,labels){$.each(labels,function(key,val){labels[key]=val.split(",")});LABELS[language]=labels}};tool.localize("en",{months:"January,February,March,April,May,June,July,August,September,October,November,December",shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec",days:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",shortDays:"Sun,Mon,Tue,Wed,Thu,Fri,Sat"});function dayAm(year,month){return new Date(year,month+1,0).getDate()}function zeropad(val,len){val=""+val;len=len||2;while(val.length<len){val="0"+val}return val}var tmpTag=$("<a/>");function format(formatter,date,text,lang){var d=date.getDate(),D=date.getDay(),m=date.getMonth(),y=date.getFullYear(),flags={d:d,dd:zeropad(d),ddd:LABELS[lang].shortDays[D],dddd:LABELS[lang].days[D],m:m+1,mm:zeropad(m+1),mmm:LABELS[lang].shortMonths[m],mmmm:LABELS[lang].months[m],yy:String(y).slice(2),yyyy:y};var ret=formatters[formatter](text,date,flags,lang);return tmpTag.html(ret).html()}tool.addFormatter("default",function(text,date,flags,lang){return text.replace(/d{1,4}|m{1,4}|yy(?:yy)?|"[^"]*"|'[^']*'/g,function($0){return $0 in flags?flags[$0]:$0})});tool.addFormatter("prefixed",function(text,date,flags,lang){return text.replace(/%(d{1,4}|m{1,4}|yy(?:yy)?|"[^"]*"|'[^']*')/g,function($0,$1){return $1 in flags?flags[$1]:$0})});function integer(val){return parseInt(val,10)}function isSameDay(d1,d2){return d1.getFullYear()===d2.getFullYear()&&d1.getMonth()==d2.getMonth()&&d1.getDate()==d2.getDate()}function parseDate(val){if(val===undefined){return}if(val.constructor==Date){return val}if(typeof val=="string"){var els=val.split("-");if(els.length==3){return new Date(integer(els[0]),integer(els[1])-1,integer(els[2]))}if(!(/^-?\d+$/).test(val)){return}val=integer(val)}var date=new Date;date.setDate(date.getDate()+val);return date}function Dateinput(input,conf){var self=this,now=new Date,yearNow=now.getFullYear(),css=conf.css,labels=LABELS[conf.lang],root=$("#"+css.root),title=root.find("#"+css.title),trigger,pm,nm,currYear,currMonth,currDay,value=input.attr("data-value")||conf.value||input.val(),min=input.attr("min")||conf.min,max=input.attr("max")||conf.max,opened,original;if(min===0){min="0"}value=parseDate(value)||now;min=parseDate(min||new Date(yearNow+conf.yearRange[0],1,1));max=parseDate(max||new Date(yearNow+conf.yearRange[1]+1,1,-1));if(!labels){throw"Dateinput: invalid language: "+conf.lang}if(input.attr("type")=="date"){var original=input.clone(),def=original.wrap("<div/>").parent().html(),clone=$(def.replace(/type/i,"type=text data-orig-type"));if(conf.value){clone.val(conf.value)}input.replaceWith(clone);input=clone}input.addClass(css.input);var fire=input.add(self);if(!root.length){root=$("<div><div><a/><div/><a/></div><div><div/><div/></div></div>").hide().css({position:"absolute"}).attr("id",css.root);root.children().eq(0).attr("id",css.head).end().eq(1).attr("id",css.body).children().eq(0).attr("id",css.days).end().eq(1).attr("id",css.weeks).end().end().end().find("a").eq(0).attr("id",css.prev).end().eq(1).attr("id",css.next);title=root.find("#"+css.head).find("div").attr("id",css.title);if(conf.selectors){var monthSelector=$("<select/>").attr("id",css.month),yearSelector=$("<select/>").attr("id",css.year);title.html(monthSelector.add(yearSelector))}var days=root.find("#"+css.days);for(var d=0;d<7;d++){days.append($("<span/>").text(labels.shortDays[(d+conf.firstDay)%7]))}$("body").append(root)}if(conf.trigger){trigger=$("<a/>").attr("href","#").addClass(css.trigger).click(function(e){conf.toggle?self.toggle():self.show();return e.preventDefault()}).insertAfter(input)}var weeks=root.find("#"+css.weeks);yearSelector=root.find("#"+css.year);monthSelector=root.find("#"+css.month);function select(date,conf,e){value=date;currYear=date.getFullYear();currMonth=date.getMonth();currDay=date.getDate();e||(e=$.Event("api"));if(e.type=="click"&&!$.browser.msie){input.focus()}e.type="beforeChange";fire.trigger(e,[date]);if(e.isDefaultPrevented()){return}input.val(format(conf.formatter,date,conf.format,conf.lang));fire.change();input.data("date",date);self.hide(e)}function onShow(ev){ev.type="onShow";fire.trigger(ev);$(document).on("keydown.d",function(e){if(e.ctrlKey){return true}var key=e.keyCode;if(key==8||key==46){input.val("");return self.hide(e)}if(key==27||key==9){return self.hide(e)}if($(KEYS).index(key)>=0){if(!opened){self.show(e);return e.preventDefault()}var days=$("#"+css.weeks+" a"),el=$("."+css.focus),index=days.index(el);el.removeClass(css.focus);if(key==74||key==40){index+=7}else{if(key==75||key==38){index-=7}else{if(key==76||key==39){index+=1}else{if(key==72||key==37){index-=1}}}}if(index>41){self.addMonth();el=$("#"+css.weeks+" a:eq("+(index-42)+")")}else{if(index<0){self.addMonth(-1);el=$("#"+css.weeks+" a:eq("+(index+42)+")")}else{el=days.eq(index)}}el.addClass(css.focus);return e.preventDefault()}if(key==34){return self.addMonth()}if(key==33){return self.addMonth(-1)}if(key==36){return self.today()}if(key==13){if(!$(e.target).is("select")){$("."+css.focus).click()}}return $([16,17,18,9]).index(key)>=0});$(document).on("click.d",function(e){var el=e.target;if(!$(el).parents("#"+css.root).length&&el!=input[0]&&(!trigger||el!=trigger[0])){self.hide(e)}})}$.extend(self,{show:function(e){if(input.attr("readonly")||input.attr("disabled")||opened){return}e=e||$.Event();e.type="onBeforeShow";fire.trigger(e);if(e.isDefaultPrevented()){return}$.each(instances,function(){this.hide()});opened=true;monthSelector.off("change").change(function(){self.setValue(integer(yearSelector.val()),integer($(this).val()))});yearSelector.off("change").change(function(){self.setValue(integer($(this).val()),integer(monthSelector.val()))});pm=root.find("#"+css.prev).off("click").click(function(e){if(!pm.hasClass(css.disabled)){self.addMonth(-1)}return false});nm=root.find("#"+css.next).off("click").click(function(e){if(!nm.hasClass(css.disabled)){self.addMonth()}return false});self.setValue(value);var pos=input.offset();if(/iPad/i.test(navigator.userAgent)){pos.top-=$(window).scrollTop()}root.css({top:pos.top+input.outerHeight(true)+conf.offset[0],left:pos.left+conf.offset[1]});if(conf.speed){root.show(conf.speed,function(){onShow(e)})}else{root.show();onShow(e)}return self},setValue:function(year,month,day){var date=integer(month)>=-1?new Date(integer(year),integer(month),integer(day==undefined||isNaN(day)?1:day)):year||value;if(date<min){date=min}else{if(date>max){date=max}}if(typeof year=="string"){date=parseDate(year)}year=date.getFullYear();month=date.getMonth();day=date.getDate();if(month==-1){month=11;year--}else{if(month==12){month=0;year++}}if(!opened){select(date,conf);return self}currMonth=month;currYear=year;currDay=day;var tmp=new Date(year,month,1-conf.firstDay),begin=tmp.getDay(),days=dayAm(year,month),prevDays=dayAm(year,month-1),week;if(conf.selectors){monthSelector.empty();$.each(labels.months,function(i,m){if(min<new Date(year,i+1,1)&&max>new Date(year,i,0)){monthSelector.append($("<option/>").html(m).attr("value",i))}});yearSelector.empty();var yearNow=now.getFullYear();for(var i=yearNow+conf.yearRange[0];i<yearNow+conf.yearRange[1];i++){if(min<new Date(i+1,0,1)&&max>new Date(i,0,0)){yearSelector.append($("<option/>").text(i))}}monthSelector.val(month);yearSelector.val(year)}else{title.html(labels.months[month]+" "+year)}weeks.empty();pm.add(nm).removeClass(css.disabled);for(var j=!begin?-7:0,a,num;j<(!begin?35:42);j++){a=$("<a/>");if(j%7===0){week=$("<div/>").addClass(css.week);weeks.append(week)}if(j<begin){a.addClass(css.off);num=prevDays-begin+j+1;date=new Date(year,month-1,num)}else{if(j>=begin+days){a.addClass(css.off);num=j-days-begin+1;date=new Date(year,month+1,num)}else{num=j-begin+1;date=new Date(year,month,num);if(isSameDay(value,date)){a.attr("id",css.current).addClass(css.focus)}else{if(isSameDay(now,date)){a.attr("id",css.today)}}}}if(min&&date<min){a.add(pm).addClass(css.disabled)}if(max&&date>max){a.add(nm).addClass(css.disabled)}a.attr("href","#"+num).text(num).data("date",date);week.append(a)}weeks.find("a").click(function(e){var el=$(this);if(!el.hasClass(css.disabled)){$("#"+css.current).removeAttr("id");el.attr("id",css.current);select(el.data("date"),conf,e)}return false});if(css.sunday){weeks.find("."+css.week).each(function(){var beg=conf.firstDay?7-conf.firstDay:0;$(this).children().slice(beg,beg+1).addClass(css.sunday)})}return self},setMin:function(val,fit){min=parseDate(val);if(fit&&value<min){self.setValue(min)}return self},setMax:function(val,fit){max=parseDate(val);if(fit&&value>max){self.setValue(max)}return self},today:function(){return self.setValue(now)},addDay:function(amount){return this.setValue(currYear,currMonth,currDay+(amount||1))},addMonth:function(amount){var targetMonth=currMonth+(amount||1),daysInTargetMonth=dayAm(currYear,targetMonth),targetDay=currDay<=daysInTargetMonth?currDay:daysInTargetMonth;return this.setValue(currYear,targetMonth,targetDay)},addYear:function(amount){return this.setValue(currYear+(amount||1),currMonth,currDay)},destroy:function(){input.add(document).off("click.d keydown.d");root.add(trigger).remove();input.removeData("dateinput").removeClass(css.input);if(original){input.replaceWith(original)}},hide:function(e){if(opened){e=$.Event();e.type="onHide";fire.trigger(e);if(e.isDefaultPrevented()){return}$(document).off("click.d keydown.d");root.hide();opened=false}return self},toggle:function(){return self.isOpen()?self.hide():self.show()},getConf:function(){return conf},getInput:function(){return input},getCalendar:function(){return root},getValue:function(dateFormat){return dateFormat?format(conf.formatter,value,dateFormat,conf.lang):value},isOpen:function(){return opened}});$.each(["onBeforeShow","onShow","change","onHide"],function(i,name){if($.isFunction(conf[name])){$(self).on(name,conf[name])}self[name]=function(fn){if(fn){$(self).on(name,fn)}return self}});if(!conf.editable){input.on("focus.d click.d",self.show).keydown(function(e){var key=e.keyCode;if(!opened&&$(KEYS).index(key)>=0){self.show(e);return e.preventDefault()}else{if(key==8||key==46){input.val("");fire.change()}}return e.shiftKey||e.ctrlKey||e.altKey||key==9?true:e.preventDefault()})}if(parseDate(input.val())){select(value,conf)}}$.expr[":"].date=function(el){var type=el.getAttribute("type");return type&&type=="date"||!!$(el).data("dateinput")};$.fn.dateinput=function(conf){if(this.data("dateinput")){return this}conf=$.extend(true,{},tool.conf,conf);$.each(conf.css,function(key,val){if(!val&&key!="prefix"){conf.css[key]=(conf.css.prefix||"")+(val||key)}});var els;this.each(function(){var el=new Dateinput($(this),conf);instances.push(el);var input=el.getInput().data("dateinput",el);els=els?els.add(input):input});return els?els:this}})(jQuery);jQuery.fn.blink=function(o){var d={speed:200,blinks:3,callback:null};var o=jQuery.extend(d,o);return this.each(function(){var calls=0;for(i=1;i<=o.blinks;i++){$(this).animate({opacity:0},o.speed).animate({opacity:1},o.speed,function(){calls++;if(calls==o.blinks&&jQuery.isFunction(o.callback)){o.callback()}})}})};
/*!
 * Readmore.js jQuery plugin
 * Author: @jed_foster
 * Project home: jedfoster.github.io/Readmore.js
 * Licensed under the MIT license
 */
//;(function($){var readmore="readmore",defaults={speed:100,maxHeight:200,heightMargin:16,moreLink:'<a href="#">Read More</a>',lessLink:'<a href="#">Close</a>',embedCSS:true,sectionCSS:"display: block; width: 100%;",startOpen:false,expandedClass:"readmore-js-expanded",collapsedClass:"readmore-js-collapsed",beforeToggle:function(){},afterToggle:function(){}},cssEmbedded=false;function Readmore(element,options){this.element=element;this.options=$.extend({},defaults,options);$(this.element).data("max-height",this.options.maxHeight);$(this.element).data("height-margin",this.options.heightMargin);delete (this.options.maxHeight);if(this.options.embedCSS&&!cssEmbedded){var styles=".readmore-js-toggle, .readmore-js-section { "+this.options.sectionCSS+" } .readmore-js-section { overflow: hidden; }";(function(d,u){var css=d.createElement("style");css.type="text/css";if(css.styleSheet){css.styleSheet.cssText=u}else{css.appendChild(d.createTextNode(u))}d.getElementsByTagName("head")[0].appendChild(css)}(document,styles));cssEmbedded=true}this._defaults=defaults;this._name=readmore;this.init()}Readmore.prototype={init:function(){var $this=this;$(this.element).each(function(){var current=$(this),maxHeight=parseInt((current.css("max-height").replace(/[^-\d\.]/g,"")>current.data("height-margin"))?current.css("max-height").replace(/[^-\d\.]/g,""):current.data("max-height")),heightMargin=parseInt(current.data("height-margin"));if(current.css("max-height")!="none"){current.css("max-height","none")}$this.setBoxHeight(current);if(current.outerHeight(true)<=maxHeight+heightMargin){return true}else{current.addClass("readmore-js-section "+$this.options.collapsedClass).data("collapsedHeight",maxHeight);var useLink=$this.options.startOpen?$this.options.lessLink:$this.options.moreLink;current.after($(useLink).on("click",function(event){$this.toggleSlider(this,current,event)}).addClass("readmore-js-toggle"));if(!$this.options.startOpen){current.css({height:maxHeight})}}});$(window).on("resize",function(event){$this.resizeBoxes()})},toggleSlider:function(trigger,element,event){event.preventDefault();var $this=this,newHeight=newLink=sectionClass="",expanded=false,collapsedHeight=$(element).data("collapsedHeight");if($(element).height()<=collapsedHeight){newHeight=$(element).data("expandedHeight")+"px";newLink="lessLink";expanded=true;sectionClass=$this.options.expandedClass}else{newHeight=collapsedHeight;newLink="moreLink";sectionClass=$this.options.collapsedClass}$this.options.beforeToggle(trigger,element,expanded);$(element).animate({height:newHeight},{duration:$this.options.speed,complete:function(){$this.options.afterToggle(trigger,element,expanded);$(trigger).replaceWith($($this.options[newLink]).on("click",function(event){$this.toggleSlider(this,element,event)}).addClass("readmore-js-toggle"));$(this).removeClass($this.options.collapsedClass+" "+$this.options.expandedClass).addClass(sectionClass)}})},setBoxHeight:function(element){var el=element.clone().css({height:"auto",width:element.width(),overflow:"hidden"}).insertAfter(element),height=el.outerHeight(true);el.remove();element.data("expandedHeight",height)},resizeBoxes:function(){var $this=this;$(".readmore-js-section").each(function(){var current=$(this);$this.setBoxHeight(current);if(current.height()>current.data("expandedHeight")||(current.hasClass($this.options.expandedClass)&&current.height()<current.data("expandedHeight"))){current.css("height",current.data("expandedHeight"))}})},destroy:function(){var $this=this;$(this.element).each(function(){var current=$(this);current.removeClass("readmore-js-section "+$this.options.collapsedClass+" "+$this.options.expandedClass).css({"max-height":"",height:"auto"}).next(".readmore-js-toggle").remove();current.removeData()})}};$.fn[readmore]=function(options){var args=arguments;if(options===undefined||typeof options==="object"){return this.each(function(){if($.data(this,"plugin_"+readmore)){var instance=$.data(this,"plugin_"+readmore);instance.destroy.apply(instance)}$.data(this,"plugin_"+readmore,new Readmore(this,options))})}else{if(typeof options==="string"&&options[0]!=="_"&&options!=="init"){return this.each(function(){var instance=$.data(this,"plugin_"+readmore);if(instance instanceof Readmore&&typeof instance[options]==="function"){instance[options].apply(instance,Array.prototype.slice.call(args,1))}})}}}})(jQuery);(function(){var inc,max,min,traceFeatureWidths,winWidth;min=100;max=1000;inc=20;winWidth=null;traceFeatureWidths=function(){return $(".zoogle-content, .feature").add("section#cart.cart").each(function(){var $f,prefix,val,vals,w,_i;$f=$(this);w=$f.width();vals=[];for(val=_i=min;inc>0?_i<=max:_i>=max;val=_i+=inc){vals.push((val<w?">":"<")+val)}prefix=$f.hasClass("zoogle-content")?"content":"feature";return $f.attr(""+prefix+"-width",vals.join(" "))})};$.onload.add(function(){winWidth=$(window).width();return traceFeatureWidths()});$(window).on("resize",function(event,parameter){var tempWinWidth;tempWinWidth=$(window).width();if((parameter==="featherlight")||(tempWinWidth!==winWidth)){traceFeatureWidths()}return winWidth=tempWinWidth})}).call(this);(function(){$.onload.add(function(){$(".soft-truncate").readmore({embedCSS:false,lessLink:'<span class="soft-gray-dashed"><a href="#">Close</a></span>',moreLink:'<span class="soft-gray-dashed"><a href="#">Read More&hellip;</a></span>',maxHeight:100});$(".tip").qtip({position:{viewport:$(window)}});if(typeof window.zoogle==="undefined"){window.zoogle={}}window.zoogle.dateInputInit=function(){$("input.date_picker").dateinput({format:"mm/dd/yyyy",yearRange:[-100,5]});return $(".input.select_date_picker").each(function(){var $d,$field,$m,$y,api;$field=$("input",this).dateinput({trigger:true,format:"mm/dd/yyyy",yearRange:[-100,5]});api=$field.data("dateinput");$y=$('[name="[(1i)]"]',this);$m=$('[name="[(2i)]"]',this);$d=$('[name="[(3i)]"]',this);$("select",this).change(function(){var vals;vals=[parseInt($d.val(),10),parseInt($m.val(),10),parseInt($y.val(),10)];while(moment(vals.join("/"),"D/M/YYYY").isValid()===false){vals[0]--}$d.val(vals[0]);return api.setValue(new Date(vals[2],vals[1]-1,vals[0]))});return api.change(function(e){var d;d=e.target.getValue();$y.val(d.getFullYear());$m.val(d.getMonth()+1);return $d.val(d.getDate())})})};return window.zoogle.dateInputInit()})}).call(this);$.onload.add(function(){$(".music-player .album.with-image a.thumbnail-image").featherlight({transition:"none",contentClose:true,maxHeight:"90%",maxWidth:"90%"})});(function(){var _ref,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key)){child[key]=parent[key]}}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor();child.__super__=parent.prototype;return child};$(function(){return $(document).featherlight({filter:".calendar_feature a.event_details",variant:"dialog-without-border"})});$.onload.add(function(){var $calendar,event_permalink;$(".calendar_feature .table-style tbody td").on("click",function(e){if($(e.target).closest("a").length===0){return $("a:first",this).click()}});$calendar=$("#calendar");if($calendar.length){$(".month:not(.current)",$calendar).hide()}event_permalink=document.location.pathname.match(/^[\/]event[\/][0-9]+[\/]([0-9]+)/);if(event_permalink!==null&&event_permalink.length===2){$(".events_controller a#event_occurrence_"+event_permalink[1]).click()}return $(".calendar_feature").vivify(CalendarFeature)});window.CalendarFeature=(function(_super){__extends(CalendarFeature,_super);function CalendarFeature(){this.showUpcomingOccurrences=__bind(this.showUpcomingOccurrences,this);this.showPastOccurrences=__bind(this.showPastOccurrences,this);_ref=CalendarFeature.__super__.constructor.apply(this,arguments);return _ref}CalendarFeature.vivify();CalendarFeature.prototype.initialize=function(){this.$previousEventsSection=this.find("section.previous");this.$showPastOccurrencesLink=this.find("a.show-past-occurrences");this.$showUpcomingOccurrencesLink=this.find("a.show-upcoming-occurrences");this.$noUpcomingEventsMessage=this.find("span.no-upcoming-events");this.on("click","a.show-past-occurrences",this.showPastOccurrences);return this.on("click","a.show-upcoming-occurrences",this.showUpcomingOccurrences)};CalendarFeature.prototype.showPastOccurrences=function(){this.$showUpcomingOccurrencesLink.removeClass("hide");this.$showPastOccurrencesLink.addClass("hide");this.$previousEventsSection.removeClass("hide");this.$noUpcomingEventsMessage.addClass("hide");return false};CalendarFeature.prototype.showUpcomingOccurrences=function(){this.$showUpcomingOccurrencesLink.addClass("hide");this.$showPastOccurrencesLink.removeClass("hide");this.$previousEventsSection.addClass("hide");this.$noUpcomingEventsMessage.removeClass("hide");return false};return CalendarFeature})($.Vivified)}).call(this);jQuery(function($){var disableItemForm=function(item){var d=prepItemData(item);$("a[data-item-id="+d.item_id+"][data-item-type="+d.item_type+"]").each(function(i,e){if(typeof($(e).attr("disabled"))==="undefined"){$(e).attr("disabled","disabled").data("oldHtml",$(e).html()).data("sale-tag",$(e).hasClass("sale-tag")).html("In cart").removeClass("sale-tag").closest("div").find("div.item-sale-text").hide()}})};var enableItemForm=function(item){var d=prepItemData(item);$("a[data-item-id="+d.item_id+"][data-item-type="+d.item_type+"]").each(function(i,e){$(e).removeAttr("disabled").html($(e).data("oldHtml")).addClass($(e).data("sale-tag")?"sale-tag":"").closest("div").find("div.item-sale-text").show()})};var disableAllItemForms=function(){var items=$("#cart table").data("includedItems");if(typeof(items)!=="undefined"){for(var x=0;x<items.length;x++){disableItemForm(items[x])}}};var enableAllItemForms=function(){$("a[data-item-id][disabled]").each(function(i,e){$(e).html($(e).data("oldHtml")).removeAttr("disabled").addClass($(e).data("sale-tag")?"sale-tag":"").closest("div").find("div.item-sale-text").show()});disableAllItemForms()};var prepItemData=function(d){if(d.itemId){d.item_id=d.itemId;d.item_type=d.itemType;delete d.itemId;delete d.itemType}delete d.oldHtml;return d};var addToCart=function(item){var target="/go/cart/cart_items";$.ajax({url:target,type:"post",dataType:"script",data:{item:item},success:function(){disableAllItemForms();goToCart();flashCartItem(item);updateShippingDisplay()}})};var goToCart=function(){closeFeatherLight();$("html, body").animate({scrollTop:$("#cart").offset().top},250)};var flashCartItem=function(i){var el=$("#cart [data-item-type='"+i.item_type+"'][data-item-id='"+i.item_id+"']");$(el).blink()};var handleAdd=function(e){var d=prepItemData($(this).data());var $parent=$(this).closest(".featherlight");var $input=$parent.find("input[name='item[price]']");var price=$input.val();e.preventDefault();if($(this).attr("disabled")){return}if(typeof(price)!=="undefined"){if(price==""){$parent.find(".min-price-alert").removeClass("hide");return}else{price=parseFloat(price)}if(isNaN(price)){return}var min_price=$input.data("minPrice");min_price=parseFloat(min_price);if(price<min_price){$parent.find(".min-price-alert").removeClass("hide");return}d.price=price}$parent.find(".featherlight-close").click();addToCart(d)};var optionAttr=function(id){return"select[name='cart_item[option_"+id+"_value]']"};var optionName=function(form,id){return $(form).find("select[name='cart_item[option_"+id+"_value]'] option:first").val()};var hasOption=function(form,id){return $(form).find(optionAttr(id)).length>0};var isValidOption=function(form,id){var name=optionAttr(id);if($(form).find(name).val()==$(form).find(name+" option:first").val()){return false}return true};var optionValue=function(form,id){return $(form).find(optionAttr(id)).val()};var updateShippingDisplay=function(){var hasShipping=($("#cart [data-item-type=StoreItem]").length>0);if(hasShipping){$(".cart-shipping").removeClass("hide")}else{$(".cart-shipping").addClass("hide")}};var closeFeatherLight=function(){console.log("Closing featherlight... "+$.featherlight+": "+$.featherlight.close())};var updateCartQtys=function(evt){evt.preventDefault();var target="/go/cart";var data={};$("#cart table tr").each(function(i,e){var id=$(e).data("id");var qty=parseInt($(e).find("input").val(),10);if(typeof(id)!=="undefined"){data[id]=qty}});var params={cart:data};$.ajax({url:target,type:"put",dataType:"script",data:params,success:function(){updateShippingDisplay();enableAllItemForms()}});return false};$("body").on("click","a.add-to-cart",handleAdd);$("body").on("keyup","input[name='item[price]'][data-min-price='0.0']",function(){var val=parseFloat($(this).val());if(val<=0){$(".cart-action").addClass("hide");$(".free-download").removeClass("hide")}else{$(".cart-action").removeClass("hide");$(".free-download").addClass("hide")}});$("body").on("submit","form.purchase",function(){var item={item_id:$(this).find("input[name='cart_item[item_id]']").val(),item_type:$(this).find("input[name='cart_item[item_type]']").val()};$(this).children(".inline_error").text("");var opt_errors=[];$(this).find(".options select").each(function(k,sel){if($(sel).children("option:selected").index()<1){opt_errors[opt_errors.length]="Please pick an option for "+$(sel).val()+".";$(sel).closest(".item-option").addClass("has-error");$(sel).closest("form").addClass("has-error");$(sel).closest(".item-option").find(".option-error").text("Please choose an option.")}else{$(sel).closest(".item-option").removeClass("has-error");$(sel).closest(".item-option").find(".option-error").text("")}});if(opt_errors.length>0){$(this).find(".options .inline_error").html(opt_errors.join("<br/>"));return false}else{$(this).closest("form.purchase").removeClass("has-error")}item.option_1_value=optionValue(this,1);item.option_2_value=optionValue(this,2);if($(this).find("input[name='cart_item[price]']").length>0){var minPrice=parseFloat($(this).data("user-price"),10);var userPrice=parseFloat($(this).find("input[name='cart_item[price]']").val(),10);if(typeof(userPrice)!=="number"||isNaN(userPrice)||userPrice<minPrice){alert("please pay at least "+minPrice);$(this).find("input[name='cart_item[price]']").val(minPrice);return false}item.price=userPrice}addToCart(item);return false});$("body").on("click","a.remove",function(e){e.preventDefault();var item=prepItemData($(this).parents("tr").data());var params={_method:"delete",item:item};var target=$(this).attr("href");$.ajax({url:target,type:"post",dataType:"script",data:params,success:function(){updateShippingDisplay();enableAllItemForms()}});return false}).on("click","section#cart a.update_qty",function(evt){updateCartQtys(evt)}).on("click","#quantity",function(evt){if(Modernizr.touch){this.setSelectionRange(0,this.value.length)}}).on("change","#quantity",function(evt){if(Modernizr.touch){updateCartQtys(evt)}}).on("click",".checkout",function(e){var target=$(this).attr("href");e.preventDefault();var params={country:$("#cart select[name=dest]").val(),join_mailinglist:$("input[name='join_mailinglist']:checked").val()};$.ajax({url:target,data:params,type:"put",dataType:"script"})});var pingCart=function(){if($("section.music_feature,section.store_feature,section.store_item_feature").length>0){$.ajax({url:"/go/cart",type:"get",dataType:"script",success:function(){enableAllItemForms();disableAllItemForms();updateShippingDisplay()}})}};pingCart();$.onload.add(pingCart)});(function(){$.onload.add(function(){var basic_url,loadCommentForm,startTime;startTime=(new Date).getTime();basic_url=/https?:\/\/\w+\./i;$("a.comment-link").click(function(){return $("form.comment :visible").find(":text, textarea").first().focus()});$(".comments").on("click","button.quote",function(){var $comment,$textArea,msg,user;if($("#comment-form").hasClass("hide")){$("#comment-form, #comment-toggle").toggleClass("hide")}$comment=$(this).closest(".comment");msg=$.trim($comment.find(".original-message").html());user=$comment.find("h1 span.name").html();return $textArea=$comment.closest(".comments").find('textarea[name="comment[message]"]').replaceSelectedText("[quote="+user+"]\n"+msg+"\n[/quote]\n").blur().focus()});$("body").on("ajax:success","#new_comment",function(data,xhr,status){$("#comment_name,#comment_location,#comment_message").val("").data("changed",true);return $('#new_comment input[type="submit"]').prop("disabled",false)});$("body").on("submit","#new_comment",function(){return $('#new_comment input[type="submit"]').prop("disabled",true)});$(".comments").on("click",".bbcode a",function(event){var $holder,$textarea,action,after,before,img,tag,thisImage,thisURL,_ref,_ref1;event.preventDefault();$holder=$(this).closest(".comments");$textarea=$holder.find('textarea[name="comment[message]"]');switch(action=$(this).data("bbcode")){case"url":thisURL=prompt("Enter the URL for the link you want to add.","http://");_ref=["[URL="+thisURL+"]","[/URL]"],before=_ref[0],after=_ref[1];if(!basic_url.test(before)){return}break;case"email":case"bold":case"italic":tag={email:"EMAIL",bold:"B",italic:"I"}[action];_ref1=["["+tag+"]","[/"+tag+"]"],before=_ref1[0],after=_ref1[1];break;case"image":thisImage=prompt("Enter the URL for the image you want to display.","http://");if(!basic_url.test(img="[IMG]"+thisImage+"[/IMG]")){return}$textarea.replaceSelectedText(img)}if(before){return $textarea.surroundSelectedText(before,after).focus()}});loadCommentForm=function(target){var url;if($(target).hasClass("loaded")){return}$(target).addClass("loaded");url=$(target).data("dest")+"/new";return $.ajax({url:url,data:{dest:$(target).data("dest"),item_type:$(target).data("itemType")},type:"get",dataType:"script",success:function(){return window.zoogle.loadUserData()}})};return $(".comment-form-holder:not(.loaded)").waypoint({handler:function(){return loadCommentForm(this)},offset:"100%"})})}).call(this);(function(){$.onload.add(function(){var initCustomForms,loadForms;initCustomForms=function(){window.zoogle.dateInputInit();$("form.custom_form").on("submit",function(){var $errors,form_id,has_input,obj,_i,_len,_ref;$errors=$(this).find(".required.input").filter(".radio,.checkbox").not(":has(input:checked)");$errors.find("span.error").remove();$errors.addClass("field_with_errors").append('<span class="error">This field is required.</span>').find("input").on("click",function(){return $(this).closest(".input").removeClass("field_with_errors").find(".error").remove()});has_input=false;form_id=$(this).attr("id");_ref=$("[name^="+form_id+"]").serializeArray();for(_i=0,_len=_ref.length;_i<_len;_i++){obj=_ref[_i];if(obj.value!==""){has_input=true}}return has_input&&$errors.length===0}).find("input, textarea").each(function(i,x){var form_id,input_id;form_id=$(x).parents("form").attr("id");input_id=$(x).attr("name");if($(x).data("validate")){if($(x).attr("type")==="email"){ClientSideValidations.toggle.makeRequired(form_id,input_id,"email")}if($(x).attr("required")){return ClientSideValidations.toggle.makeRequired(form_id,input_id)}}}).validate();return $("form.custom_form").enableClientSideValidations()};loadForms=function(target){var url;if($(target).hasClass("loaded")){return}$(target).addClass("loaded");url=$(target).data("dest").replace(/\/submit$/,"/edit");console.log(url);return $.ajax({url:url,data:{dest:$(target).data("dest")},type:"get",dataType:"script",success:function(){return initCustomForms()}})};return $(".custom-form-holder:not(.loaded)").waypoint({handler:function(){return loadForms(this)},offset:"100%"})})}).call(this);(function(){$.onload.add(function(){var checkBuildStatus;checkBuildStatus=function(){var check_url;check_url=$("ul.purchase_items").data("statusUrl");return $.ajax({url:check_url,dataType:"script",success:function(){if($("ul.purchase_items li[data-building=true]").length===0){return $("ul.purchase_items").stopTime()}}})};return $("form.download_code").submit(function(){var $form;$form=$(this);$form.bind("ajax:success",function(event,data){$(".invalid_code_warning").addClass("hide");$.featherlight({html:data.dialog_html});if($("ul.purchase_items li[data-building=true]").length>0){return $("ul.purchase_items").everyTime(3000,checkBuildStatus)}});return $form.bind("ajax:error",function(event,data){return $(".invalid_code_warning").removeClass("hide")})})})}).call(this);(function(){var __indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item){return i}}return -1},__slice=[].slice;(function(root,factory){if(typeof define==="function"&&define.amd){return define("waypoints",["jquery"],function($){return factory($,root)})}else{return factory(root.jQuery,root)}})(this,function($,window){var $w,Context,Waypoint,allWaypoints,contextCounter,contextKey,contexts,isTouch,jQMethods,methods,resizeEvent,scrollEvent,waypointCounter,waypointKey,wp,wps;$w=$(window);isTouch=__indexOf.call(window,"ontouchstart")>=0;allWaypoints={horizontal:{},vertical:{}};contextCounter=1;contexts={};contextKey="waypoints-context-id";resizeEvent="resize.waypoints";scrollEvent="scroll.waypoints";waypointCounter=1;waypointKey="waypoints-waypoint-ids";wp="waypoint";wps="waypoints";Context=(function(){function Context($element){var _this=this;this.$element=$element;this.element=$element[0];this.didResize=false;this.didScroll=false;this.id="context"+contextCounter++;this.oldScroll={x:$element.scrollLeft(),y:$element.scrollTop()};this.waypoints={horizontal:{},vertical:{}};this.element[contextKey]=this.id;contexts[this.id]=this;$element.bind(scrollEvent,function(){var scrollHandler;if(!(_this.didScroll||isTouch)){_this.didScroll=true;scrollHandler=function(){_this.doScroll();return _this.didScroll=false};return window.setTimeout(scrollHandler,$[wps].settings.scrollThrottle)}});$element.bind(resizeEvent,function(){var resizeHandler;if(!_this.didResize){_this.didResize=true;resizeHandler=function(){$[wps]("refresh");return _this.didResize=false};return window.setTimeout(resizeHandler,$[wps].settings.resizeThrottle)}})}Context.prototype.doScroll=function(){var axes,_this=this;axes={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};if(isTouch&&(!axes.vertical.oldScroll||!axes.vertical.newScroll)){$[wps]("refresh")}$.each(axes,function(aKey,axis){var direction,isForward,triggered;triggered=[];isForward=axis.newScroll>axis.oldScroll;direction=isForward?axis.forward:axis.backward;$.each(_this.waypoints[aKey],function(wKey,waypoint){var _ref,_ref1;if((axis.oldScroll<(_ref=waypoint.offset)&&_ref<=axis.newScroll)){return triggered.push(waypoint)}else{if((axis.newScroll<(_ref1=waypoint.offset)&&_ref1<=axis.oldScroll)){return triggered.push(waypoint)}}});triggered.sort(function(a,b){return a.offset-b.offset});if(!isForward){triggered.reverse()}return $.each(triggered,function(i,waypoint){if(waypoint.options.continuous||i===triggered.length-1){return waypoint.trigger([direction])}})});return this.oldScroll={x:axes.horizontal.newScroll,y:axes.vertical.newScroll}};Context.prototype.refresh=function(){var axes,cOffset,isWin,_this=this;isWin=$.isWindow(this.element);cOffset=this.$element.offset();this.doScroll();axes={horizontal:{contextOffset:isWin?0:cOffset.left,contextScroll:isWin?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:isWin?0:cOffset.top,contextScroll:isWin?0:this.oldScroll.y,contextDimension:isWin?$[wps]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};return $.each(axes,function(aKey,axis){return $.each(_this.waypoints[aKey],function(i,waypoint){var adjustment,elementOffset,oldOffset,_ref,_ref1;adjustment=waypoint.options.offset;oldOffset=waypoint.offset;elementOffset=$.isWindow(waypoint.element)?0:waypoint.$element.offset()[axis.offsetProp];if($.isFunction(adjustment)){adjustment=adjustment.apply(waypoint.element)}else{if(typeof adjustment==="string"){adjustment=parseFloat(adjustment);if(waypoint.options.offset.indexOf("%")>-1){adjustment=Math.ceil(axis.contextDimension*adjustment/100)}}}waypoint.offset=elementOffset-axis.contextOffset+axis.contextScroll-adjustment;if((waypoint.options.onlyOnScroll&&(oldOffset!=null))||!waypoint.enabled){return}if(oldOffset!==null&&(oldOffset<(_ref=axis.oldScroll)&&_ref<=waypoint.offset)){return waypoint.trigger([axis.backward])}else{if(oldOffset!==null&&(oldOffset>(_ref1=axis.oldScroll)&&_ref1>=waypoint.offset)){return waypoint.trigger([axis.forward])}else{if(oldOffset===null&&axis.oldScroll>=waypoint.offset){return waypoint.trigger([axis.forward])}}}})})};Context.prototype.checkEmpty=function(){if($.isEmptyObject(this.waypoints.horizontal)&&$.isEmptyObject(this.waypoints.vertical)){this.$element.unbind([resizeEvent,scrollEvent].join(" "));return delete contexts[this.id]}};return Context})();Waypoint=(function(){function Waypoint($element,context,options){var idList,_ref;options=$.extend({},$.fn[wp].defaults,options);if(options.offset==="bottom-in-view"){options.offset=function(){var contextHeight;contextHeight=$[wps]("viewportHeight");if(!$.isWindow(context.element)){contextHeight=context.$element.height()}return contextHeight-$(this).outerHeight()}}this.$element=$element;this.element=$element[0];this.axis=options.horizontal?"horizontal":"vertical";this.callback=options.handler;this.context=context;this.enabled=options.enabled;this.id="waypoints"+waypointCounter++;this.offset=null;this.options=options;context.waypoints[this.axis][this.id]=this;allWaypoints[this.axis][this.id]=this;idList=(_ref=this.element[waypointKey])!=null?_ref:[];idList.push(this.id);this.element[waypointKey]=idList}Waypoint.prototype.trigger=function(args){if(!this.enabled){return}if(this.callback!=null){this.callback.apply(this.element,args)}if(this.options.triggerOnce){return this.destroy()}};Waypoint.prototype.disable=function(){return this.enabled=false};Waypoint.prototype.enable=function(){this.context.refresh();return this.enabled=true};Waypoint.prototype.destroy=function(){delete allWaypoints[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];return this.context.checkEmpty()};Waypoint.getWaypointsByElement=function(element){var all,ids;ids=element[waypointKey];if(!ids){return[]}all=$.extend({},allWaypoints.horizontal,allWaypoints.vertical);return $.map(ids,function(id){return all[id]})};return Waypoint})();methods={init:function(f,options){var _ref;if(options==null){options={}}if((_ref=options.handler)==null){options.handler=f}this.each(function(){var $this,context,contextElement,_ref1;$this=$(this);contextElement=(_ref1=options.context)!=null?_ref1:$.fn[wp].defaults.context;if(!$.isWindow(contextElement)){contextElement=$this.closest(contextElement)}contextElement=$(contextElement);context=contexts[contextElement[0][contextKey]];if(!context){context=new Context(contextElement)}return new Waypoint($this,context,options)});$[wps]("refresh");return this},disable:function(){return methods._invoke.call(this,"disable")},enable:function(){return methods._invoke.call(this,"enable")},destroy:function(){return methods._invoke.call(this,"destroy")},prev:function(axis,selector){return methods._traverse.call(this,axis,selector,function(stack,index,waypoints){if(index>0){return stack.push(waypoints[index-1])}})},next:function(axis,selector){return methods._traverse.call(this,axis,selector,function(stack,index,waypoints){if(index<waypoints.length-1){return stack.push(waypoints[index+1])}})},_traverse:function(axis,selector,push){var stack,waypoints;if(axis==null){axis="vertical"}if(selector==null){selector=window}waypoints=jQMethods.aggregate(selector);stack=[];this.each(function(){var index;index=$.inArray(this,waypoints[axis]);return push(stack,index,waypoints[axis])});return this.pushStack(stack)},_invoke:function(method){this.each(function(){var waypoints;waypoints=Waypoint.getWaypointsByElement(this);return $.each(waypoints,function(i,waypoint){waypoint[method]();return true})});return this}};$.fn[wp]=function(){var args,method;method=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];if(methods[method]){return methods[method].apply(this,args)}else{if($.isFunction(method)){return methods.init.apply(this,arguments)}else{if($.isPlainObject(method)){return methods.init.apply(this,[null,method])}else{if(!method){return $.error("jQuery Waypoints needs a callback function or handler option.")}else{return $.error("The "+method+" method does not exist in jQuery Waypoints.")}}}}};$.fn[wp].defaults={context:window,continuous:true,enabled:true,horizontal:false,offset:0,triggerOnce:false};jQMethods={refresh:function(){return $.each(contexts,function(i,context){return context.refresh()})},viewportHeight:function(){var _ref;return(_ref=window.innerHeight)!=null?_ref:$w.height()},aggregate:function(contextSelector){var collection,waypoints,_ref;collection=allWaypoints;if(contextSelector){collection=(_ref=contexts[$(contextSelector)[0][contextKey]])!=null?_ref.waypoints:void 0}if(!collection){return[]}waypoints={horizontal:[],vertical:[]};$.each(waypoints,function(axis,arr){$.each(collection[axis],function(key,waypoint){return arr.push(waypoint)});arr.sort(function(a,b){return a.offset-b.offset});waypoints[axis]=$.map(arr,function(waypoint){return waypoint.element});return waypoints[axis]=$.unique(waypoints[axis])});return waypoints},above:function(contextSelector){if(contextSelector==null){contextSelector=window}return jQMethods._filter(contextSelector,"vertical",function(context,waypoint){return waypoint.offset<=context.oldScroll.y})},below:function(contextSelector){if(contextSelector==null){contextSelector=window}return jQMethods._filter(contextSelector,"vertical",function(context,waypoint){return waypoint.offset>context.oldScroll.y})},left:function(contextSelector){if(contextSelector==null){contextSelector=window}return jQMethods._filter(contextSelector,"horizontal",function(context,waypoint){return waypoint.offset<=context.oldScroll.x})},right:function(contextSelector){if(contextSelector==null){contextSelector=window}return jQMethods._filter(contextSelector,"horizontal",function(context,waypoint){return waypoint.offset>context.oldScroll.x})},enable:function(){return jQMethods._invoke("enable")},disable:function(){return jQMethods._invoke("disable")},destroy:function(){return jQMethods._invoke("destroy")},extendFn:function(methodName,f){return methods[methodName]=f},_invoke:function(method){var waypoints;waypoints=$.extend({},allWaypoints.vertical,allWaypoints.horizontal);return $.each(waypoints,function(key,waypoint){waypoint[method]();return true})},_filter:function(selector,axis,test){var context,waypoints;context=contexts[$(selector)[0][contextKey]];if(!context){return[]}waypoints=[];$.each(context.waypoints[axis],function(i,waypoint){if(test(context,waypoint)){return waypoints.push(waypoint)}});waypoints.sort(function(a,b){return a.offset-b.offset});return $.map(waypoints,function(waypoint){return waypoint.element})}};$[wps]=function(){var args,method;method=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];if(jQMethods[method]){return jQMethods[method].apply(null,args)}else{return jQMethods.aggregate.call(null,method)}};$[wps].settings={resizeThrottle:100,scrollThrottle:30};return $w.load(function(){return $[wps]("refresh")})})}).call(this);
/*!
* jQuery Cycle2; version: 2.1.5-malacalypse build: 20140718
* http://jquery.malsup.com/cycle2/
* Copyright (c) 2014 M. Alsup; Dual licensed: MIT/GPL
*
********************
* NOTE: MODIFIED FROM VENDOR VERSION
* This contains changes from PR: https://github.com/malsup/malsup.github.com/pull/9
* Which has not yet officially been accepted.
********************
*/
//;(function($){var version="2.1.5-malacalypse";$.fn.cycle=function(options){var o;if(this.length===0&&!$.isReady){o={s:this.selector,c:this.context};$.fn.cycle.log("requeuing slideshow (dom not ready)");$(function(){$(o.s,o.c).cycle(options)});return this}return this.each(function(){var data,opts,shortName,val;var container=$(this);var log=$.fn.cycle.log;if(container.data("cycle.opts")){return}if(container.data("cycle-log")===false||(options&&options.log===false)||(opts&&opts.log===false)){log=$.noop}log("--c2 init--");data=container.data();for(var p in data){if(data.hasOwnProperty(p)&&/^cycle[A-Z]+/.test(p)){val=data[p];shortName=p.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,lowerCase);log(shortName+":",val,"("+typeof val+")");data[shortName]=val}}opts=$.extend({},$.fn.cycle.defaults,data,options||{});opts.timeoutId=0;opts.paused=opts.paused||false;opts.container=container;opts._maxZ=opts.maxZ;opts.API=$.extend({_container:container},$.fn.cycle.API);opts.API.log=log;opts.API.trigger=function(eventName,args){opts.container.trigger(eventName,args);return opts.API};container.data("cycle.opts",opts);container.data("cycle.API",opts.API);opts.API.trigger("cycle-bootstrap",[opts,opts.API]);opts.API.addInitialSlides();opts.API.preInitSlideshow();if(opts.slides.length){opts.API.initSlideshow()}})};$.fn.cycle.API={opts:function(){return this._container.data("cycle.opts")},addInitialSlides:function(){var opts=this.opts();var slides=opts.slides;opts.slideCount=0;opts.slides=$();slides=slides.jquery?slides:opts.container.find(slides);if(opts.random){slides.sort(function(){return Math.random()-0.5})}opts.API.add(slides)},preInitSlideshow:function(){var opts=this.opts();opts.API.trigger("cycle-pre-initialize",[opts]);var tx=$.fn.cycle.transitions[opts.fx];if(tx&&$.isFunction(tx.preInit)){tx.preInit(opts)}opts._preInitialized=true},postInitSlideshow:function(){var opts=this.opts();opts.API.trigger("cycle-post-initialize",[opts]);var tx=$.fn.cycle.transitions[opts.fx];if(tx&&$.isFunction(tx.postInit)){tx.postInit(opts)}},initSlideshow:function(){var opts=this.opts();var pauseObj=opts.container;var slideOpts;opts.API.calcFirstSlide();if(opts.container.css("position")=="static"){opts.container.css("position","relative")}$(opts.slides[opts.currSlide]).css({opacity:1,display:"block",visibility:"visible"});opts.API.stackSlides(opts.slides[opts.currSlide],opts.slides[opts.nextSlide],!opts.reverse);if(opts.pauseOnHover){if(opts.pauseOnHover!==true){pauseObj=$(opts.pauseOnHover)}pauseObj.hover(function(){opts.API.pause(true)},function(){opts.API.resume(true)})}if(opts.timeout){slideOpts=opts.API.getSlideOpts(opts.currSlide);opts.API.queueTransition(slideOpts,slideOpts.timeout+opts.delay)}opts._initialized=true;opts.API.updateView(true);opts.API.trigger("cycle-initialized",[opts]);opts.API.postInitSlideshow()},pause:function(hover){var opts=this.opts(),slideOpts=opts.API.getSlideOpts(),alreadyPaused=opts.hoverPaused||opts.paused;if(hover){opts.hoverPaused=true}else{opts.paused=true}if(!alreadyPaused){opts.container.addClass("cycle-paused");opts.API.trigger("cycle-paused",[opts]).log("cycle-paused");if(slideOpts.timeout){clearTimeout(opts.timeoutId);opts.timeoutId=0;opts._remainingTimeout-=($.now()-opts._lastQueue);if(opts._remainingTimeout<0||isNaN(opts._remainingTimeout)){opts._remainingTimeout=undefined}}}},resume:function(hover){var opts=this.opts(),alreadyResumed=!opts.hoverPaused&&!opts.paused,remaining;if(hover){opts.hoverPaused=false}else{opts.paused=false}if(!alreadyResumed){opts.container.removeClass("cycle-paused");if(opts.slides.filter(":animated").length===0){opts.API.queueTransition(opts.API.getSlideOpts(),opts._remainingTimeout)}opts.API.trigger("cycle-resumed",[opts,opts._remainingTimeout]).log("cycle-resumed")}},add:function(slides,prepend){var opts=this.opts();var oldSlideCount=opts.slideCount;var startSlideshow=false;var len;if($.type(slides)=="string"){slides=$.trim(slides)}$(slides).each(function(i){var slideOpts;var slide=$(this);if(prepend){opts.container.prepend(slide)}else{opts.container.append(slide)}opts.slideCount++;slideOpts=opts.API.buildSlideOpts(slide);opts.API.trigger("cycle-slide-before",[opts,slideOpts,slide]);if(prepend){opts.slides=$(slide).add(opts.slides)}else{opts.slides=opts.slides.add(slide)}opts.API.initSlide(slideOpts,slide,--opts._maxZ);slide.data("cycle.opts",slideOpts);opts.API.trigger("cycle-slide-added",[opts,slideOpts,slide])});opts.API.updateView(true);startSlideshow=opts._preInitialized&&(oldSlideCount<2&&opts.slideCount>=1);if(startSlideshow){if(!opts._initialized){opts.API.initSlideshow()}else{if(opts.timeout){len=opts.slides.length;opts.nextSlide=opts.reverse?len-1:1;if(!opts.timeoutId){opts.API.queueTransition(opts)}}}}},calcFirstSlide:function(){var opts=this.opts();var firstSlideIndex;firstSlideIndex=parseInt(opts.startingSlide||0,10);if(firstSlideIndex>=opts.slides.length||firstSlideIndex<0){firstSlideIndex=0}opts.currSlide=firstSlideIndex;if(opts.reverse){opts.nextSlide=firstSlideIndex-1;if(opts.nextSlide<0){opts.nextSlide=opts.slides.length-1}}else{opts.nextSlide=firstSlideIndex+1;if(opts.nextSlide==opts.slides.length){opts.nextSlide=0}}},calcNextSlide:function(){var opts=this.opts();var roll;if(opts.reverse){roll=(opts.nextSlide-1)<0;opts.nextSlide=roll?opts.slideCount-1:opts.nextSlide-1;opts.currSlide=roll?0:opts.nextSlide+1}else{roll=(opts.nextSlide+1)==opts.slides.length;opts.nextSlide=roll?0:opts.nextSlide+1;opts.currSlide=roll?opts.slides.length-1:opts.nextSlide-1}},calcTx:function(slideOpts,manual){var opts=slideOpts;var tx;if(opts._tempFx){tx=$.fn.cycle.transitions[opts._tempFx]}else{if(manual&&opts.manualFx){tx=$.fn.cycle.transitions[opts.manualFx]}}if(!tx){tx=$.fn.cycle.transitions[opts.fx]}opts._tempFx=null;this.opts()._tempFx=null;if(!tx){tx=$.fn.cycle.transitions.fade;opts.API.log('Transition "'+opts.fx+'" not found.  Using fade.')}return tx},prepareTx:function(manual,fwd){var opts=this.opts();var after,curr,next,slideOpts,tx;if(opts.slideCount<2){opts.timeoutId=0;return}if(manual&&(!opts.busy||opts.manualTrump)){opts.API.stopTransition();opts.busy=false;clearTimeout(opts.timeoutId);opts.timeoutId=0}if(opts.busy){return}if(opts.timeoutId===0&&!manual){return}curr=opts.slides[opts.currSlide];next=opts.slides[opts.nextSlide];slideOpts=opts.API.getSlideOpts(opts.nextSlide);tx=opts.API.calcTx(slideOpts,manual);opts._tx=tx;if(manual&&slideOpts.manualSpeed!==undefined){slideOpts.speed=slideOpts.manualSpeed}if(opts.nextSlide!=opts.currSlide&&(manual||(!opts.paused&&!opts.hoverPaused&&opts.timeout))){opts.API.trigger("cycle-before",[slideOpts,curr,next,fwd]);if(tx.before){tx.before(slideOpts,curr,next,fwd)}after=function(){opts.busy=false;if(!opts.container.data("cycle.opts")){return}if(tx.after){tx.after(slideOpts,curr,next,fwd)}opts.API.trigger("cycle-after",[slideOpts,curr,next,fwd]);opts.API.queueTransition(slideOpts);opts.API.updateView(true)};opts.busy=true;if(tx.transition){tx.transition(slideOpts,curr,next,fwd,after)}else{opts.API.doTransition(slideOpts,curr,next,fwd,after)}opts.API.calcNextSlide();opts.API.updateView()}else{opts.API.queueTransition(slideOpts)}},doTransition:function(slideOpts,currEl,nextEl,fwd,callback){var opts=slideOpts;var curr=$(currEl),next=$(nextEl);var fn=function(){next.animate(opts.animIn||{opacity:1},opts.speed,opts.easeIn||opts.easing,callback)};next.css(opts.cssBefore||{});curr.animate(opts.animOut||{},opts.speed,opts.easeOut||opts.easing,function(){curr.css(opts.cssAfter||{});if(!opts.sync){fn()}});if(opts.sync){fn()}},queueTransition:function(slideOpts,specificTimeout){var opts=this.opts();var timeout=specificTimeout!==undefined?specificTimeout:slideOpts.timeout;if(opts.nextSlide===0&&--opts.loop===0){opts.API.log("terminating; loop=0");opts.timeout=0;if(timeout){setTimeout(function(){opts.API.trigger("cycle-finished",[opts])},timeout)}else{opts.API.trigger("cycle-finished",[opts])}opts.nextSlide=opts.currSlide;return}if(opts.continueAuto!==undefined){if(opts.continueAuto===false||($.isFunction(opts.continueAuto)&&opts.continueAuto()===false)){opts.API.log("terminating automatic transitions");opts.timeout=0;if(opts.timeoutId){clearTimeout(opts.timeoutId)}return}}if(timeout){opts._lastQueue=$.now();if(specificTimeout===undefined){opts._remainingTimeout=slideOpts.timeout}if(!opts.paused&&!opts.hoverPaused){opts.timeoutId=setTimeout(function(){opts.API.prepareTx(false,!opts.reverse)},timeout)}}},stopTransition:function(){var opts=this.opts();if(opts.slides.filter(":animated").length){opts.slides.stop(false,true);opts.API.trigger("cycle-transition-stopped",[opts])}if(opts._tx&&opts._tx.stopTransition){opts._tx.stopTransition(opts)}},advanceSlide:function(val){var opts=this.opts();clearTimeout(opts.timeoutId);opts.timeoutId=0;opts.nextSlide=opts.currSlide+val;if(opts.nextSlide<0){opts.nextSlide=opts.slides.length-1}else{if(opts.nextSlide>=opts.slides.length){opts.nextSlide=0}}opts.API.prepareTx(true,val>=0);return false},buildSlideOpts:function(slide){var opts=this.opts();var val,shortName;var slideOpts=slide.data()||{};for(var p in slideOpts){if(slideOpts.hasOwnProperty(p)&&/^cycle[A-Z]+/.test(p)){val=slideOpts[p];shortName=p.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,lowerCase);opts.API.log("["+(opts.slideCount-1)+"]",shortName+":",val,"("+typeof val+")");slideOpts[shortName]=val}}slideOpts=$.extend({},$.fn.cycle.defaults,opts,slideOpts);slideOpts.slideNum=opts.slideCount;try{delete slideOpts.API;delete slideOpts.slideCount;delete slideOpts.currSlide;delete slideOpts.nextSlide;delete slideOpts.slides}catch(e){}return slideOpts},getSlideOpts:function(index){var opts=this.opts();if(index===undefined){index=opts.currSlide}var slide=opts.slides[index];var slideOpts=$(slide).data("cycle.opts");return $.extend({},opts,slideOpts)},initSlide:function(slideOpts,slide,suggestedZindex){var opts=this.opts();slide.css(slideOpts.slideCss||{});if(suggestedZindex>0){slide.css("zIndex",suggestedZindex)}if(isNaN(slideOpts.speed)){slideOpts.speed=$.fx.speeds[slideOpts.speed]||$.fx.speeds._default}if(!slideOpts.sync){slideOpts.speed=slideOpts.speed/2}slide.addClass(opts.slideClass)},updateView:function(isAfter,isDuring,forceEvent){var opts=this.opts();if(!opts._initialized){return}var slideOpts=opts.API.getSlideOpts();var currSlide=opts.slides[opts.currSlide];if(!isAfter&&isDuring!==true){opts.API.trigger("cycle-update-view-before",[opts,slideOpts,currSlide]);if(opts.updateView<0){return}}if(opts.slideActiveClass){opts.slides.removeClass(opts.slideActiveClass).eq(opts.currSlide).addClass(opts.slideActiveClass)}if(isAfter&&opts.hideNonActive){opts.slides.filter(":not(."+opts.slideActiveClass+")").css("visibility","hidden")}if(opts.updateView===0){setTimeout(function(){opts.API.trigger("cycle-update-view",[opts,slideOpts,currSlide,isAfter])},slideOpts.speed/(opts.sync?2:1))}if(opts.updateView!==0){opts.API.trigger("cycle-update-view",[opts,slideOpts,currSlide,isAfter])}if(isAfter){opts.API.trigger("cycle-update-view-after",[opts,slideOpts,currSlide])}},getComponent:function(name){var opts=this.opts();var selector=opts[name];if(typeof selector==="string"){return(/^\s*[\>|\+|~]/).test(selector)?opts.container.find(selector):$(selector)}if(selector.jquery){return selector}return $(selector)},stackSlides:function(curr,next,fwd){var opts=this.opts();if(!curr){curr=opts.slides[opts.currSlide];next=opts.slides[opts.nextSlide];fwd=!opts.reverse}$(curr).css("zIndex",opts.maxZ);var i;var z=opts.maxZ-2;var len=opts.slideCount;if(fwd){for(i=opts.currSlide+1;i<len;i++){$(opts.slides[i]).css("zIndex",z--)}for(i=0;i<opts.currSlide;i++){$(opts.slides[i]).css("zIndex",z--)}}else{for(i=opts.currSlide-1;i>=0;i--){$(opts.slides[i]).css("zIndex",z--)}for(i=len-1;i>opts.currSlide;i--){$(opts.slides[i]).css("zIndex",z--)}}$(next).css("zIndex",opts.maxZ-1)},getSlideIndex:function(el){return this.opts().slides.index(el)}};$.fn.cycle.log=function log(){if(window.console&&console.log){console.log("[cycle2] "+Array.prototype.join.call(arguments," "))}};$.fn.cycle.version=function(){return"Cycle2: "+version};function lowerCase(s){return(s||"").toLowerCase()}$.fn.cycle.transitions={custom:{},none:{before:function(opts,curr,next,fwd){opts.API.stackSlides(next,curr,fwd);opts.cssBefore={opacity:1,visibility:"visible",display:"block"}}},fade:{before:function(opts,curr,next,fwd){var css=opts.API.getSlideOpts(opts.nextSlide).slideCss||{};opts.API.stackSlides(curr,next,fwd);opts.cssBefore=$.extend(css,{opacity:0,visibility:"visible",display:"block"});opts.animIn={opacity:1};opts.animOut={opacity:0}}},fadeout:{before:function(opts,curr,next,fwd){var css=opts.API.getSlideOpts(opts.nextSlide).slideCss||{};opts.API.stackSlides(curr,next,fwd);opts.cssBefore=$.extend(css,{opacity:1,visibility:"visible",display:"block"});opts.animOut={opacity:0}}},scrollHorz:{before:function(opts,curr,next,fwd){opts.API.stackSlides(curr,next,fwd);var w=opts.container.css("overflow","hidden").width();opts.cssBefore={left:fwd?w:-w,top:0,opacity:1,visibility:"visible",display:"block"};opts.cssAfter={zIndex:opts._maxZ-2,left:0};opts.animIn={left:0};opts.animOut={left:fwd?-w:w}}}};$.fn.cycle.defaults={allowWrap:true,autoSelector:".cycle-slideshow[data-cycle-auto-init!=false]",delay:0,easing:null,fx:"fade",hideNonActive:true,loop:0,manualFx:undefined,manualSpeed:undefined,manualTrump:true,maxZ:100,pauseOnHover:false,reverse:false,slideActiveClass:"cycle-slide-active",slideClass:"cycle-slide",slideCss:{position:"absolute",top:0,left:0},slides:"> img",speed:500,startingSlide:0,sync:true,timeout:4000,updateView:0};$(document).ready(function(){$($.fn.cycle.defaults.autoSelector).cycle()})})(jQuery);
/*! Cycle2 autoheight plugin; Copyright (c) M.Alsup, 2012; version: 20130913 */
//(function($){$.extend($.fn.cycle.defaults,{autoHeight:0,autoHeightSpeed:250,autoHeightEasing:null});$(document).on("cycle-initialized",function(e,opts){var autoHeight=opts.autoHeight;var t=$.type(autoHeight);var resizeThrottle=null;var ratio;if(t!=="string"&&t!=="number"){return}opts.container.on("cycle-slide-added cycle-slide-removed",initAutoHeight);opts.container.on("cycle-destroyed",onDestroy);if(autoHeight=="container"){opts.container.on("cycle-before",onBefore)}else{if(t==="string"&&/\d+\:\d+/.test(autoHeight)){ratio=autoHeight.match(/(\d+)\:(\d+)/);ratio=ratio[1]/ratio[2];opts._autoHeightRatio=ratio}}if(t!=="number"){opts._autoHeightOnResize=function(){clearTimeout(resizeThrottle);resizeThrottle=setTimeout(onResize,50)};$(window).on("resize orientationchange",opts._autoHeightOnResize)}setTimeout(onResize,30);function onResize(){initAutoHeight(e,opts)}});function initAutoHeight(e,opts){var clone,height,sentinelIndex;var autoHeight=opts.autoHeight;if(autoHeight=="container"){height=$(opts.slides[opts.currSlide]).outerHeight();opts.container.height(height)}else{if(opts._autoHeightRatio){opts.container.height(opts.container.width()/opts._autoHeightRatio)}else{if(autoHeight==="calc"||($.type(autoHeight)=="number"&&autoHeight>=0)){if(autoHeight==="calc"){sentinelIndex=calcSentinelIndex(e,opts)}else{if(autoHeight>=opts.slides.length){sentinelIndex=0}else{sentinelIndex=autoHeight}}if(sentinelIndex==opts._sentinelIndex){return}opts._sentinelIndex=sentinelIndex;if(opts._sentinel){opts._sentinel.remove()}clone=$(opts.slides[sentinelIndex].cloneNode(true));clone.removeAttr("id name rel").find("[id],[name],[rel]").removeAttr("id name rel");clone.css({position:"static",visibility:"hidden",display:"block"}).prependTo(opts.container).addClass("cycle-sentinel cycle-slide").removeClass("cycle-slide-active");clone.find("*").css("visibility","hidden");opts._sentinel=clone}}}}function calcSentinelIndex(e,opts){var index=0,max=-1;opts.slides.each(function(i){var h=$(this).height();if(h>max){max=h;index=i}});return index}function onBefore(e,opts,outgoing,incoming,forward){var h=$(incoming).outerHeight();opts.container.animate({height:h},opts.autoHeightSpeed,opts.autoHeightEasing)}function onDestroy(e,opts){if(opts._autoHeightOnResize){$(window).off("resize orientationchange",opts._autoHeightOnResize);opts._autoHeightOnResize=null}opts.container.off("cycle-slide-added cycle-slide-removed",initAutoHeight);opts.container.off("cycle-destroyed",onDestroy);opts.container.off("cycle-before",onBefore);if(opts._sentinel){opts._sentinel.remove();opts._sentinel=null}}})(jQuery);
/*! caption plugin for Cycle2;  version: 20130306 */
//(function($){$.extend($.fn.cycle.defaults,{caption:"> .cycle-caption",captionTemplate:"{{slideNum}} / {{slideCount}}",overlay:"> .cycle-overlay",overlayTemplate:"<div>{{title}}</div><div>{{desc}}</div>",captionModule:"caption"});$(document).on("cycle-update-view",function(e,opts,slideOpts,currSlide){if(opts.captionModule!=="caption"){return}var el;$.each(["caption","overlay"],function(){var name=this;var template=slideOpts[name+"Template"];var el=opts.API.getComponent(name);if(el.length&&template){el.html(opts.API.tmpl(template,slideOpts,opts,currSlide));el.show()}else{el.hide()}})});$(document).on("cycle-destroyed",function(e,opts){var el;$.each(["caption","overlay"],function(){var name=this,template=opts[name+"Template"];if(opts[name]&&template){el=opts.API.getComponent("caption");el.empty()}})})})(jQuery);
/*! command plugin for Cycle2;  version: 20140415 */
//(function($){var c2=$.fn.cycle;$.fn.cycle=function(options){var cmd,cmdFn,opts;var args=$.makeArray(arguments);if($.type(options)=="number"){return this.cycle("goto",options)}if($.type(options)=="string"){return this.each(function(){var cmdArgs;cmd=options;opts=$(this).data("cycle.opts");if(opts===undefined){c2.log('slideshow must be initialized before sending commands; "'+cmd+'" ignored');return}else{cmd=cmd=="goto"?"jump":cmd;cmdFn=opts.API[cmd];if($.isFunction(cmdFn)){cmdArgs=$.makeArray(args);cmdArgs.shift();return cmdFn.apply(opts.API,cmdArgs)}else{c2.log("unknown command: ",cmd)}}})}else{return c2.apply(this,arguments)}};$.extend($.fn.cycle,c2);$.extend(c2.API,{next:function(){var opts=this.opts();if(opts.busy&&!opts.manualTrump){return}var count=opts.reverse?-1:1;if(opts.allowWrap===false&&(opts.currSlide+count)>=opts.slideCount){return}opts.API.advanceSlide(count);opts.API.trigger("cycle-next",[opts]).log("cycle-next")},prev:function(){var opts=this.opts();if(opts.busy&&!opts.manualTrump){return}var count=opts.reverse?1:-1;if(opts.allowWrap===false&&(opts.currSlide+count)<0){return}opts.API.advanceSlide(count);opts.API.trigger("cycle-prev",[opts]).log("cycle-prev")},destroy:function(){this.stop();var opts=this.opts();var clean=$.isFunction($._data)?$._data:$.noop;clearTimeout(opts.timeoutId);opts.timeoutId=0;opts.API.stop();opts.API.trigger("cycle-destroyed",[opts]).log("cycle-destroyed");opts.container.removeData();clean(opts.container[0],"parsedAttrs",false);if(!opts.retainStylesOnDestroy){opts.container.removeAttr("style");opts.slides.removeAttr("style");opts.slides.removeClass(opts.slideActiveClass)}opts.slides.each(function(){$(this).removeData();clean(this,"parsedAttrs",false)})},jump:function(index,fx){var fwd;var opts=this.opts();if(opts.busy&&!opts.manualTrump){return}var num=parseInt(index,10);if(isNaN(num)||num<0||num>=opts.slides.length){opts.API.log("goto: invalid slide index: "+num);return}if(num==opts.currSlide){opts.API.log("goto: skipping, already on slide",num);return}opts.nextSlide=num;clearTimeout(opts.timeoutId);opts.timeoutId=0;opts.API.log("goto: ",num," (zero-index)");fwd=opts.currSlide<opts.nextSlide;opts._tempFx=fx;opts.API.prepareTx(true,fwd)},stop:function(){var opts=this.opts();var pauseObj=opts.container;clearTimeout(opts.timeoutId);opts.timeoutId=0;opts.API.stopTransition();if(opts.pauseOnHover){if(opts.pauseOnHover!==true){pauseObj=$(opts.pauseOnHover)}pauseObj.off("mouseenter mouseleave")}opts.API.trigger("cycle-stopped",[opts]).log("cycle-stopped")},reinit:function(){var opts=this.opts();opts.API.destroy();opts.container.cycle()},remove:function(index){var opts=this.opts();var slide,slideToRemove,slides=[],slideNum=1;for(var i=0;i<opts.slides.length;i++){slide=opts.slides[i];if(i==index){slideToRemove=slide}else{slides.push(slide);$(slide).data("cycle.opts").slideNum=slideNum;slideNum++}}if(slideToRemove){opts.slides=$(slides);opts.slideCount--;$(slideToRemove).remove();if(index==opts.currSlide){opts.API.advanceSlide(1)}else{if(index<opts.currSlide){opts.currSlide--}else{opts.currSlide++}}opts.API.trigger("cycle-slide-removed",[opts,index,slideToRemove]).log("cycle-slide-removed");opts.API.updateView()}}});$(document).on("click.cycle","[data-cycle-cmd]",function(e){e.preventDefault();var el=$(this);var command=el.data("cycle-cmd");var context=el.data("cycle-context")||".cycle-slideshow";$(context).cycle(command,el.data("cycle-arg"))})})(jQuery);
/*! hash plugin for Cycle2;  version: 20130905 */
//(function($){$(document).on("cycle-pre-initialize",function(e,opts){onHashChange(opts,true);opts._onHashChange=function(){onHashChange(opts,false)};$(window).on("hashchange",opts._onHashChange)});$(document).on("cycle-update-view",function(e,opts,slideOpts){if(slideOpts.hash&&("#"+slideOpts.hash)!=window.location.hash){opts._hashFence=true;window.location.hash=slideOpts.hash}});$(document).on("cycle-destroyed",function(e,opts){if(opts._onHashChange){$(window).off("hashchange",opts._onHashChange)}});function onHashChange(opts,setStartingSlide){var hash;if(opts._hashFence){opts._hashFence=false;return}hash=window.location.hash.substring(1);opts.slides.each(function(i){if($(this).data("cycle-hash")==hash){if(setStartingSlide===true){opts.startingSlide=i}else{var fwd=opts.currSlide<i;opts.nextSlide=i;opts.API.prepareTx(true,fwd)}return false}})}})(jQuery);
/*! loader plugin for Cycle2;  version: 20131121 */
//(function($){$.extend($.fn.cycle.defaults,{loader:false});$(document).on("cycle-bootstrap",function(e,opts){var addFn;if(!opts.loader){return}addFn=opts.API.add;opts.API.add=add;function add(slides,prepend){var slideArr=[];if($.type(slides)=="string"){slides=$.trim(slides)}else{if($.type(slides)==="array"){for(var i=0;i<slides.length;i++){slides[i]=$(slides[i])[0]}}}slides=$(slides);var slideCount=slides.length;if(!slideCount){return}slides.hide().appendTo("body").each(function(i){var count=0;var slide=$(this);var images=slide.is("img")?slide:slide.find("img");slide.data("index",i);opts.API.trigger("cycle-slide-before",[opts,opts.API.buildSlideOpts(slide),slide]);images=images.filter(":not(.cycle-loader-ignore)").filter(':not([src=""])');if(!images.length){--slideCount;slideArr.push(slide);return}count=images.length;images.each(function(){if(this.complete){imageLoaded()}else{$(this).load(function(){imageLoaded()}).on("error",function(){if(--count===0){opts.API.log("slide skipped; img not loaded:",this.src);if(--slideCount===0&&opts.loader=="wait"){addFn.apply(opts.API,[slideArr,prepend])}}})}});function imageLoaded(){if(--count===0){--slideCount;addSlide(slide)}}});if(slideCount){opts.container.addClass("cycle-loading")}function addSlide(slide){var curr;if(opts.loader=="wait"){slideArr.push(slide);if(slideCount===0){slideArr.sort(sorter);addFn.apply(opts.API,[slideArr,prepend]);opts.container.removeClass("cycle-loading")}}else{curr=$(opts.slides[opts.currSlide]);addFn.apply(opts.API,[slide,prepend]);curr.show();opts.container.removeClass("cycle-loading")}}function sorter(a,b){return a.data("index")-b.data("index")}}})})(jQuery);
/*! pager plugin for Cycle2;  version: 20140415 */
//(function($){$.extend($.fn.cycle.defaults,{pager:"> .cycle-pager",pagerActiveClass:"cycle-pager-active",pagerEvent:"click.cycle",pagerEventBubble:undefined,pagerTemplate:"<span>&bull;</span>"});$(document).on("cycle-bootstrap",function(e,opts,API){API.buildPagerLink=buildPagerLink});$(document).on("cycle-slide-added",function(e,opts,slideOpts,slideAdded){if(opts.pager){opts.API.buildPagerLink(opts,slideOpts,slideAdded);opts.API.page=page}});$(document).on("cycle-slide-removed",function(e,opts,index,slideRemoved){if(opts.pager){var pagers=opts.API.getComponent("pager");pagers.each(function(){var pager=$(this);$(pager.children()[index]).remove()})}});$(document).on("cycle-update-view",function(e,opts,slideOpts){var pagers;if(opts.pager){pagers=opts.API.getComponent("pager");pagers.each(function(){$(this).children().removeClass(opts.pagerActiveClass).eq(opts.currSlide).addClass(opts.pagerActiveClass)})}});$(document).on("cycle-destroyed",function(e,opts){var pager=opts.API.getComponent("pager");if(pager){pager.children().off(opts.pagerEvent);if(opts.pagerTemplate){pager.empty()}}});function buildPagerLink(opts,slideOpts,slide){var pagerLink;var pagers=opts.API.getComponent("pager");pagers.each(function(){var pager=$(this);if(slideOpts.pagerTemplate){var markup=opts.API.tmpl(slideOpts.pagerTemplate,slideOpts,opts,slide[0]);pagerLink=$(markup).appendTo(pager)}else{pagerLink=pager.children().eq(opts.slideCount-1)}pagerLink.on(opts.pagerEvent,function(e){if(!opts.pagerEventBubble){e.preventDefault()}opts.API.page(pager,e.currentTarget)})})}function page(pager,target){var opts=this.opts();if(opts.busy&&!opts.manualTrump){return}var index=pager.children().index(target);var nextSlide=index;var fwd=opts.currSlide<nextSlide;if(opts.currSlide==nextSlide){return}opts.nextSlide=nextSlide;opts._tempFx=opts.pagerFx;opts.API.prepareTx(true,fwd);opts.API.trigger("cycle-pager-activated",[opts,pager,target])}})(jQuery);
/*! prevnext plugin for Cycle2;  version: 20140408 */
//(function($){$.extend($.fn.cycle.defaults,{next:"> .cycle-next",nextEvent:"click.cycle",disabledClass:"disabled",prev:"> .cycle-prev",prevEvent:"click.cycle",swipe:false});$(document).on("cycle-initialized",function(e,opts){opts.API.getComponent("next").on(opts.nextEvent,function(e){e.preventDefault();opts.API.next()});opts.API.getComponent("prev").on(opts.prevEvent,function(e){e.preventDefault();opts.API.prev()});if(opts.swipe){var nextEvent=opts.swipeVert?"swipeUp.cycle":"swipeLeft.cycle swipeleft.cycle";var prevEvent=opts.swipeVert?"swipeDown.cycle":"swipeRight.cycle swiperight.cycle";opts.container.on(nextEvent,function(e){opts._tempFx=opts.swipeFx;opts.API.next()});opts.container.on(prevEvent,function(){opts._tempFx=opts.swipeFx;opts.API.prev()})}});$(document).on("cycle-update-view",function(e,opts,slideOpts,currSlide){if(opts.allowWrap){return}var cls=opts.disabledClass;var next=opts.API.getComponent("next");var prev=opts.API.getComponent("prev");var prevBoundry=opts._prevBoundry||0;var nextBoundry=(opts._nextBoundry!==undefined)?opts._nextBoundry:opts.slideCount-1;if(opts.currSlide==nextBoundry){next.addClass(cls).prop("disabled",true)}else{next.removeClass(cls).prop("disabled",false)}if(opts.currSlide===prevBoundry){prev.addClass(cls).prop("disabled",true)}else{prev.removeClass(cls).prop("disabled",false)}});$(document).on("cycle-destroyed",function(e,opts){opts.API.getComponent("prev").off(opts.nextEvent);opts.API.getComponent("next").off(opts.prevEvent);opts.container.off("swipeleft.cycle swiperight.cycle swipeLeft.cycle swipeRight.cycle swipeUp.cycle swipeDown.cycle")})})(jQuery);
/*! progressive loader plugin for Cycle2;  version: 20130315 */
//(function($){$.extend($.fn.cycle.defaults,{progressive:false});$(document).on("cycle-pre-initialize",function(e,opts){if(!opts.progressive){return}var API=opts.API;var nextFn=API.next;var prevFn=API.prev;var prepareTxFn=API.prepareTx;var type=$.type(opts.progressive);var slides,scriptEl;if(type=="array"){slides=opts.progressive}else{if($.isFunction(opts.progressive)){slides=opts.progressive(opts)}else{if(type=="string"){scriptEl=$(opts.progressive);slides=$.trim(scriptEl.html());if(!slides){return}if(/^(\[)/.test(slides)){try{slides=$.parseJSON(slides)}catch(err){API.log("error parsing progressive slides",err);return}}else{slides=slides.split(new RegExp(scriptEl.data("cycle-split")||"\n"));if(!slides[slides.length-1]){slides.pop()}}}}}if(prepareTxFn){API.prepareTx=function(manual,fwd){var index,slide;if(manual||slides.length===0){prepareTxFn.apply(opts.API,[manual,fwd]);return}if(fwd&&opts.currSlide==(opts.slideCount-1)){slide=slides[0];slides=slides.slice(1);opts.container.one("cycle-slide-added",function(e,opts){setTimeout(function(){opts.API.advanceSlide(1)},50)});opts.API.add(slide)}else{if(!fwd&&opts.currSlide===0){index=slides.length-1;slide=slides[index];slides=slides.slice(0,index);opts.container.one("cycle-slide-added",function(e,opts){setTimeout(function(){opts.currSlide=1;opts.API.advanceSlide(-1)},50)});opts.API.add(slide,true)}else{prepareTxFn.apply(opts.API,[manual,fwd])}}}}if(nextFn){API.next=function(){var opts=this.opts();if(slides.length&&opts.currSlide==(opts.slideCount-1)){var slide=slides[0];slides=slides.slice(1);opts.container.one("cycle-slide-added",function(e,opts){nextFn.apply(opts.API);opts.container.removeClass("cycle-loading")});opts.container.addClass("cycle-loading");opts.API.add(slide)}else{nextFn.apply(opts.API)}}}if(prevFn){API.prev=function(){var opts=this.opts();if(slides.length&&opts.currSlide===0){var index=slides.length-1;var slide=slides[index];slides=slides.slice(0,index);opts.container.one("cycle-slide-added",function(e,opts){opts.currSlide=1;opts.API.advanceSlide(-1);opts.container.removeClass("cycle-loading")});opts.container.addClass("cycle-loading");opts.API.add(slide,true)}else{prevFn.apply(opts.API)}}}})})(jQuery);
/*! tmpl plugin for Cycle2;  version: 20121227 */
//(function($){$.extend($.fn.cycle.defaults,{tmplRegex:"{{((.)?.*?)}}"});$.extend($.fn.cycle.API,{tmpl:function(str,opts){var regex=new RegExp(opts.tmplRegex||$.fn.cycle.defaults.tmplRegex,"g");var args=$.makeArray(arguments);args.shift();return str.replace(regex,function(_,str){var i,j,obj,prop,names=str.split(".");for(i=0;i<args.length;i++){obj=args[i];if(!obj){continue}if(names.length>1){prop=obj;for(j=0;j<names.length;j++){obj=prop;prop=prop[names[j]]||str}}else{prop=obj[str]}if($.isFunction(prop)){return prop.apply(obj,args)}if(prop!==undefined&&prop!==null&&prop!=str){return prop}}return str})}})})(jQuery);(function(){$.onload.add(function(){var centerGalleriesPhotos,galleryHasCaptions,loadGallery,makeGallerySlideshow,makeModernGallery;loadGallery=function(target){var base;if($(target).hasClass("loaded")){return}$(target).addClass("loaded");base=window.location.pathname;if(base==="/"){base=""}return $.ajax({url:base+"/gallery_features/"+$(target).data("featureId"),type:"get",dataType:"script",success:function(){var container;container=$(target).find("div.gallery-grid");$(target).find("a.thumbnail-popup").featherlightGallery();centerGalleriesPhotos();makeModernGallery($(target).find("div.gallery-modern"));return makeGallerySlideshow($(target).find("div.gallery-slideshow"))}})};makeModernGallery=function($container){$container.isotope({itemSelector:"div.gallery-item",layoutMode:"masonry",transitionDuration:0,masonry:{itemSelector:".item",columnWidth:1,gutter:0},sortBy:$container.data("sort")==="random"?"random":"original-order"});return $container.imagesLoaded(function(){return $container.isotope("layout")})};makeGallerySlideshow=function($container){return $container.cycle({slides:"> div.gallery-item",prev:"> .cycle-prev",next:"> .cycle-next",pauseOnHover:true,loader:false,swipe:false}).on("click","> .gallery-item .img-wrap",function(e){return $container.cycle("next")}).on("cycle-slide-before",function(event,opts,slideopts,slide){return picturefill({elements:slide.find("img").toArray()})})};centerGalleriesPhotos=function(){return $(".gallery_feature .gallery-grid img").die("load").load(function(){var $this,$wrap,axis,dim,prop,val,wrapDim,_i,_len,_ref,_results;$this=$(this);$wrap=$this.closest(".img-wrap");_ref=["x","y"];_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){axis=_ref[_i];dim=axis==="x"?"width":"height";prop=axis==="x"?"left":"top";wrapDim=$wrap[dim]();val=($this[dim]()-wrapDim)/2;val=(val/wrapDim)*-100+"%";_results.push($this.css(prop,val))}return _results})};galleryHasCaptions=function(gal){var result;result=false;$(".caption",gal).each(function(){if($.trim($(this).text()).length>0){result=true;return false}});return result};$(".gallery_feature").has("img").addClass("loaded");$(".gallery_feature:not(.loaded)").waypoint({handler:function(){return loadGallery(this)},offset:"100%"});centerGalleriesPhotos();$(".gallery_feature, .instagram_feature").find("a.thumbnail-popup").featherlightGallery();$("section.gallery_feature.loaded div.gallery-modern").each(function(){return makeModernGallery($(this))});return $("section.gallery_feature.loaded div.gallery-slideshow").each(function(){return makeGallerySlideshow($(this))})})}).call(this);(function(){var ping=function(id){var target="/go/hit_counter_features/"+id;$.ajax({url:target,type:"put",dataType:"text",data:{}})};$.onload.add(function(){$(".hit_counter_feature").each(function(){ping($(this).data("feature-id"))})})})();jQuery.fn.extend({everyTime:function(interval,label,fn,times){return this.each(function(){jQuery.timer.add(this,interval,label,fn,times)})},oneTime:function(interval,label,fn){return this.each(function(){jQuery.timer.add(this,interval,label,fn,1)})},stopTime:function(label,fn){return this.each(function(){jQuery.timer.remove(this,label,fn)})}});jQuery.extend({timer:{global:[],guid:1,dataKey:"jQuery.timer",regex:/^([0-9]+(?:\.[0-9]*)?)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1000,das:10000,hs:100000,ks:1000000},timeParse:function(value){if(value==undefined||value==null){return null}var result=this.regex.exec(jQuery.trim(value.toString()));if(result[2]){var num=parseFloat(result[1]);var mult=this.powers[result[2]]||1;return num*mult}else{return value}},add:function(element,interval,label,fn,times){var counter=0;if(jQuery.isFunction(label)){if(!times){times=fn}fn=label;label=interval}interval=jQuery.timer.timeParse(interval);if(typeof interval!="number"||isNaN(interval)||interval<0){return}if(typeof times!="number"||isNaN(times)||times<0){times=0}times=times||0;var timers=jQuery.data(element,this.dataKey)||jQuery.data(element,this.dataKey,{});if(!timers[label]){timers[label]={}}fn.timerID=fn.timerID||this.guid++;var handler=function(){if((++counter>times&&times!==0)||fn.call(element,counter)===false){jQuery.timer.remove(element,label,fn)}};handler.timerID=fn.timerID;if(!timers[label][fn.timerID]){timers[label][fn.timerID]=window.setInterval(handler,interval)}this.global.push(element)},remove:function(element,label,fn){var timers=jQuery.data(element,this.dataKey),ret;if(timers){if(!label){for(label in timers){this.remove(element,label,fn)}}else{if(timers[label]){if(fn){if(fn.timerID){window.clearInterval(timers[label][fn.timerID]);delete timers[label][fn.timerID]}}else{for(var fn in timers[label]){window.clearInterval(timers[label][fn]);delete timers[label][fn]}}for(ret in timers[label]){break}if(!ret){ret=null;delete timers[label]}}}for(ret in timers){break}if(!ret){jQuery.removeData(element,this.dataKey)}}}}});jQuery(window).bind("unload",function(){jQuery.each(jQuery.timer.global,function(index,item){jQuery.timer.remove(item)})});function ZoogleMedia(){this.players=[];this.currentPlayer=undefined;this.players.remove=function(from,to){var rest=this.slice((to||from)+1||this.length);this.length=from<0?this.length+from:from;return this.push.apply(this,rest)};this.getPlayers=function(){return this.players};this.current=function(){return this.currentPlayer};this.register=function(obj){this.players.push(obj)};this.unregister=function(obj){if(this.current()===obj){this.setActive(undefined)}var idx=this.players.indexOf(obj);if(idx!==-1){this.players.remove(idx)}};this.setActive=function(obj){if(this.currentPlayer!==obj){this.pause();this.currentPlayer=obj}};this.pause=function(){if(this.currentPlayer){this.currentPlayer.pause()}};this.pauseOnExit=function(){if(!$(this.currentPlayer).parent().hasClass("display-swmp")){this.pause()}}}(function(){jQuery(function($){$("body").on("click",".free-download a.download",function(e){e.preventDefault();return $.featherlight.current().load({ajax:$(this).attr("href")})});return $("body").on("click",".music-player a.download,.blog_feature a.download",function(e){var opts,triggerPolling,url;e.preventDefault();e.stopPropagation();if($(this).attr("disabled")){return}triggerPolling=function(){return $(".polling").everyTime(2500,"album",function(){var target;if(!$(this).is(":visible")){$(this).stopTime("album");return}target=$(this).data("poll-url");return $.ajax({url:target,dataType:"script"})})};url=$(this).attr("href");opts={afterOpen:function(){var _this=this;if(typeof ClientSideValidations.forms.new_member!=="undefined"){delete ClientSideValidations.forms.new_member.validators["member[email]"].uniqueness}$("form[data-validate]").validate();triggerPolling();return this.$instance.on("sessioncreated",function(){return _this.reload()})}};if(url&&url!=="#"){opts.ajax=url}else{opts.jquery=$(this).next("div").find("> div")}return $.featherlight(opts)})});$.onload.add(function(){$(".music_feature a.lyrics-popup, .music_feature a.notes-popup").featherlight()})}).call(this);(function(){var loadUploaderLibrary;loadUploaderLibrary=function(){if($.EditableUploadList){return $().promise()}else{return $.getScript("//s3.amazonaws.com/content.sitezoogle.com/assets/global/extra/uploader-be3c2c0e61c7e9ae0c0e8b7bb5298b6a.js")}};$(function(){$("body").on("ajax:success","#new_comment",function(data,xhr,status){});$("body").on("click","a.edit_profile",function(e){var _this=this;e.preventDefault();return loadUploaderLibrary().done(function(){return $.featherlight($(_this).attr("href"),{afterOpen:function(){this.$instance.find("form[data-validate]").validate();this.$instance.find("input[data-validate=false]").removeAttr("data-validate");return $(".change_image").appendTo($(".editable_upload_area")).click(function(evt){evt.preventDefault();$(".editable_upload_area li.image").remove();$("ul.image_list").trigger("refresh");return $(".change_image").addClass("hide")})}})})});$("body").featherlight({filter:"a.login"});return $("body").on("click","a.register",function(e){var _this=this;e.preventDefault();return loadUploaderLibrary().done(function(){return $.featherlight($(_this).attr("href"),{afterOpen:function(){return this.$instance.find("form[data-validate]").validate()}})})})});$.onload.add(function(){return $(".protected_page_warning").on("sessioncreated",function(){return document.location.reload()})})}).call(this);
/*!
 * jQuery Cookie Plugin v1.3.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
//(function(factory){if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],factory)}else{factory(jQuery)}}(function($){var pluses=/\+/g;function raw(s){return s}function decoded(s){return decodeURIComponent(s.replace(pluses," "))}function converted(s){if(s.indexOf('"')===0){s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{return config.json?JSON.parse(s):s}catch(er){}}var config=$.cookie=function(key,value,options){if(value!==undefined){options=$.extend({},config.defaults,options);if(typeof options.expires==="number"){var days=options.expires,t=options.expires=new Date();t.setDate(t.getDate()+days)}value=config.json?JSON.stringify(value):String(value);return(document.cookie=[encodeURIComponent(key),"=",config.raw?value:encodeURIComponent(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join(""))}var decode=config.raw?raw:decoded;var cookies=document.cookie.split("; ");var result=key?undefined:{};for(var i=0,l=cookies.length;i<l;i++){var parts=cookies[i].split("=");var name=decode(parts.shift());var cookie=decode(parts.join("="));if(key&&key===name){result=converted(cookie);break}if(!key){result[name]=converted(cookie)}}return result};config.defaults={};$.removeCookie=function(key,options){if($.cookie(key)!==undefined){$.cookie(key,"",$.extend(options,{expires:-1}));return true}return false}}));(function(){if(typeof(window.zoogle)==="undefined"){window.zoogle={}}window.zoogle.isLoggedIn=function(){return($.cookie("usersite_user_credentials")!==undefined)};var onDataLoaded=function(d){window.zoogle.userData=d;applyData()};var applyData=function(){if(typeof(window.zoogle.userData.name)==="undefined"||window.zoogle.userData.name===""||window.zoogle.userData.name===null){window.zoogle.userData.name="Edit Profile"}$("html").addClass("logged-in").removeClass("not-logged-in");$("a.edit_profile").html(window.zoogle.userData.name);$(".topic_comment_name, .topic_location_name").remove();if(ClientSideValidations.forms.new_topic){delete ClientSideValidations.forms.new_topic.validators["topic[comment][name]"];delete ClientSideValidations.forms.new_topic.validators["topic[comment][location]"]}$(".comment_name, .comment_location").remove();if(ClientSideValidations.forms.new_comment){delete ClientSideValidations.forms.new_comment.validators["comment[name]"];delete ClientSideValidations.forms.new_comment.validators["comment[location]"]}};window.zoogle.loadUserData=function(){if(window.zoogle.isLoggedIn()){if(window.zoogle.userData){applyData()}else{$.ajax({url:"/go/member/profile",dataType:"json",success:onDataLoaded})}}};$.onload.add(window.zoogle.loadUserData);$(document).on("sessioncreated",function(evt,d){onDataLoaded(d)})})();$.onload.add(function(){$("a.animal_details.no_image").featherlight();$(".pedigree_feature .animal .images a.animal_details.image").featherlightGallery();$(document).on("click","div.details a.animal_details.image",function(){$(this).closest(".animal").find(".images a.animal_details.image:first").click();return false})});(function(){var togglePollResultsVisibility=function(wrap){$(wrap).find(".poll-wrapper,.poll-results").toggleClass("hide")};var showPollThanks=function(wrap){$(".poll-thanks",$(wrap)).removeClass("hide")};var hidePollActions=function(wrap){$(".actions",$(wrap)).addClass("hide")};var ping=function(){$("form.poll_vote").each(function(){var id=$(this).data("check-id");if(typeof(id)!=="undefined"){var check=$.cookie(id);if(typeof(check)!=="undefined"){var wrap=$(this).parents("section");togglePollResultsVisibility(wrap);showPollThanks(wrap);hidePollActions(wrap)}}})};jQuery(function($){$("body").on("submit","form.poll_vote",function(e){if($(this).find("input:checked").length===0){e.preventDefault();return false}else{togglePollResultsVisibility()}})});$.onload.add(function(){ping();$("a.toggle-poll-results").on("click",function(e){e.preventDefault();var $wrap=$(this).parents("section");togglePollResultsVisibility($wrap)})})})();!function(window,document,undefined){var prefixes=["webkit","Moz","ms","O"],animations={},useCssAnimations;function createEl(tag,prop){var el=document.createElement(tag||"div"),n;for(n in prop){el[n]=prop[n]}return el}function ins(parent){for(var i=1,n=arguments.length;i<n;i++){parent.appendChild(arguments[i])}return parent}var sheet=function(){var el=createEl("style",{type:"text/css"});ins(document.getElementsByTagName("head")[0],el);return el.sheet||el.styleSheet}();function addAnimation(alpha,trail,i,lines){var name=["opacity",trail,~~(alpha*100),i,lines].join("-"),start=0.01+i/lines*100,z=Math.max(1-(1-alpha)/trail*(100-start),alpha),prefix=useCssAnimations.substring(0,useCssAnimations.indexOf("Animation")).toLowerCase(),pre=prefix&&"-"+prefix+"-"||"";if(!animations[name]){sheet.insertRule("@"+pre+"keyframes "+name+"{0%{opacity:"+z+"}"+start+"%{opacity:"+alpha+"}"+(start+0.01)+"%{opacity:1}"+(start+trail)%100+"%{opacity:"+alpha+"}100%{opacity:"+z+"}}",sheet.cssRules.length);animations[name]=1}return name}function vendor(el,prop){var s=el.style,pp,i;if(s[prop]!==undefined){return prop}prop=prop.charAt(0).toUpperCase()+prop.slice(1);for(i=0;i<prefixes.length;i++){pp=prefixes[i]+prop;if(s[pp]!==undefined){return pp}}}function css(el,prop){for(var n in prop){el.style[vendor(el,n)||n]=prop[n]}return el}function merge(obj){for(var i=1;i<arguments.length;i++){var def=arguments[i];for(var n in def){if(obj[n]===undefined){obj[n]=def[n]}}}return obj}function pos(el){var o={x:el.offsetLeft,y:el.offsetTop};while((el=el.offsetParent)){o.x+=el.offsetLeft,o.y+=el.offsetTop}return o}var defaults={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:1/4,fps:20,zIndex:2000000000,className:"spinner",top:"auto",left:"auto",position:"relative"};function Spinner(o){if(!this.spin){return new Spinner(o)}this.opts=merge(o||{},Spinner.defaults,defaults)}Spinner.defaults={};merge(Spinner.prototype,{spin:function(target){this.stop();var self=this,o=self.opts,el=self.el=css(createEl(0,{className:o.className}),{position:o.position,width:0,zIndex:o.zIndex}),mid=o.radius+o.length+o.width,ep,tp;if(target){target.insertBefore(el,target.firstChild||null);tp=pos(target);ep=pos(el);css(el,{left:(o.left=="auto"?tp.x-ep.x+(target.offsetWidth>>1):parseInt(o.left,10)+mid)+"px",top:(o.top=="auto"?tp.y-ep.y+(target.offsetHeight>>1):parseInt(o.top,10)+mid)+"px"})}el.setAttribute("aria-role","progressbar");self.lines(el,self.opts);if(!useCssAnimations){var i=0,fps=o.fps,f=fps/o.speed,ostep=(1-o.opacity)/(f*o.trail/100),astep=f/o.lines;(function anim(){i++;for(var s=o.lines;s;s--){var alpha=Math.max(1-(i+s*astep)%f*ostep,o.opacity);self.opacity(el,o.lines-s,alpha,o)}self.timeout=self.el&&setTimeout(anim,~~(1000/fps))})()}return self},stop:function(){var el=this.el;if(el){clearTimeout(this.timeout);if(el.parentNode){el.parentNode.removeChild(el)}this.el=undefined}return this},lines:function(el,o){var i=0,seg;function fill(color,shadow){return css(createEl(),{position:"absolute",width:(o.length+o.width)+"px",height:o.width+"px",background:color,boxShadow:shadow,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*i+o.rotate)+"deg) translate("+o.radius+"px,0)",borderRadius:(o.corners*o.width>>1)+"px"})}for(;i<o.lines;i++){seg=css(createEl(),{position:"absolute",top:1+~(o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:useCssAnimations&&addAnimation(o.opacity,o.trail,i,o.lines)+" "+1/o.speed+"s linear infinite"});if(o.shadow){ins(seg,css(fill("#000","0 0 4px #000"),{top:2+"px"}))}ins(el,ins(seg,fill(o.color,"0 0 1px rgba(0,0,0,.1)")))}return el},opacity:function(el,i,val){if(i<el.childNodes.length){el.childNodes[i].style.opacity=val}}});(function(){function vml(tag,attr){return createEl("<"+tag+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',attr)}var s=css(createEl("group"),{behavior:"url(#default#VML)"});if(!vendor(s,"transform")&&s.adj){sheet.addRule(".spin-vml","behavior:url(#default#VML)");Spinner.prototype.lines=function(el,o){var r=o.length+o.width,s=2*r;function grp(){return css(vml("group",{coordsize:s+" "+s,coordorigin:-r+" "+-r}),{width:s,height:s})}var margin=-(o.width+o.length)*2+"px",g=css(grp(),{position:"absolute",top:margin,left:margin}),i;function seg(i,dx,filter){ins(g,ins(css(grp(),{rotation:360/o.lines*i+"deg",left:~~dx}),ins(css(vml("roundrect",{arcsize:o.corners}),{width:r,height:o.width,left:o.radius,top:-o.width>>1,filter:filter}),vml("fill",{color:o.color,opacity:o.opacity}),vml("stroke",{opacity:0}))))}if(o.shadow){for(i=1;i<=o.lines;i++){seg(i,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)")}}for(i=1;i<=o.lines;i++){seg(i)}return ins(el,g)};Spinner.prototype.opacity=function(el,i,val,o){var c=el.firstChild;o=o.shadow&&o.lines||0;if(c&&i+o<c.childNodes.length){c=c.childNodes[i+o];c=c&&c.firstChild;c=c&&c.firstChild;if(c){c.opacity=val}}}}else{useCssAnimations=vendor(s,"animation")}})();if(typeof define=="function"&&define.amd){define(function(){return Spinner})}else{window.Spinner=Spinner}}(window,document);(function(){(function($){$.fn.spin=function(opts){var mid;if(opts==null){opts={}}mid=22;if(opts.radius){mid=opts.radius}this.each(function(){var $this,options,spinner;$this=$(this);spinner=$this.data("spinner");if(opts===true||opts===false){console.error("Spin takes a stop option")}options={color:$this.css("color"),top:$this.height()/2-mid,left:$this.width()/2-mid};$.extend(options,opts);if(!spinner===!!opts.stop){}else{if(opts.stop){spinner.stop();return $this.removeData("spinner")}else{return $this.data("spinner",new Spinner(options).spin(this))}}});return this};return $.fn.unspin=function(){return this.spin({stop:true})}})(jQuery)}).call(this);$.onload.add(function(){function getParameterByName(name){var match=new RegExp("[?&]"+name+"=([^&]*)").exec(window.location.search);return match&&decodeURIComponent(match[1].replace(/\+/g," "))}var purchase_id=getParameterByName("purchase_id");var auth_code=getParameterByName("auth_code");var checkBuildStatus=function(){var check_url="/purchases/"+purchase_id+"/"+auth_code;$.ajax({url:check_url,dataType:"script",success:function(data){if($("ul.purchase_items li[data-building=true]").length===0){$("ul.purchase_items").stopTime()}}})};if($("ul.purchase_items li[data-building=true]").length>0){$("ul.purchase_items").everyTime(3000,function(){checkBuildStatus()})}});(function(){var undefined;var arrayPool=[],objectPool=[];var keyPrefix=+new Date+"";var largeArraySize=75;var maxPoolSize=40;var reFuncName=/^\s*function[ \n\r\t]+\w/;var reThis=/\bthis\b/;var argsClass="[object Arguments]",arrayClass="[object Array]",boolClass="[object Boolean]",dateClass="[object Date]",numberClass="[object Number]",objectClass="[object Object]",regexpClass="[object RegExp]",stringClass="[object String]";var descriptor={configurable:false,enumerable:false,value:null,writable:false};var objectTypes={"boolean":false,"function":true,object:true,number:false,string:false,"undefined":false};var root=(objectTypes[typeof window]&&window)||this;var freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports;var freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports&&freeExports;var freeGlobal=objectTypes[typeof global]&&global;if(freeGlobal&&(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal)){root=freeGlobal}function baseIndexOf(array,value,fromIndex){var index=(fromIndex||0)-1,length=array?array.length:0;while(++index<length){if(array[index]===value){return index}}return -1}function cacheIndexOf(cache,value){var type=typeof value;cache=cache.cache;if(type=="boolean"||value==null){return cache[value]?0:-1}if(type!="number"&&type!="string"){type="object"}var key=type=="number"?value:keyPrefix+value;cache=(cache=cache[type])&&cache[key];return type=="object"?(cache&&baseIndexOf(cache,value)>-1?0:-1):(cache?0:-1)}function cachePush(value){var cache=this.cache,type=typeof value;if(type=="boolean"||value==null){cache[value]=true}else{if(type!="number"&&type!="string"){type="object"}var key=type=="number"?value:keyPrefix+value,typeCache=cache[type]||(cache[type]={});if(type=="object"){(typeCache[key]||(typeCache[key]=[])).push(value)}else{typeCache[key]=true}}}function createCache(array){var index=-1,length=array.length,first=array[0],mid=array[(length/2)|0],last=array[length-1];if(first&&typeof first=="object"&&mid&&typeof mid=="object"&&last&&typeof last=="object"){return false}var cache=getObject();cache["false"]=cache["null"]=cache["true"]=cache["undefined"]=false;var result=getObject();result.array=array;result.cache=cache;result.push=cachePush;while(++index<length){result.push(array[index])}return result}function getArray(){return arrayPool.pop()||[]}function getObject(){return objectPool.pop()||{array:null,cache:null,"false":false,"null":false,number:null,object:null,push:null,string:null,"true":false,"undefined":false}}function releaseArray(array){array.length=0;if(arrayPool.length<maxPoolSize){arrayPool.push(array)}}function releaseObject(object){var cache=object.cache;if(cache){releaseObject(cache)}object.array=object.cache=object.object=object.number=object.string=null;if(objectPool.length<maxPoolSize){objectPool.push(object)}}function slice(array,start,end){start||(start=0);if(typeof end=="undefined"){end=array?array.length:0}var index=-1,length=end-start||0,result=Array(length<0?0:length);while(++index<length){result[index]=array[start+index]}return result}var arrayRef=[];var objectProto=Object.prototype;var toString=objectProto.toString;var reNative=RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");var fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,push=arrayRef.push,unshift=arrayRef.unshift;var defineProperty=(function(){try{var o={},func=isNative(func=Object.defineProperty)&&func,result=func(o,o,o)&&func}catch(e){}return result}());var nativeCreate=isNative(nativeCreate=Object.create)&&nativeCreate,nativeIsArray=isNative(nativeIsArray=Array.isArray)&&nativeIsArray,nativeKeys=isNative(nativeKeys=Object.keys)&&nativeKeys,nativeMax=Math.max;function lodash(value){return(value&&typeof value=="object"&&!isArray(value)&&hasOwnProperty.call(value,"__wrapped__"))?value:new lodashWrapper(value)}function lodashWrapper(value,chainAll){this.__chain__=!!chainAll;this.__wrapped__=value}lodashWrapper.prototype=lodash.prototype;var support=lodash.support={};support.funcDecomp=!isNative(root.WinRTError)&&reThis.test(function(){return this});support.funcNames=typeof Function.name=="string";function baseBind(bindData){var func=bindData[0],partialArgs=bindData[2],thisArg=bindData[4];function bound(){if(partialArgs){var args=slice(partialArgs);push.apply(args,arguments)}if(this instanceof bound){var thisBinding=baseCreate(func.prototype),result=func.apply(thisBinding,args||arguments);return isObject(result)?result:thisBinding}return func.apply(thisArg,args||arguments)}setBindData(bound,bindData);return bound}function baseCreate(prototype,properties){return isObject(prototype)?nativeCreate(prototype):{}}if(!nativeCreate){baseCreate=(function(){function Object(){}return function(prototype){if(isObject(prototype)){Object.prototype=prototype;var result=new Object;Object.prototype=null}return result||root.Object()}}())}function baseCreateCallback(func,thisArg,argCount){if(typeof func!="function"){return identity}if(typeof thisArg=="undefined"||!("prototype" in func)){return func}var bindData=func.__bindData__;if(typeof bindData=="undefined"){if(support.funcNames){bindData=!func.name}bindData=bindData||!support.funcDecomp;if(!bindData){var source=fnToString.call(func);if(!support.funcNames){bindData=!reFuncName.test(source)}if(!bindData){bindData=reThis.test(source);setBindData(func,bindData)}}}if(bindData===false||(bindData!==true&&bindData[1]&1)){return func}switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 2:return function(a,b){return func.call(thisArg,a,b)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)}}return bind(func,thisArg)}function baseCreateWrapper(bindData){var func=bindData[0],bitmask=bindData[1],partialArgs=bindData[2],partialRightArgs=bindData[3],thisArg=bindData[4],arity=bindData[5];var isBind=bitmask&1,isBindKey=bitmask&2,isCurry=bitmask&4,isCurryBound=bitmask&8,key=func;function bound(){var thisBinding=isBind?thisArg:this;if(partialArgs){var args=slice(partialArgs);push.apply(args,arguments)}if(partialRightArgs||isCurry){args||(args=slice(arguments));if(partialRightArgs){push.apply(args,partialRightArgs)}if(isCurry&&args.length<arity){bitmask|=16&~32;return baseCreateWrapper([func,(isCurryBound?bitmask:bitmask&~3),args,null,thisArg,arity])}}args||(args=arguments);if(isBindKey){func=thisBinding[key]}if(this instanceof bound){thisBinding=baseCreate(func.prototype);var result=func.apply(thisBinding,args);return isObject(result)?result:thisBinding}return func.apply(thisBinding,args)}setBindData(bound,bindData);return bound}function baseDifference(array,values){var index=-1,indexOf=getIndexOf(),length=array?array.length:0,isLarge=length>=largeArraySize&&indexOf===baseIndexOf,result=[];if(isLarge){var cache=createCache(values);if(cache){indexOf=cacheIndexOf;values=cache}else{isLarge=false}}while(++index<length){var value=array[index];if(indexOf(values,value)<0){result.push(value)}}if(isLarge){releaseObject(values)}return result}function baseFlatten(array,isShallow,isStrict,fromIndex){var index=(fromIndex||0)-1,length=array?array.length:0,result=[];while(++index<length){var value=array[index];if(value&&typeof value=="object"&&typeof value.length=="number"&&(isArray(value)||isArguments(value))){if(!isShallow){value=baseFlatten(value,isShallow,isStrict)}var valIndex=-1,valLength=value.length,resIndex=result.length;result.length+=valLength;while(++valIndex<valLength){result[resIndex++]=value[valIndex]}}else{if(!isStrict){result.push(value)}}}return result}function baseIsEqual(a,b,callback,isWhere,stackA,stackB){if(callback){var result=callback(a,b);if(typeof result!="undefined"){return !!result}}if(a===b){return a!==0||(1/a==1/b)}var type=typeof a,otherType=typeof b;if(a===a&&!(a&&objectTypes[type])&&!(b&&objectTypes[otherType])){return false}if(a==null||b==null){return a===b}var className=toString.call(a),otherClass=toString.call(b);if(className==argsClass){className=objectClass}if(otherClass==argsClass){otherClass=objectClass}if(className!=otherClass){return false}switch(className){case boolClass:case dateClass:return +a==+b;case numberClass:return(a!=+a)?b!=+b:(a==0?(1/a==1/b):a==+b);case regexpClass:case stringClass:return a==String(b)}var isArr=className==arrayClass;if(!isArr){var aWrapped=hasOwnProperty.call(a,"__wrapped__"),bWrapped=hasOwnProperty.call(b,"__wrapped__");if(aWrapped||bWrapped){return baseIsEqual(aWrapped?a.__wrapped__:a,bWrapped?b.__wrapped__:b,callback,isWhere,stackA,stackB)}if(className!=objectClass){return false}var ctorA=a.constructor,ctorB=b.constructor;if(ctorA!=ctorB&&!(isFunction(ctorA)&&ctorA instanceof ctorA&&isFunction(ctorB)&&ctorB instanceof ctorB)&&("constructor" in a&&"constructor" in b)){return false}}var initedStack=!stackA;stackA||(stackA=getArray());stackB||(stackB=getArray());var length=stackA.length;while(length--){if(stackA[length]==a){return stackB[length]==b}}var size=0;result=true;stackA.push(a);stackB.push(b);if(isArr){length=a.length;size=b.length;result=size==length;if(result||isWhere){while(size--){var index=length,value=b[size];if(isWhere){while(index--){if((result=baseIsEqual(a[index],value,callback,isWhere,stackA,stackB))){break}}}else{if(!(result=baseIsEqual(a[size],value,callback,isWhere,stackA,stackB))){break}}}}}else{forIn(b,function(value,key,b){if(hasOwnProperty.call(b,key)){size++;return(result=hasOwnProperty.call(a,key)&&baseIsEqual(a[key],value,callback,isWhere,stackA,stackB))}});if(result&&!isWhere){forIn(a,function(value,key,a){if(hasOwnProperty.call(a,key)){return(result=--size>-1)}})}}stackA.pop();stackB.pop();if(initedStack){releaseArray(stackA);releaseArray(stackB)}return result}function baseUniq(array,isSorted,callback){var index=-1,indexOf=getIndexOf(),length=array?array.length:0,result=[];var isLarge=!isSorted&&length>=largeArraySize&&indexOf===baseIndexOf,seen=(callback||isLarge)?getArray():result;if(isLarge){var cache=createCache(seen);indexOf=cacheIndexOf;seen=cache}while(++index<length){var value=array[index],computed=callback?callback(value,index,array):value;if(isSorted?!index||seen[seen.length-1]!==computed:indexOf(seen,computed)<0){if(callback||isLarge){seen.push(computed)}result.push(value)}}if(isLarge){releaseArray(seen.array);releaseObject(seen)}else{if(callback){releaseArray(seen)}}return result}function createAggregator(setter){return function(collection,callback,thisArg){var result={};callback=lodash.createCallback(callback,thisArg,3);var index=-1,length=collection?collection.length:0;if(typeof length=="number"){while(++index<length){var value=collection[index];setter(result,value,callback(value,index,collection),collection)}}else{forOwn(collection,function(value,key,collection){setter(result,value,callback(value,key,collection),collection)})}return result}}function createWrapper(func,bitmask,partialArgs,partialRightArgs,thisArg,arity){var isBind=bitmask&1,isBindKey=bitmask&2,isCurry=bitmask&4,isCurryBound=bitmask&8,isPartial=bitmask&16,isPartialRight=bitmask&32;if(!isBindKey&&!isFunction(func)){throw new TypeError}if(isPartial&&!partialArgs.length){bitmask&=~16;isPartial=partialArgs=false}if(isPartialRight&&!partialRightArgs.length){bitmask&=~32;isPartialRight=partialRightArgs=false}var bindData=func&&func.__bindData__;if(bindData&&bindData!==true){bindData=slice(bindData);if(bindData[2]){bindData[2]=slice(bindData[2])}if(bindData[3]){bindData[3]=slice(bindData[3])}if(isBind&&!(bindData[1]&1)){bindData[4]=thisArg}if(!isBind&&bindData[1]&1){bitmask|=8}if(isCurry&&!(bindData[1]&4)){bindData[5]=arity}if(isPartial){push.apply(bindData[2]||(bindData[2]=[]),partialArgs)}if(isPartialRight){unshift.apply(bindData[3]||(bindData[3]=[]),partialRightArgs)}bindData[1]|=bitmask;return createWrapper.apply(null,bindData)}var creater=(bitmask==1||bitmask===17)?baseBind:baseCreateWrapper;return creater([func,bitmask,partialArgs,partialRightArgs,thisArg,arity])}function getIndexOf(){var result=(result=lodash.indexOf)===indexOf?baseIndexOf:result;return result}function isNative(value){return typeof value=="function"&&reNative.test(value)}var setBindData=!defineProperty?noop:function(func,value){descriptor.value=value;defineProperty(func,"__bindData__",descriptor)};function isArguments(value){return value&&typeof value=="object"&&typeof value.length=="number"&&toString.call(value)==argsClass||false}var isArray=nativeIsArray||function(value){return value&&typeof value=="object"&&typeof value.length=="number"&&toString.call(value)==arrayClass||false};var shimKeys=function(object){var index,iterable=object,result=[];if(!iterable){return result}if(!(objectTypes[typeof object])){return result}for(index in iterable){if(hasOwnProperty.call(iterable,index)){result.push(index)}}return result};var keys=!nativeKeys?shimKeys:function(object){if(!isObject(object)){return[]}return nativeKeys(object)};var forIn=function(collection,callback,thisArg){var index,iterable=collection,result=iterable;if(!iterable){return result}if(!objectTypes[typeof iterable]){return result}callback=callback&&typeof thisArg=="undefined"?callback:baseCreateCallback(callback,thisArg,3);for(index in iterable){if(callback(iterable[index],index,collection)===false){return result}}return result};var forOwn=function(collection,callback,thisArg){var index,iterable=collection,result=iterable;if(!iterable){return result}if(!objectTypes[typeof iterable]){return result}callback=callback&&typeof thisArg=="undefined"?callback:baseCreateCallback(callback,thisArg,3);var ownIndex=-1,ownProps=objectTypes[typeof iterable]&&keys(iterable),length=ownProps?ownProps.length:0;while(++ownIndex<length){index=ownProps[ownIndex];if(callback(iterable[index],index,collection)===false){return result}}return result};function functions(object){var result=[];forIn(object,function(value,key){if(isFunction(value)){result.push(key)}});return result.sort()}function isFunction(value){return typeof value=="function"}function isObject(value){return !!(value&&objectTypes[typeof value])}function mapValues(object,callback,thisArg){var result={};callback=lodash.createCallback(callback,thisArg,3);forOwn(object,function(value,key,object){result[key]=callback(value,key,object)});return result}function forEach(collection,callback,thisArg){var index=-1,length=collection?collection.length:0;callback=callback&&typeof thisArg=="undefined"?callback:baseCreateCallback(callback,thisArg,3);if(typeof length=="number"){while(++index<length){if(callback(collection[index],index,collection)===false){break}}}else{forOwn(collection,callback)}return collection}var groupBy=createAggregator(function(result,value,key){(hasOwnProperty.call(result,key)?result[key]:result[key]=[]).push(value)});function difference(array){return baseDifference(array,baseFlatten(arguments,true,true,1))}function findIndex(array,callback,thisArg){var index=-1,length=array?array.length:0;callback=lodash.createCallback(callback,thisArg,3);while(++index<length){if(callback(array[index],index,array)){return index}}return -1}function indexOf(array,value,fromIndex){if(typeof fromIndex=="number"){var length=array?array.length:0;fromIndex=(fromIndex<0?nativeMax(0,length+fromIndex):fromIndex||0)}else{if(fromIndex){var index=sortedIndex(array,value);return array[index]===value?index:-1}}return baseIndexOf(array,value,fromIndex)}function last(array,callback,thisArg){var n=0,length=array?array.length:0;if(typeof callback!="number"&&callback!=null){var index=length;callback=lodash.createCallback(callback,thisArg,3);while(index--&&callback(array[index],index,array)){n++}}else{n=callback;if(n==null||thisArg){return array?array[length-1]:undefined}}return slice(array,nativeMax(0,length-n))}function sortedIndex(array,value,callback,thisArg){var low=0,high=array?array.length:low;callback=callback?lodash.createCallback(callback,thisArg,1):identity;value=callback(value);while(low<high){var mid=(low+high)>>>1;(callback(array[mid])<value)?low=mid+1:high=mid}return low}function uniq(array,isSorted,callback,thisArg){if(typeof isSorted!="boolean"&&isSorted!=null){thisArg=callback;callback=(typeof isSorted!="function"&&thisArg&&thisArg[isSorted]===array)?null:isSorted;isSorted=false}if(callback!=null){callback=lodash.createCallback(callback,thisArg,3)}return baseUniq(array,isSorted,callback)}function bind(func,thisArg){return arguments.length>2?createWrapper(func,17,slice(arguments,2),null,thisArg):createWrapper(func,1,null,null,thisArg)}function createCallback(func,thisArg,argCount){var type=typeof func;if(func==null||type=="function"){return baseCreateCallback(func,thisArg,argCount)}if(type!="object"){return property(func)}var props=keys(func),key=props[0],a=func[key];if(props.length==1&&a===a&&!isObject(a)){return function(object){var b=object[key];return a===b&&(a!==0||(1/a==1/b))}}return function(object){var length=props.length,result=false;while(length--){if(!(result=baseIsEqual(object[props[length]],func[props[length]],null,true))){break}}return result}}function identity(value){return value}function mixin(object,source,options){var chain=true,methodNames=source&&functions(source);if(!source||(!options&&!methodNames.length)){if(options==null){options=source}ctor=lodashWrapper;source=object;object=lodash;methodNames=functions(source)}if(options===false){chain=false}else{if(isObject(options)&&"chain" in options){chain=options.chain}}var ctor=object,isFunc=isFunction(ctor);forEach(methodNames,function(methodName){var func=object[methodName]=source[methodName];if(isFunc){ctor.prototype[methodName]=function(){var chainAll=this.__chain__,value=this.__wrapped__,args=[value];push.apply(args,arguments);var result=func.apply(object,args);if(chain||chainAll){if(value===result&&isObject(result)){return this}result=new ctor(result);result.__chain__=chainAll}return result}}})}function noop(){}function property(key){return function(object){return object[key]}}function chain(value){value=new lodashWrapper(value);value.__chain__=true;return value}function wrapperChain(){this.__chain__=true;return this}function wrapperToString(){return String(this.__wrapped__)}function wrapperValueOf(){return this.__wrapped__}lodash.bind=bind;lodash.chain=chain;lodash.createCallback=createCallback;lodash.difference=difference;lodash.forEach=forEach;lodash.forIn=forIn;lodash.forOwn=forOwn;lodash.functions=functions;lodash.groupBy=groupBy;lodash.keys=keys;lodash.mapValues=mapValues;lodash.property=property;lodash.uniq=uniq;lodash.each=forEach;lodash.methods=functions;lodash.unique=uniq;mixin(lodash);lodash.findIndex=findIndex;lodash.identity=identity;lodash.indexOf=indexOf;lodash.isArguments=isArguments;lodash.isArray=isArray;lodash.isFunction=isFunction;lodash.isObject=isObject;lodash.mixin=mixin;lodash.noop=noop;lodash.sortedIndex=sortedIndex;mixin(function(){var source={};forOwn(lodash,function(func,methodName){if(!lodash.prototype[methodName]){source[methodName]=func}});return source}(),false);lodash.last=last;forOwn(lodash,function(func,methodName){var callbackable=methodName!=="sample";if(!lodash.prototype[methodName]){lodash.prototype[methodName]=function(n,guard){var chainAll=this.__chain__,result=func(this.__wrapped__,n,guard);return !chainAll&&(n==null||(guard&&!(callbackable&&typeof n=="function")))?result:new lodashWrapper(result,chainAll)}}});lodash.VERSION="2.4.1";lodash.prototype.chain=wrapperChain;lodash.prototype.toString=wrapperToString;lodash.prototype.value=wrapperValueOf;lodash.prototype.valueOf=wrapperValueOf;forEach(["join","pop","shift"],function(methodName){var func=arrayRef[methodName];lodash.prototype[methodName]=function(){var chainAll=this.__chain__,result=func.apply(this.__wrapped__,arguments);return chainAll?new lodashWrapper(result,chainAll):result}});forEach(["push","reverse","sort","unshift"],function(methodName){var func=arrayRef[methodName];lodash.prototype[methodName]=function(){func.apply(this.__wrapped__,arguments);return this}});forEach(["concat","slice","splice"],function(methodName){var func=arrayRef[methodName];lodash.prototype[methodName]=function(){return new lodashWrapper(func.apply(this.__wrapped__,arguments),this.__chain__)}});if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){root._=lodash;define(function(){return lodash})}else{if(freeExports&&freeModule){if(moduleExports){(freeModule.exports=lodash)._=lodash}else{freeExports._=lodash}}else{root._=lodash}}}.call(this));(function(){var BackgroundSlideshow,Slideshow,_ref,_ref1,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key)){child[key]=parent[key]}}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor();child.__super__=parent.prototype;return child},__bind=function(fn,me){return function(){return fn.apply(me,arguments)}};Slideshow=(function(_super){__extends(Slideshow,_super);function Slideshow(){_ref=Slideshow.__super__.constructor.apply(this,arguments);return _ref}Slideshow.vivify();Slideshow.prototype.initialize=function(){var imageSelector;imageSelector=this.data("photo-container-selector");if(!this.parent().is(".layer-photo, #mobile-header")){$("img",imageSelector).replaceWith(this)}this.find("img.cycle-sentinel").remove();if(!this.is("artificial-cycle-slideshow")){this.removeClass("hide")}return this.cycle()};return Slideshow})($.Vivified);BackgroundSlideshow=(function(_super){__extends(BackgroundSlideshow,_super);function BackgroundSlideshow(){this._doTransition=__bind(this._doTransition,this);_ref1=BackgroundSlideshow.__super__.constructor.apply(this,arguments);return _ref1}BackgroundSlideshow.vivify();BackgroundSlideshow.prototype.duration=1000;BackgroundSlideshow.prototype.initialize=function(){var photo,_i,_len,_ref2;this.photos=this.data("background-images");this.$photoEls=[this,this.clone().addClass("alternative").insertBefore(this)];if(!(this.photos.length>1)){return}this.$hiddenSlideshow=$('<div class="hide artificial-cycle-slideshow slideshow"/>').insertBefore(this);_ref2=this.photos;for(_i=0,_len=_ref2.length;_i<_len;_i++){photo=_ref2[_i];$("<img/>").attr("src",photo.url).appendTo(this.$hiddenSlideshow)}return this.$hiddenSlideshow.on("cycle-before",this._doTransition).cycle()};BackgroundSlideshow.prototype._doTransition=function(e,optionHash,outgoingSlideEl,incomingSlideEl,forwardFlag){var curUrl,position,_this=this;curUrl=$(incomingSlideEl).attr("src");position=this.photos[_.findIndex(this.photos,function(p){return p.url===curUrl})].position;this.$photoEls[1].css({"background-image":"url("+curUrl+")","background-position":position,opacity:1});return this.$photoEls[0].animate({opacity:0},{duration:this.duration,complete:function(){_this.$photoEls=_this.$photoEls.reverse();return _this.$photoEls[0].insertAfter(_this.$photoEls[1])}})};return BackgroundSlideshow})($.Vivified);$.onload.add(function(){$(".slideshow").vivify(Slideshow);return $(".page-photo-background[data-background-images]").vivify(BackgroundSlideshow)})}).call(this);(function(){$.onload.add(function(){$(".store_feature .single-image a.thumbnail-image").featherlight("image",{closeOnClick:"anywhere"});$(".store_feature .multiple-images a.thumbnail-image").featherlightGallery();return $(".store-layout-grid a.store-grid-link").featherlight({afterOpen:function(event){$(window).trigger("resize","featherlight");$(".featherlight .featherlight-content .store_item_feature .single-image a.thumbnail-image").featherlight("image");return $(".featherlight .featherlight-content .store_item_feature .multiple-images a.thumbnail-image").featherlightGallery()}})})}).call(this);(function(){$(function(){return $(document).on("pjax:start",function(){if(typeof window.zoogleMedia!=="undefined"){return window.zoogleMedia.pauseOnExit()}})})}).call(this);$.onload.add(function(){$(".topspin_store_feature .single-image a.main-image").featherlight("image",{closeOnClick:"anywhere"})});(function(){$.onload.add(function(){var $p;$p=$(".auto-popup").removeClass("auto-popup");if($p.length!==0){return $.featherlight($p.detach(),{closeOnClick:$p.hasClass("non-cancellable")?false:"background",afterOpen:function(){return this.$instance.find("form[data-validate]").validate()}})}})}).call(this);$.onload.add(function(){$(".external-in-blank a").each(function(i,e){var href=$(this).attr("href");if(href&&href.match(/^https?\:/i)&&!href.match(document.domain)){$(this).attr("target","_blank")}})});(function(){$.fn.observeDOM=function(callback){var clazz,observer;clazz=window.MutationObserver||window.WebKitMutationObserver;if(clazz){observer=new clazz(function(mutations,o){if(mutations[0].addedNodes.length||mutations[0].removedNodes.length){return callback()}});return observer.observe(this[0],{childList:true,subtree:true})}else{return this.on("DOMNodeInserted DOMNodeRemoved",callback)}}}).call(this);(function(){$.onload.add(function(){var $columns,$rows,doEqualize,lastWindowWidth;$rows=$("div.zoogle-columns");$columns=$("div.zoogle-column");lastWindowWidth=null;doEqualize=function(){$rows.css("height","auto");return $rows.each(function(){var $row,$theseColumns,rowWidth;$row=$(this);rowWidth=$row.innerWidth();$theseColumns=$(".zoogle-column",$row).filter(function(){var colWidth;colWidth=$(this).outerWidth(true);return colWidth!==rowWidth});if($theseColumns.length!==0){return $row.css("height",$row.height())}})};$(window).off("resize.doEqualize").on("resize.doEqualize",function(){var thisWindowWidth,timerId;thisWindowWidth=$(window).width();if(thisWindowWidth!==lastWindowWidth){clearTimeout(timerId);timerId=setTimeout(doEqualize,100);return lastWindowWidth=thisWindowWidth}});doEqualize();$columns.find("img, iframe, embed, object").on("load",doEqualize);return $("#page-root").observeDOM(doEqualize)})}).call(this);(function(){$(function(){var $context,$toggleLinks,$wrap,cleanUrl,onMobilePreviewClosed,simulateScrollToTop,toggleViewMode;$wrap=$("#edit-bar-wrap");if($wrap.length!==0){$context=null;$toggleLinks=null;onMobilePreviewClosed=function(){return $toggleLinks.removeClass("active").filter("#desktop-view").addClass("active")};cleanUrl=function(){var url;url=window.location.href.replace(/&?(cp_return_url|preview_from_cp)=([^&]+)/g,"");return url.replace("?&","?").replace(/\?$/,"").replace(/#.*/,"")};toggleViewMode=function(e){var $link,url;$toggleLinks=$(".view-toggle",$context).removeClass("active");$link=$(this).addClass("active");if($link.attr("id")==="mobile-view"){zoogleMedia.pause();url=cleanUrl();url=url+(url.match(/\?/)?"&":"?")+Math.floor(Math.random()*100000);$.featherlight({html:'<div class="scroll-to-top">Scroll to top</div><iframe class="mobile-preview" name="mobile_preview" src="'+url+'"/>',variant:"mobile-preview",closeOnClick:false,afterClose:onMobilePreviewClosed});$(".scroll-to-top").click(simulateScrollToTop)}else{$.featherlight.close()}return false};simulateScrollToTop=function(){return $(frames.mobile_preview.document).find("body").animate({scrollTop:0},750)};$('<iframe id="edit-bar" />').load(function(){$context=$("#edit-bar").contents();$("body",$context).append($wrap.html());$("head",$context).append($('<link href="'+$wrap.data("stylesheet-url")+'" media="screen" rel="stylesheet" type="text/css">'));$(".view-toggle",$context).on("click",toggleViewMode);$(".popup-on-click",$context).on("click",function(e){var height,width;width=$(this).data("width");height=$(this).data("height");window.open($(this).attr("href"),"popup","width="+width+",height="+height);return e.preventDefault()});if(typeof window.matchMedia!=="function"){return $(".view-toggle",$context).remove()}}).appendTo("body");$("html").addClass("with-edit-bar");$(document).on("pjax:end",function(){var page;page=window.location.href.replace(/.*\/\/[^\/]+\/([^\/]+).*/,"$1");return $("#action-link a",$context).each(function(){var $a;$a=$(this);if($a.attr("href").match(/controlpanel\/pages/)){return $a.attr("href",unescape($a.data("template")).replace("{{page}}",page))}})});if($.support.pjax){return window.history.replaceState("",$("title").text(),cleanUrl())}}})}).call(this);$(document).ready(function(){window.zoogleStats=window.zoogleStats||{};$(window.zoogleStats).bind("Play",function(e,data){sendEvent(["_trackEvent","Tracks",data.type,data.title.toString()])}).bind("Skip",function(e,data){var amt=0;if(data.type!=="Plays"){return}if(data.position>0){amt=data.position/data.duration;if(amt<0.1){sendEvent(["_trackEvent","Tracks","Skips",data.title.toString()])}else{if(amt<0.8){sendEvent(["_trackEvent","Tracks","Partial",data.title.toString()])}}}}).bind("Finish",function(e,data){if(data.type!=="Plays"){return}});var sendEvent=function(x){if(window._gaq){_gaq.push(x)}};$("body").on("click","a[data-stat-action]",function(){var d=$(this).data();sendEvent(["_trackEvent",d.category,d.statAction,d.title.toString()])});$(".purchase.sale li[data-type]").each(function(){sendEvent(["_trackEvent",$(this).data("type")+"s","Purchases",$(this).data("title").toString()])});$(document).on("pjax:success",function(){sendEvent(["_trackPageview"])})});(function(){if($.browser.msie&&parseInt($.browser.version)<=9){$.onload.add(function(){var $el,align,alignments,b,c,css,h,l,m,r,style_id,t,v;$el=$("#header-wrap[data-text-fallbacks]");if($el.length){$.each($.parseJSON($el.attr("data-text-fallbacks")),function(layer_name,image_url){if(layer_name==="title"&&!$("#page-title").hasClass("display-type-text")){return}return $(".layer-"+layer_name+" span",$el).empty().append('<img src="'+image_url+'" />')});if(!$("html").hasClass("no-csstransforms")){return}t="t";m="m";b="b";l="l";c="c";r="r";alignments={1:[b,c],2:[b,c],4:[b,c],5:[b,l],6:[b,c],7:[b,l],8:[b,c],10:[b,l],12:[b,l],13:[b,l],14:[b,l],15:[b,c],16:[b,c],17:[b,l],18:[b,c],19:[b,c],20:[b,l],21:[b,c],22:[b,c],23:[b,c],24:[b,l],25:[b,c],26:[b,c],27:[b,l],28:[b,l],29:[b,l],30:[b,c],31:[b,c],32:[b,c],33:[m,l],34:[b,c],35:[b,c],36:[m,c],37:[b,l],38:[b,c],39:[b,c],40:[m,c],41:[b,c],42:[b,c],43:[b,l],44:[b,l],45:[b,c],46:[b,l],47:[b,l],48:[b,c],49:[b,c],50:[b,l],51:[m,l],52:[b,l],53:[m,c],54:[b,l],55:[b,l],56:[m,c],57:[b,c],58:[b,l],59:[b,l],63:[b,l],68:[b,c],69:[b,c],70:[b,c],71:[b,c],72:[b,c],73:[b,l],74:[m,c],101:[b,l],102:[b,l],103:[b,c],104:[b,l],105:[b,l],106:[b,l],107:[b,l],108:[b,l],109:[b,l],110:[b,l],111:[b,c],112:[b,l],113:[b,c],114:[b,c],115:[b,c],116:[b,l],117:[b,l],118:[b,l],119:[b,c],120:[m,c],121:[b,l],122:[b,l],123:[b,l],124:[b,l],125:[b,l],126:[m,c],127:[b,l],128:[b,l],129:[b,l],130:[b,l],131:[b,c],132:[b,l],133:[b,l],134:[b,l],135:[b,l],136:[m,c],137:[b,l],138:[m,l],139:[b,c],140:[t,l],141:[b,c],142:[m,l],143:[b,l],144:[t,c],145:[t,l],146:[b,c],147:[m,l],148:[m,l],149:[m,l],150:[b,l],151:[b,c],152:[b,c],154:[b,c],155:[b,l],156:[m,c],157:[b,c],158:[b,l],159:[b,l],160:[m,c],161:[m,c],162:[b,r],163:[m,l],164:[m,l],165:[m,l],166:[m,l],167:[m,l],168:[m,c],169:[m,l],170:[m,l],171:[m,l],172:[m,l],173:[t,l],174:[m,l],175:[m,l],176:[m,l],177:[t,l],178:[m,l],179:[m,l],180:[t,l],181:[t,l],182:[m,l],183:[t,l],184:[b,c],185:[b,l],186:[m,r],192:[m,c],193:[b,c],194:[b,c],195:[b,c],196:[b,c],197:[b,c],198:[b,c],199:[b,c]};style_id=parseInt($("body").attr("id").replace(/[^0-9]+([0-9]+).*/,"$1"),10);if(alignments.hasOwnProperty(style_id)){align=alignments[style_id];$el=$("#header-wrap .layer-title");if($el.length===0){return}v=1;h=1;if(align[0]===b){v=0.9}else{if(align[0]===m){v=0.6}}if(align[1]===c){h=0.5}css={"margin-left":($el.width()*h)*-1,"margin-top":($el.height()*v)*-1};return $el.css(css)}}})}}).call(this);(function(){$.fn.fontFaceLoader=function(){var $context,api,checkFonts,fontList,fontLoaded,isFontLoaded,loadFonts,loadedEvent,waitForFonts;$context=$(this);if($context.data("fontFaceLoader")!=null){return $context.data("fontFaceLoader")}$context.data("fontFaceLoaderList",{});loadedEvent="FontFaceLoaded";fontLoaded=function(family){return $context.trigger(loadedEvent,[family])};fontList=function(){return $context.data("fontFaceLoaderList")};isFontLoaded=function(family){return(fontList()[family]!=null)&&fontList()[family].loaded};checkFonts=function(){var family,obj,_ref,_results;_ref=fontList();_results=[];for(family in _ref){obj=_ref[family];if(!obj.loaded){if(obj.el.width()!==obj.w||obj.el.height()!==obj.h){obj.loaded=true;_results.push(fontLoaded(family))}else{_results.push(void 0)}}else{_results.push(void 0)}}return _results};waitForFonts=function(){var $node,callback,checkThese,families,family,_i,_len;families=Array.prototype.slice.call(arguments,0);callback=typeof families[families.length-1]==="function"?families.pop():$.noop;for(_i=0,_len=families.length;_i<_len;_i++){family=families[_i];if(!fontList().hasOwnProperty(family)){$node=$("<span />").text("giItT1WQy@!-/#").css({position:"absolute",left:"-10000px",top:"-10000px",outline:"1px solid yellow",fontSize:"300px",fontFamily:"NotARealFontAtAll",fontVariant:"normal",fontStyle:"normal",fontWeight:"normal",letterSpacing:0});$context.find("body").append($node);fontList()[family]={el:$node,loaded:false,w:$node.width(),h:$node.height()};$node.css("font-family",family)}}checkThese=function(){var loaded,_j,_len1;checkFonts();loaded=0;for(_j=0,_len1=families.length;_j<_len1;_j++){family=families[_j];if(fontList()[family].loaded){loaded++}}if(loaded<families.length){return setTimeout(checkThese,50)}else{return callback()}};return checkThese()};loadFonts=function(families,callback){var family,stylesheet_url,toCheck;if(callback==null){callback=$.noop}toCheck=[];for(family in families){stylesheet_url=families[family];if(!isFontLoaded(family)&&stylesheet_url){if($("link[href='"+stylesheet_url+"']",$context).length===0){$("head",$context).append('<link rel="stylesheet" href="'+stylesheet_url+'" type="text/css" media="all" />')}toCheck.push(family)}}return waitForFonts.apply(null,toCheck.concat([callback]))};api={loadedEvent:loadedEvent,waitForFonts:waitForFonts,loadFonts:loadFonts};$context.data("fontFaceLoader",api);return api};$.fn.fontFaceLoader.defaults={}}).call(this);(function(){$.fn.textFit=function(max,debug,lastSize,reset){var $el,$inner,$measure,$ref,firstRun,getMax,getWidth,resizeText,setMeasureContent;if(max==null){max=null}if(debug==null){debug=false}if(lastSize==null){lastSize=null}if(reset==null){reset=false}$el=$(this);$inner=null;$ref=$el.closest(".text-fit");if(reset){$el.find(".measure").remove()}if($el.find(".measure").length!==0){if(typeof resizeText==="function"){resizeText()}return}if(lastSize!==null){lastSize=parseInt(lastSize,10)}$measure=$('<span class="measure"/>').css({whiteSpace:"nowrap",position:"fixed",top:(debug?0:"-9999px"),left:(debug?0:"-9999px"),display:(debug?"":"none"),maxWidth:"none",minWidth:"none",width:"auto"});getMax=function(){var attr,val;if(max===null){attr="data-max-font-size";val=$el.is("["+attr+"]")?$el.attr(attr):$el.css("font-size");return parseInt(val,10)}else{return max}};setMeasureContent=function(){var lines;lines=$.map($inner.html().split(/<br ?\/?>/),function(l){return $("<span/>").html(l).text()}).sort(function(a,b){return b.length-a.length});return $measure.text(lines[0])};resizeText=function(){var elPadAndMarg,size,targWidth;if($measure.text().length!==0){size=getMax();$el.css("font-size",lastSize||size);if(lastSize===null){if($ref.length){elPadAndMarg=$el.outerWidth(true)-$el.width();targWidth=Math.floor($ref.width()-elPadAndMarg)}else{targWidth=Math.floor($el.width())}$measure.css("font-size",size).show();while(Math.ceil(getWidth($measure)+1)>targWidth&&size>0){size-=1;$measure.css("font-size",size)}$el.css("font-size",size);if(!debug){$measure.hide()}}return lastSize=null}};getWidth=function($el){var rect;rect=$el[0].getBoundingClientRect();return rect.width||rect.right-rect.left};if($el.find(".inner").length===0){$el.wrapInner('<span class="inner" />')}$inner=$el.find(".inner");setMeasureContent();$el.append($measure);$el.on("contentChanged",function(e){e.preventDefault();setMeasureContent();return resizeText()});firstRun=function(){var events;resizeText();events="resize.resizeText orientationchange.resizeText";return $(window).off(events).on(events,resizeText)};firstRun();if(lastSize===null){return $(document).fontFaceLoader().waitForFonts($el.css("font-family"),function(){return setTimeout(resizeText,100)})}}}).call(this);
/*! A fix for the iOS orientationchange zoom bug.
 Script by @scottjehl, rebound by @wilto.
 MIT / GPLv2 License.
*/
//(function(w){var ua=navigator.userAgent;if(!(/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(ua)&&ua.indexOf("AppleWebKit")>-1)){return}var doc=w.document;if(!doc.querySelector){return}var meta=doc.querySelector("meta[name=viewport]"),initialContent=meta&&meta.getAttribute("content"),disabledZoom=initialContent+",maximum-scale=1",enabledZoom=initialContent+",maximum-scale=10",enabled=true,x,y,z,aig;if(!meta){return}function restoreZoom(){meta.setAttribute("content",enabledZoom);enabled=true}function disableZoom(){meta.setAttribute("content",disabledZoom);enabled=false}function checkTilt(e){aig=e.accelerationIncludingGravity;x=Math.abs(aig.x);y=Math.abs(aig.y);z=Math.abs(aig.z);if((!w.orientation||w.orientation===180)&&(x>7||((z>6&&y<8||z<8&&y>6)&&x>5))){if(enabled){disableZoom()}}else{if(!enabled){restoreZoom()}}}w.addEventListener("orientationchange",restoreZoom,false);w.addEventListener("devicemotion",checkTilt,false)})(this);(function(){var $nav,$navOrigBefore,$overlay,$root,toggleMobile,toggleNav;$root=null;$overlay=null;$nav=null;$navOrigBefore=null;toggleMobile=function(){var $body_viewport,isMobile;if(typeof window.matchMedia!=="function"){return}isMobile=window.matchMedia("only screen and (max-width: 767px)").matches;$body_viewport=$("body meta[name=viewport]");if($body_viewport.length&&$body_viewport.attr("content")&&$body_viewport.attr("content").match(/width=[0-9]+/)){return}if($("body").hasClass("mobile-view")&&!isMobile){toggleNav(false,0);$nav.css("left",0)}else{if(!$("body").hasClass("mobile-view")&&isMobile){$nav.css("left","-70%")}}$("head meta[name=viewport]").attr("content","width=device-width"+(isMobile?", initial-scale=1":""));if(!isMobile&&navigator.userAgent.match(/iPad/i)){$("head meta[name=viewport]").attr("content","width="+($("html").width()))}$("html,body").toggleClass("mobile-view",isMobile);$(".nav-bar").toggleClass("mobile",isMobile);$nav.toggleClass("non-mobile",!isMobile).toggleClass("mobile",isMobile);if(isMobile){$nav.prependTo("body")}else{$navOrigBefore.after($nav)}if(isMobile&&$("#mobile-header .project-name").length){return $("#mobile-header .project-name").textFit(45)}};toggleNav=function(show,dur){if(show==null){show=true}if(dur==null){dur=300}if($root.hasClass("intro-page")){return}if(show){$root.css("width",$root.width())}$root.animate({marginLeft:(show?"70%":0)},{duration:dur,queue:false,complete:function(){var lastY,nav;if(show){$overlay.show();lastY=null;nav=$("nav#main-nav")[0];$("body").on("touchstart.mobile-nav",function(e){return lastY=e.originalEvent.touches[0].clientY}).on("touchmove.mobile-nav",function(e){var currentY,diff;e.preventDefault();currentY=e.originalEvent.touches[0].clientY;diff=lastY-currentY;nav.scrollTop=nav.scrollTop+=diff;return lastY=currentY})}else{$root.css("width","auto");$overlay.hide();$("body").off("touchstart.mobile-nav touchmove.mobile-nav")}return $("body").toggleClass("mobile-nav-open",show)}});return $nav.animate({left:(show?"0":"-70%")},{duration:dur,queue:false})};$.onload.add(function(){if($("body").attr("id")==="custom"){return}$("nav.mobile").remove();$nav=$("nav#main-nav");$navOrigBefore=$("<span />");$navOrigBefore.insertBefore($nav);$root=$("#page-root");$overlay=$("#mobile-nav-open-site-overlay");if($overlay.length===0){$overlay=$('<div id="mobile-nav-open-site-overlay" />');$root.after($overlay);$overlay.on("click",function(){return toggleNav(false)})}$nav.data("left",$nav.css("left"));$root.data("margin-left",$nav.css("margin-left"));toggleMobile();$(window).off("resize.toggleMobile").on("resize.toggleMobile",toggleMobile);$("#mobile-header a").on("click",toggleNav).toggle($nav.length!==0);return $("#toggle-mobile-menu").on("click",toggleNav)});$(document).on("pjax:start",function(){if($("body").hasClass("mobile-nav-open")){return toggleNav(false)}})}).call(this);window.YT_ready=(function(){var onReady_funcs=[],api_isReady=false;return function(func,b_before){if(func===true){api_isReady=true;while(onReady_funcs.length){onReady_funcs.shift()()}}else{if(typeof func=="function"){if(api_isReady){func()}else{onReady_funcs[b_before?"unshift":"push"](func)}}}}})();function onYouTubePlayerAPIReady(){window.ytLoaded=true;window.YT_ready(true)}$.onload.add(function(){window.zoogleMedia=window.zoogleMedia||new ZoogleMedia();var registerYouTubeEvents=function(){var onPlayerStateChange=function(event){if(event.data==YT.PlayerState.PLAYING){window.zoogleMedia.setActive(event.target)}};$('iframe[src*="youtube.com/embed"]').each(function(i){var url=$(this).prop("src");if(url.match("^http://")){$(this).prop("src",url.replace(/^http:\/\//i,"https://"))}if(!$(this).attr("id")){var index=0;var tmp_id="yt-"+index;while(document.getElementById(tmp_id)){index++;tmp_id="yt-"+index}$(this).attr("id",tmp_id)}var p=new YT.Player($(this).attr("id"),{events:{onStateChange:onPlayerStateChange}});p.pause=function(){this.pauseVideo()};window.zoogleMedia.register(p)})};var has_video=($('iframe[src*="youtube.com/embed"]').length>0);if(has_video){if(!window.ytLoaded){(function(){var s=document.createElement("script");s.src=(location.protocol=="https:"?"https":"https")+"://www.youtube.com/player_api";var before=document.getElementsByTagName("script")[0];before.parentNode.insertBefore(s,before)})();window.YT_ready(registerYouTubeEvents)}else{registerYouTubeEvents()}}if(window.addEventListener){window.addEventListener("message",vimeoMessageReceived,false)}else{window.attachEvent("onmessage",vimeoMessageReceived,false)}function postToVimeo(player_id,msg){var target=$("#"+player_id).get(0);var url=$("#"+player_id).attr("src").split("?")[0];target.contentWindow.postMessage(JSON.stringify(msg),url)}function vimeoMessageReceived(e){if(typeof(e.data)==="undefined"||typeof(e.data)==="object"||(e.data&&e.data.match(/^_FB_/))){return}var data;try{data=JSON.parse(e.data)}catch(e){data={}}if(!data.player_id){return}if(data.event==="ready"){var msg={method:"addEventListener",value:"play"};postToVimeo(data.player_id,msg)}else{if(data.event==="play"){window.zoogleMedia.setActive($("#"+data.player_id).get(0))}}}$("iframe.vimeo-player").each(function(i){var me=$(this).get(0);me.pause=function(){var data={method:"pause"};postToVimeo($(this).attr("id"),data)};window.zoogleMedia.register(me)});$('iframe[src*="youtube.com/embed"],iframe.vimeo-player').wrap('<div class="video-container" />')});(function(){Modernizr.addTest("ios",function(){return/iPod|iPhone|iPad/i.test(navigator.userAgent)})}).call(this);(function(l,h){function V(V,la){function W(b){return c.preferFlash&&D&&!c.ignoreFlash&&c.flash[b]!==h&&c.flash[b]}function r(b){return function(c){var d=this._s;return !d||!d._a?null:b.call(this,c)}}this.setupOptions={url:V||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1000,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1,idPrefix:"sound"};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs\x3d"mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs\x3d"mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs\x3dvorbis"],required:!1},opus:{type:["audio/ogg; codecs\x3dopus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs\x3d"1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=la||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20130512";this.altURL=this.movieURL=this.version=null;this.enabled=this.swfLoaded=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.didFlashBlock=this.muted=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={};this.html5={usingFlash:null};this.flash={};this.ignoreFlash=this.html5Only=!1;var Ja,c=this,Ka=null,k=null,X,p=navigator.userAgent,La=l.location.href.toString(),n=document,ma,Ma,na,m,u=[],L=!1,M=!1,q=!1,x=!1,oa=!1,N,w,pa,Y,qa,E,F,G,Na,ra,Z,sa,$,ta,H,ua,O,va,aa,I,Oa,wa,Pa,xa,Qa,P=null,ya=null,Q,za,J,ba,ca,s,R=!1,Aa=!1,Ra,Sa,Ta,da=0,S=null,ea,Ua=[],fa,v=null,Va,ga,T,y,ha,Ba,Wa,t,fb=Array.prototype.slice,z=!1,Ca,D,Da,Xa,B,ia,Ya=0,U=p.match(/(ipad|iphone|ipod)/i),Za=p.match(/android/i),C=p.match(/msie/i),gb=p.match(/webkit/i),ja=p.match(/safari/i)&&!p.match(/chrome/i),Ea=p.match(/opera/i),hb=p.match(/firefox/i),Fa=p.match(/(mobile|pre\/|xoom)/i)||U||Za,$a=!La.match(/usehtml5audio/i)&&!La.match(/sm2\-ignorebadua/i)&&ja&&!p.match(/silk/i)&&p.match(/OS X 10_6_([3-7])/i),Ga=n.hasFocus!==h?n.hasFocus():null,ka=ja&&(n.hasFocus===h||!n.hasFocus()),ab=!ka,bb=/(mp3|mp4|mpa|m4a|m4b)/i,Ha=n.location?n.location.protocol.match(/http/i):null,cb=!Ha?"http://":"",db=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,eb="mpeg4 aac flv mov mp4 m4v f4v m4a m4b mp4v 3gp 3g2".split(" "),ib=RegExp("\\.("+eb.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!Ha;var Ia;try{Ia=Audio!==h&&(Ea&&opera!==h&&10>opera.version()?new Audio(null):new Audio).canPlayType!==h}catch(jb){Ia=!1}this.hasHTML5=Ia;this.setup=function(b){var e=!c.url;b!==h&&q&&v&&c.ok();pa(b);b&&(e&&(O&&b.url!==h)&&c.beginDelayedInit(),!O&&(b.url!==h&&"complete"===n.readyState)&&setTimeout(H,1));return c};this.supported=this.ok=function(){return v?q&&!x:c.useHTML5Audio&&c.hasHTML5};this.getMovie=function(b){return X(b)||n[b]||l[b]};this.createSound=function(b,e){function d(){a=ba(a);c.sounds[a.id]=new Ja(a);c.soundIDs.push(a.id);return c.sounds[a.id]}var a,f=null;if(!q||!c.ok()){return !1}e!==h&&(b={id:b,url:e});a=w(b);a.url=ea(a.url);void 0===a.id&&(a.id=c.setupOptions.idPrefix+Ya++);if(s(a.id,!0)){return c.sounds[a.id]}if(ga(a)){f=d(),f._setup_html5(a)}else{if(c.html5Only||c.html5.usingFlash&&a.url&&a.url.match(/data\:/i)){return d()}8<m&&null===a.isMovieStar&&(a.isMovieStar=!(!a.serverURL&&!(a.type&&a.type.match(db)||a.url&&a.url.match(ib))));a=ca(a,void 0);f=d();8===m?k._createSound(a.id,a.loops||1,a.usePolicyFile):(k._createSound(a.id,a.url,a.usePeakData,a.useWaveformData,a.useEQData,a.isMovieStar,a.isMovieStar?a.bufferTime:!1,a.loops||1,a.serverURL,a.duration||null,a.autoPlay,!0,a.autoLoad,a.usePolicyFile),a.serverURL||(f.connected=!0,a.onconnect&&a.onconnect.apply(f)));!a.serverURL&&(a.autoLoad||a.autoPlay)&&f.load(a)}!a.serverURL&&a.autoPlay&&f.play();return f};this.destroySound=function(b,e){if(!s(b)){return !1}var d=c.sounds[b],a;d._iO={};d.stop();d.unload();for(a=0;a<c.soundIDs.length;a++){if(c.soundIDs[a]===b){c.soundIDs.splice(a,1);break}}e||d.destruct(!0);delete c.sounds[b];return !0};this.load=function(b,e){return !s(b)?!1:c.sounds[b].load(e)};this.unload=function(b){return !s(b)?!1:c.sounds[b].unload()};this.onposition=this.onPosition=function(b,e,d,a){return !s(b)?!1:c.sounds[b].onposition(e,d,a)};this.clearOnPosition=function(b,e,d){return !s(b)?!1:c.sounds[b].clearOnPosition(e,d)};this.start=this.play=function(b,e){var d=null,a=e&&!(e instanceof Object);if(!q||!c.ok()){return !1}if(s(b,a)){a&&(e={url:e})}else{if(!a){return !1}a&&(e={url:e});e&&e.url&&(e.id=b,d=c.createSound(e).play())}null===d&&(d=c.sounds[b].play(e));return d};this.setPosition=function(b,e){return !s(b)?!1:c.sounds[b].setPosition(e)};this.stop=function(b){return !s(b)?!1:c.sounds[b].stop()};this.stopAll=function(){for(var b in c.sounds){c.sounds.hasOwnProperty(b)&&c.sounds[b].stop()}};this.pause=function(b){return !s(b)?!1:c.sounds[b].pause()};this.pauseAll=function(){var b;for(b=c.soundIDs.length-1;0<=b;b--){c.sounds[c.soundIDs[b]].pause()}};this.resume=function(b){return !s(b)?!1:c.sounds[b].resume()};this.resumeAll=function(){var b;for(b=c.soundIDs.length-1;0<=b;b--){c.sounds[c.soundIDs[b]].resume()}};this.togglePause=function(b){return !s(b)?!1:c.sounds[b].togglePause()};this.setPan=function(b,e){return !s(b)?!1:c.sounds[b].setPan(e)};this.setVolume=function(b,e){return !s(b)?!1:c.sounds[b].setVolume(e)};this.mute=function(b){var e=0;b instanceof String&&(b=null);if(b){return !s(b)?!1:c.sounds[b].mute()}for(e=c.soundIDs.length-1;0<=e;e--){c.sounds[c.soundIDs[e]].mute()}return c.muted=!0};this.muteAll=function(){c.mute()};this.unmute=function(b){b instanceof String&&(b=null);if(b){return !s(b)?!1:c.sounds[b].unmute()}for(b=c.soundIDs.length-1;0<=b;b--){c.sounds[c.soundIDs[b]].unmute()}c.muted=!1;return !0};this.unmuteAll=function(){c.unmute()};this.toggleMute=function(b){return !s(b)?!1:c.sounds[b].toggleMute()};this.getMemoryUse=function(){var b=0;k&&8!==m&&(b=parseInt(k._getMemoryUse(),10));return b};this.disable=function(b){var e;b===h&&(b=!1);if(x){return !1}x=!0;for(e=c.soundIDs.length-1;0<=e;e--){Pa(c.sounds[c.soundIDs[e]])}N(b);t.remove(l,"load",F);return !0};this.canPlayMIME=function(b){var e;c.hasHTML5&&(e=T({type:b}));!e&&v&&(e=b&&c.ok()?!!(8<m&&b.match(db)||b.match(c.mimePattern)):null);return e};this.canPlayURL=function(b){var e;c.hasHTML5&&(e=T({url:b}));!e&&v&&(e=b&&c.ok()?!!b.match(c.filePattern):null);return e};this.canPlayLink=function(b){return b.type!==h&&b.type&&c.canPlayMIME(b.type)?!0:c.canPlayURL(b.href)};this.getSoundById=function(b,e){return !b?null:c.sounds[b]};this.onready=function(b,c){if("function"===typeof b){c||(c=l),qa("onready",b,c),E()}else{throw Q("needFunction","onready")}return !0};this.ontimeout=function(b,c){if("function"===typeof b){c||(c=l),qa("ontimeout",b,c),E({type:"ontimeout"})}else{throw Q("needFunction","ontimeout")}return !0};this._wD=this._writeDebug=function(b,c){return !0};this._debug=function(){};this.reboot=function(b,e){var d,a,f;for(d=c.soundIDs.length-1;0<=d;d--){c.sounds[c.soundIDs[d]].destruct()}if(k){try{C&&(ya=k.innerHTML),P=k.parentNode.removeChild(k)}catch(h){}}ya=P=v=k=null;c.enabled=O=q=R=Aa=L=M=x=z=c.swfLoaded=!1;c.soundIDs=[];c.sounds={};Ya=0;if(b){u=[]}else{for(d in u){if(u.hasOwnProperty(d)){a=0;for(f=u[d].length;a<f;a++){u[d][a].fired=!1}}}}c.html5={usingFlash:null};c.flash={};c.html5Only=!1;c.ignoreFlash=!1;l.setTimeout(function(){ta();e||c.beginDelayedInit()},20);return c};this.reset=function(){return c.reboot(!0,!0)};this.getMoviePercent=function(){return k&&"PercentLoaded" in k?k.PercentLoaded():null};this.beginDelayedInit=function(){oa=!0;H();setTimeout(function(){if(Aa){return !1}aa();$();return Aa=!0},20);G()};this.destruct=function(){c.disable(!0)};Ja=function(b){var e,d,a=this,f,g,K,A,l,n,r=!1,p=[],q=0,v,x,u=null,y;d=e=null;this.sID=this.id=b.id;this.url=b.url;this._iO=this.instanceOptions=this.options=w(b);this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;y=this.url?!1:!0;this.id3={};this._debug=function(){};this.load=function(b){var e=null,d;b!==h?a._iO=w(b,a.options):(b=a.options,a._iO=b,u&&u!==a.url&&(a._iO.url=a.url,a.url=null));a._iO.url||(a._iO.url=a.url);a._iO.url=ea(a._iO.url);d=a.instanceOptions=a._iO;if(!d.url&&!a.url){return a}if(d.url===a.url&&0!==a.readyState&&2!==a.readyState){return 3===a.readyState&&d.onload&&ia(a,function(){d.onload.apply(a,[!!a.duration])}),a}a.loaded=!1;a.readyState=1;a.playState=0;a.id3={};if(ga(d)){e=a._setup_html5(d),e._called_load||(a._html5_canplay=!1,a.url!==d.url&&(a._a.src=d.url,a.setPosition(0)),a._a.autobuffer="auto",a._a.preload="auto",a._a._called_load=!0,d.autoPlay&&a.play())}else{if(c.html5Only||a._iO.url&&a._iO.url.match(/data\:/i)){return a}try{a.isHTML5=!1,a._iO=ca(ba(d)),d=a._iO,8===m?k._load(a.id,d.url,d.stream,d.autoPlay,d.usePolicyFile):k._load(a.id,d.url,!!d.stream,!!d.autoPlay,d.loops||1,!!d.autoLoad,d.usePolicyFile)}catch(f){I({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}a.url=d.url;return a};this.unload=function(){0!==a.readyState&&(a.isHTML5?(A(),a._a&&(a._a.pause(),u=ha(a._a))):8===m?k._unload(a.id,"about:blank"):k._unload(a.id),f());return a};this.destruct=function(b){a.isHTML5?(A(),a._a&&(a._a.pause(),ha(a._a),z||K(),a._a._s=null,a._a=null)):(a._iO.onfailure=null,k._destroySound(a.id));b||c.destroySound(a.id,!0)};this.start=this.play=function(b,e){var d,f,g,K,A;f=!0;f=null;e=e===h?!0:e;b||(b={});a.url&&(a._iO.url=a.url);a._iO=w(a._iO,a.options);a._iO=w(b,a._iO);a._iO.url=ea(a._iO.url);a.instanceOptions=a._iO;if(!a.isHTML5&&a._iO.serverURL&&!a.connected){return a.getAutoPlay()||a.setAutoPlay(!0),a}ga(a._iO)&&(a._setup_html5(a._iO),l());1===a.playState&&!a.paused&&(d=a._iO.multiShot,d||(a.isHTML5&&a.setPosition(a._iO.position),f=a));if(null!==f){return f}b.url&&b.url!==a.url&&(!a.readyState&&!a.isHTML5&&8===m&&y?y=!1:a.load(a._iO));a.loaded||(0===a.readyState?(!a.isHTML5&&!c.html5Only?(a._iO.autoPlay=!0,a.load(a._iO)):a.isHTML5?a.load(a._iO):f=a,a.instanceOptions=a._iO):2===a.readyState&&(f=a));if(null!==f){return f}!a.isHTML5&&(9===m&&0<a.position&&a.position===a.duration)&&(b.position=0);if(a.paused&&0<=a.position&&(!a._iO.serverURL||0<a.position)){a.resume()}else{a._iO=w(b,a._iO);if(null!==a._iO.from&&null!==a._iO.to&&0===a.instanceCount&&0===a.playState&&!a._iO.serverURL){d=function(){a._iO=w(b,a._iO);a.play(a._iO)};if(a.isHTML5&&!a._html5_canplay){a.load({oncanplay:d}),f=!1}else{if(!a.isHTML5&&!a.loaded&&(!a.readyState||2!==a.readyState)){a.load({onload:d}),f=!1}}if(null!==f){return f}a._iO=x()}(!a.instanceCount||a._iO.multiShotEvents||a.isHTML5&&a._iO.multiShot&&!z||!a.isHTML5&&8<m&&!a.getAutoPlay())&&a.instanceCount++;a._iO.onposition&&0===a.playState&&n(a);a.playState=1;a.paused=!1;a.position=a._iO.position!==h&&!isNaN(a._iO.position)?a._iO.position:0;a.isHTML5||(a._iO=ca(ba(a._iO)));a._iO.onplay&&e&&(a._iO.onplay.apply(a),r=!0);a.setVolume(a._iO.volume,!0);a.setPan(a._iO.pan,!0);a.isHTML5?2>a.instanceCount?(l(),f=a._setup_html5(),a.setPosition(a._iO.position),f.play()):(g=new Audio(a._iO.url),K=function(){t.remove(g,"onended",K);a._onfinish(a);ha(g);g=null},A=function(){t.remove(g,"canplay",A);try{g.currentTime=a._iO.position/1000}catch(b){}g.play()},t.add(g,"ended",K),a._iO.position?t.add(g,"canplay",A):g.play()):(f=k._start(a.id,a._iO.loops||1,9===m?a.position:a.position/1000,a._iO.multiShot||!1),9===m&&!f&&a._iO.onplayerror&&a._iO.onplayerror.apply(a))}return a};this.stop=function(b){var c=a._iO;1===a.playState&&(a._onbufferchange(0),a._resetOnPosition(0),a.paused=!1,a.isHTML5||(a.playState=0),v(),c.to&&a.clearOnPosition(c.to),a.isHTML5?a._a&&(b=a.position,a.setPosition(0),a.position=b,a._a.pause(),a.playState=0,a._onTimer(),A()):(k._stop(a.id,b),c.serverURL&&a.unload()),a.instanceCount=0,a._iO={},c.onstop&&c.onstop.apply(a));return a};this.setAutoPlay=function(b){a._iO.autoPlay=b;a.isHTML5||(k._setAutoPlay(a.id,b),b&&!a.instanceCount&&1===a.readyState&&a.instanceCount++)};this.getAutoPlay=function(){return a._iO.autoPlay};this.setPosition=function(b){b===h&&(b=0);var c=a.isHTML5?Math.max(b,0):Math.min(a.duration||a._iO.duration,Math.max(b,0));a.position=c;b=a.position/1000;a._resetOnPosition(a.position);a._iO.position=c;if(a.isHTML5){if(a._a){if(a._html5_canplay){if(a._a.currentTime!==b){try{a._a.currentTime=b,(0===a.playState||a.paused)&&a._a.pause()}catch(e){}}}else{if(b){return a}}a.paused&&a._onTimer(!0)}}else{b=9===m?a.position:b,a.readyState&&2!==a.readyState&&k._setPosition(a.id,b,a.paused||!a.playState,a._iO.multiShot)}return a};this.pause=function(b){if(a.paused||0===a.playState&&1!==a.readyState){return a}a.paused=!0;a.isHTML5?(a._setup_html5().pause(),A()):(b||b===h)&&k._pause(a.id,a._iO.multiShot);a._iO.onpause&&a._iO.onpause.apply(a);return a};this.resume=function(){var b=a._iO;if(!a.paused){return a}a.paused=!1;a.playState=1;a.isHTML5?(a._setup_html5().play(),l()):(b.isMovieStar&&!b.serverURL&&a.setPosition(a.position),k._pause(a.id,b.multiShot));!r&&b.onplay?(b.onplay.apply(a),r=!0):b.onresume&&b.onresume.apply(a);return a};this.togglePause=function(){if(0===a.playState){return a.play({position:9===m&&!a.isHTML5?a.position:a.position/1000}),a}a.paused?a.resume():a.pause();return a};this.setPan=function(b,c){b===h&&(b=0);c===h&&(c=!1);a.isHTML5||k._setPan(a.id,b);a._iO.pan=b;c||(a.pan=b,a.options.pan=b);return a};this.setVolume=function(b,e){b===h&&(b=100);e===h&&(e=!1);a.isHTML5?a._a&&(a._a.volume=Math.max(0,Math.min(1,b/100))):k._setVolume(a.id,c.muted&&!a.muted||a.muted?0:b);a._iO.volume=b;e||(a.volume=b,a.options.volume=b);return a};this.mute=function(){a.muted=!0;a.isHTML5?a._a&&(a._a.muted=!0):k._setVolume(a.id,0);return a};this.unmute=function(){a.muted=!1;var b=a._iO.volume!==h;a.isHTML5?a._a&&(a._a.muted=!1):k._setVolume(a.id,b?a._iO.volume:a.options.volume);return a};this.toggleMute=function(){return a.muted?a.unmute():a.mute()};this.onposition=this.onPosition=function(b,c,e){p.push({position:parseInt(b,10),method:c,scope:e!==h?e:a,fired:!1});return a};this.clearOnPosition=function(a,b){var c;a=parseInt(a,10);if(isNaN(a)){return !1}for(c=0;c<p.length;c++){if(a===p[c].position&&(!b||b===p[c].method)){p[c].fired&&q--,p.splice(c,1)}}};this._processOnPosition=function(){var b,c;b=p.length;if(!b||!a.playState||q>=b){return !1}for(b-=1;0<=b;b--){c=p[b],!c.fired&&a.position>=c.position&&(c.fired=!0,q++,c.method.apply(c.scope,[c.position]))}return !0};this._resetOnPosition=function(a){var b,c;b=p.length;if(!b){return !1}for(b-=1;0<=b;b--){c=p[b],c.fired&&a<=c.position&&(c.fired=!1,q--)}return !0};x=function(){var b=a._iO,c=b.from,e=b.to,d,f;f=function(){a.clearOnPosition(e,f);a.stop()};d=function(){if(null!==e&&!isNaN(e)){a.onPosition(e,f)}};null!==c&&!isNaN(c)&&(b.position=c,b.multiShot=!1,d());return b};n=function(){var b,c=a._iO.onposition;if(c){for(b in c){if(c.hasOwnProperty(b)){a.onPosition(parseInt(b,10),c[b])}}}};v=function(){var b,c=a._iO.onposition;if(c){for(b in c){c.hasOwnProperty(b)&&a.clearOnPosition(parseInt(b,10))}}};l=function(){a.isHTML5&&Ra(a)};A=function(){a.isHTML5&&Sa(a)};f=function(b){b||(p=[],q=0);r=!1;a._hasTimer=null;a._a=null;a._html5_canplay=!1;a.bytesLoaded=null;a.bytesTotal=null;a.duration=a._iO&&a._iO.duration?a._iO.duration:null;a.durationEstimate=null;a.buffered=[];a.eqData=[];a.eqData.left=[];a.eqData.right=[];a.failures=0;a.isBuffering=!1;a.instanceOptions={};a.instanceCount=0;a.loaded=!1;a.metadata={};a.readyState=0;a.muted=!1;a.paused=!1;a.peakData={left:0,right:0};a.waveformData={left:[],right:[]};a.playState=0;a.position=null;a.id3={}};f();this._onTimer=function(b){var c,f=!1,g={};if(a._hasTimer||b){if(a._a&&(b||(0<a.playState||1===a.readyState)&&!a.paused)){c=a._get_html5_duration(),c!==e&&(e=c,a.duration=c,f=!0),a.durationEstimate=a.duration,c=1000*a._a.currentTime||0,c!==d&&(d=c,f=!0),(f||b)&&a._whileplaying(c,g,g,g,g)}return f}};this._get_html5_duration=function(){var b=a._iO;return(b=a._a&&a._a.duration?1000*a._a.duration:b&&b.duration?b.duration:null)&&!isNaN(b)&&Infinity!==b?b:null};this._apply_loop=function(a,b){a.loop=1<b?"loop":""};this._setup_html5=function(b){b=w(a._iO,b);var c=z?Ka:a._a,e=decodeURI(b.url),d;z?e===decodeURI(Ca)&&(d=!0):e===decodeURI(u)&&(d=!0);if(c){if(c._s){if(z){c._s&&(c._s.playState&&!d)&&c._s.stop()}else{if(!z&&e===decodeURI(u)){return a._apply_loop(c,b.loops),c}}}d||(f(!1),c.src=b.url,Ca=u=a.url=b.url,c._called_load=!1)}else{a._a=b.autoLoad||b.autoPlay?new Audio(b.url):Ea&&10>opera.version()?new Audio(null):new Audio,c=a._a,c._called_load=!1,z&&(Ka=c)}a.isHTML5=!0;a._a=c;c._s=a;g();a._apply_loop(c,b.loops);b.autoLoad||b.autoPlay?a.load():(c.autobuffer=!1,c.preload="auto");return c};g=function(){if(a._a._added_events){return !1}var b;a._a._added_events=!0;for(b in B){B.hasOwnProperty(b)&&a._a&&a._a.addEventListener(b,B[b],!1)}return !0};K=function(){var b;a._a._added_events=!1;for(b in B){B.hasOwnProperty(b)&&a._a&&a._a.removeEventListener(b,B[b],!1)}};this._onload=function(b){var c=!!b||!a.isHTML5&&8===m&&a.duration;a.loaded=c;a.readyState=c?3:2;a._onbufferchange(0);a._iO.onload&&ia(a,function(){a._iO.onload.apply(a,[c])});return !0};this._onbufferchange=function(b){if(0===a.playState||b&&a.isBuffering||!b&&!a.isBuffering){return !1}a.isBuffering=1===b;a._iO.onbufferchange&&a._iO.onbufferchange.apply(a);return !0};this._onsuspend=function(){a._iO.onsuspend&&a._iO.onsuspend.apply(a);return !0};this._onfailure=function(b,c,e){a.failures++;if(a._iO.onfailure&&1===a.failures){a._iO.onfailure(a,b,c,e)}};this._onfinish=function(){var b=a._iO.onfinish;a._onbufferchange(0);a._resetOnPosition(0);a.instanceCount&&(a.instanceCount--,a.instanceCount||(v(),a.playState=0,a.paused=!1,a.instanceCount=0,a.instanceOptions={},a._iO={},A(),a.isHTML5&&(a.position=0)),(!a.instanceCount||a._iO.multiShotEvents)&&b&&ia(a,function(){b.apply(a)}))};this._whileloading=function(b,c,e,d){var f=a._iO;a.bytesLoaded=b;a.bytesTotal=c;a.duration=Math.floor(e);a.bufferLength=d;a.durationEstimate=!a.isHTML5&&!f.isMovieStar?f.duration?a.duration>f.duration?a.duration:f.duration:parseInt(a.bytesTotal/a.bytesLoaded*a.duration,10):a.duration;a.isHTML5||(a.buffered=[{start:0,end:a.duration}]);(3!==a.readyState||a.isHTML5)&&f.whileloading&&f.whileloading.apply(a)};this._whileplaying=function(b,c,e,d,f){var g=a._iO;if(isNaN(b)||null===b){return !1}a.position=Math.max(0,b);a._processOnPosition();!a.isHTML5&&8<m&&(g.usePeakData&&(c!==h&&c)&&(a.peakData={left:c.leftPeak,right:c.rightPeak}),g.useWaveformData&&(e!==h&&e)&&(a.waveformData={left:e.split(","),right:d.split(",")}),g.useEQData&&(f!==h&&f&&f.leftEQ)&&(b=f.leftEQ.split(","),a.eqData=b,a.eqData.left=b,f.rightEQ!==h&&f.rightEQ&&(a.eqData.right=f.rightEQ.split(","))));1===a.playState&&(!a.isHTML5&&(8===m&&!a.position&&a.isBuffering)&&a._onbufferchange(0),g.whileplaying&&g.whileplaying.apply(a));return !0};this._oncaptiondata=function(b){a.captiondata=b;a._iO.oncaptiondata&&a._iO.oncaptiondata.apply(a,[b])};this._onmetadata=function(b,c){var e={},d,f;d=0;for(f=b.length;d<f;d++){e[b[d]]=c[d]}a.metadata=e;a._iO.onmetadata&&a._iO.onmetadata.apply(a)};this._onid3=function(b,c){var e=[],d,f;d=0;for(f=b.length;d<f;d++){e[b[d]]=c[d]}a.id3=w(a.id3,e);a._iO.onid3&&a._iO.onid3.apply(a)};this._onconnect=function(b){b=1===b;if(a.connected=b){a.failures=0,s(a.id)&&(a.getAutoPlay()?a.play(h,a.getAutoPlay()):a._iO.autoLoad&&a.load()),a._iO.onconnect&&a._iO.onconnect.apply(a,[b])}};this._ondataerror=function(b){0<a.playState&&a._iO.ondataerror&&a._iO.ondataerror.apply(a)}};va=function(){return n.body||n._docElement||n.getElementsByTagName("div")[0]};X=function(b){return n.getElementById(b)};w=function(b,e){var d=b||{},a,f;a=e===h?c.defaultOptions:e;for(f in a){a.hasOwnProperty(f)&&d[f]===h&&(d[f]="object"!==typeof a[f]||null===a[f]?a[f]:w(d[f],a[f]))}return d};ia=function(b,c){!b.isHTML5&&8===m?l.setTimeout(c,0):c()};Y={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};pa=function(b,e){var d,a=!0,f=e!==h,g=c.setupOptions;for(d in b){if(b.hasOwnProperty(d)){if("object"!==typeof b[d]||null===b[d]||b[d] instanceof Array||b[d] instanceof RegExp){f&&Y[e]!==h?c[e][d]=b[d]:g[d]!==h?(c.setupOptions[d]=b[d],c[d]=b[d]):Y[d]===h?a=!1:c[d] instanceof Function?c[d].apply(c,b[d] instanceof Array?b[d]:[b[d]]):c[d]=b[d]}else{if(Y[d]===h){a=!1}else{return pa(b[d],d)}}}}return a};t=function(){function b(a){a=fb.call(a);var b=a.length;d?(a[1]="on"+a[1],3<b&&a.pop()):3===b&&a.push(!1);return a}function c(b,e){var h=b.shift(),k=[a[e]];if(d){h[k](b[0],b[1])}else{h[k].apply(h,b)}}var d=l.attachEvent,a={add:d?"attachEvent":"addEventListener",remove:d?"detachEvent":"removeEventListener"};return{add:function(){c(b(arguments),"add")},remove:function(){c(b(arguments),"remove")}}}();B={abort:r(function(){}),canplay:r(function(){var b=this._s,c;if(b._html5_canplay){return !0}b._html5_canplay=!0;b._onbufferchange(0);c=b._iO.position!==h&&!isNaN(b._iO.position)?b._iO.position/1000:null;if(b.position&&this.currentTime!==c){try{this.currentTime=c}catch(d){}}b._iO._oncanplay&&b._iO._oncanplay()}),canplaythrough:r(function(){var b=this._s;b.loaded||(b._onbufferchange(0),b._whileloading(b.bytesLoaded,b.bytesTotal,b._get_html5_duration()),b._onload(!0))}),ended:r(function(){this._s._onfinish()}),error:r(function(){this._s._onload(!1)}),loadeddata:r(function(){var b=this._s;!b._loaded&&!ja&&(b.duration=b._get_html5_duration())}),loadedmetadata:r(function(){}),loadstart:r(function(){this._s._onbufferchange(1)}),play:r(function(){this._s._onbufferchange(0)}),playing:r(function(){this._s._onbufferchange(0)}),progress:r(function(b){var c=this._s,d,a,f=0,f=b.target.buffered;d=b.loaded||0;var g=b.total||1;c.buffered=[];if(f&&f.length){d=0;for(a=f.length;d<a;d++){c.buffered.push({start:1000*f.start(d),end:1000*f.end(d)})}f=1000*(f.end(0)-f.start(0));d=Math.min(1,f/(1000*b.target.duration))}isNaN(d)||(c._onbufferchange(0),c._whileloading(d,g,c._get_html5_duration()),d&&(g&&d===g)&&B.canplaythrough.call(this,b))}),ratechange:r(function(){}),suspend:r(function(b){var c=this._s;B.progress.call(this,b);c._onsuspend()}),stalled:r(function(){}),timeupdate:r(function(){this._s._onTimer()}),waiting:r(function(){this._s._onbufferchange(1)})};ga=function(b){return !b||!b.type&&!b.url&&!b.serverURL?!1:b.serverURL||b.type&&W(b.type)?!1:b.type?T({type:b.type}):T({url:b.url})||c.html5Only||b.url.match(/data\:/i)};ha=function(b){var c;b&&(c=ja&&!U?null:hb?"about:blank":null,b.src=c,void 0!==b._called_unload&&(b._called_load=!1));z&&(Ca=null);return c};T=function(b){if(!c.useHTML5Audio||!c.hasHTML5){return !1}var e=b.url||null;b=b.type||null;var d=c.audioFormats,a;if(b&&c.html5[b]!==h){return c.html5[b]&&!W(b)}if(!y){y=[];for(a in d){d.hasOwnProperty(a)&&(y.push(a),d[a].related&&(y=y.concat(d[a].related)))}y=RegExp("\\.("+y.join("|")+")(\\?.*)?$","i")}a=e?e.toLowerCase().match(y):null;!a||!a.length?b&&(e=b.indexOf(";"),a=(-1!==e?b.substr(0,e):b).substr(6)):a=a[1];a&&c.html5[a]!==h?e=c.html5[a]&&!W(a):(b="audio/"+a,e=c.html5.canPlayType({type:b}),e=(c.html5[a]=e)&&c.html5[b]&&!W(b));return e};Wa=function(){function b(a){var b,d,f=b=!1;if(!e||"function"!==typeof e.canPlayType){return b}if(a instanceof Array){b=0;for(d=a.length;b<d;b++){if(c.html5[a[b]]||e.canPlayType(a[b]).match(c.html5Test)){f=!0,c.html5[a[b]]=!0,c.flash[a[b]]=!!a[b].match(bb)}}b=f}else{a=e&&"function"===typeof e.canPlayType?e.canPlayType(a):!1,b=!(!a||!a.match(c.html5Test))}return b}if(!c.useHTML5Audio||!c.hasHTML5){return v=c.html5.usingFlash=!0,!1}var e=Audio!==h?Ea&&10>opera.version()?new Audio(null):new Audio:null,d,a,f={},g;g=c.audioFormats;for(d in g){if(g.hasOwnProperty(d)&&(a="audio/"+d,f[d]=b(g[d].type),f[a]=f[d],d.match(bb)?(c.flash[d]=!0,c.flash[a]=!0):(c.flash[d]=!1,c.flash[a]=!1),g[d]&&g[d].related)){for(a=g[d].related.length-1;0<=a;a--){f["audio/"+g[d].related[a]]=f[d],c.html5[g[d].related[a]]=f[d],c.flash[g[d].related[a]]=f[d]}}}f.canPlayType=e?b:null;c.html5=w(c.html5,f);c.html5.usingFlash=Va();v=c.html5.usingFlash;return !0};sa={};Q=function(){};ba=function(b){8===m&&(1<b.loops&&b.stream)&&(b.stream=!1);return b};ca=function(b,c){if(b&&!b.usePolicyFile&&(b.onid3||b.usePeakData||b.useWaveformData||b.useEQData)){b.usePolicyFile=!0}return b};ma=function(){return !1};Pa=function(b){for(var c in b){b.hasOwnProperty(c)&&"function"===typeof b[c]&&(b[c]=ma)}};xa=function(b){b===h&&(b=!1);(x||b)&&c.disable(b)};Qa=function(b){var e=null;if(b){if(b.match(/\.swf(\?.*)?$/i)){if(e=b.substr(b.toLowerCase().lastIndexOf(".swf?")+4)){return b}}else{b.lastIndexOf("/")!==b.length-1&&(b+="/")}}b=(b&&-1!==b.lastIndexOf("/")?b.substr(0,b.lastIndexOf("/")+1):"./")+c.movieURL;c.noSWFCache&&(b+="?ts\x3d"+(new Date).getTime());return b};ra=function(){m=parseInt(c.flashVersion,10);8!==m&&9!==m&&(c.flashVersion=m=8);var b=c.debugMode||c.debugFlash?"_debug.swf":".swf";c.useHTML5Audio&&(!c.html5Only&&c.audioFormats.mp4.required&&9>m)&&(c.flashVersion=m=9);c.version=c.versionNumber+(c.html5Only?" (HTML5-only mode)":9===m?" (AS3/Flash 9)":" (AS2/Flash 8)");8<m?(c.defaultOptions=w(c.defaultOptions,c.flash9Options),c.features.buffering=!0,c.defaultOptions=w(c.defaultOptions,c.movieStarOptions),c.filePatterns.flash9=RegExp("\\.(mp3|"+eb.join("|")+")(\\?.*)?$","i"),c.features.movieStar=!0):c.features.movieStar=!1;c.filePattern=c.filePatterns[8!==m?"flash9":"flash8"];c.movieURL=(8===m?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",b);c.features.peakData=c.features.waveformData=c.features.eqData=8<m};Oa=function(b,c){if(!k){return !1}k._setPolling(b,c)};wa=function(){};s=this.getSoundById;J=function(){var b=[];c.debugMode&&b.push("sm2_debug");c.debugFlash&&b.push("flash_debug");c.useHighPerformance&&b.push("high_performance");return b.join(" ")};za=function(){Q("fbHandler");var b=c.getMoviePercent(),e={type:"FLASHBLOCK"};if(c.html5Only){return !1}c.ok()?c.oMC&&(c.oMC.className=[J(),"movieContainer","swf_loaded"+(c.didFlashBlock?" swf_unblocked":"")].join(" ")):(v&&(c.oMC.className=J()+" movieContainer "+(null===b?"swf_timedout":"swf_error")),c.didFlashBlock=!0,E({type:"ontimeout",ignoreInit:!0,error:e}),I(e))};qa=function(b,c,d){u[b]===h&&(u[b]=[]);u[b].push({method:c,scope:d||null,fired:!1})};E=function(b){b||(b={type:c.ok()?"onready":"ontimeout"});if(!q&&b&&!b.ignoreInit||"ontimeout"===b.type&&(c.ok()||x&&!b.ignoreInit)){return !1}var e={success:b&&b.ignoreInit?c.ok():!x},d=b&&b.type?u[b.type]||[]:[],a=[],f,e=[e],g=v&&!c.ok();b.error&&(e[0].error=b.error);b=0;for(f=d.length;b<f;b++){!0!==d[b].fired&&a.push(d[b])}if(a.length){b=0;for(f=a.length;b<f;b++){a[b].scope?a[b].method.apply(a[b].scope,e):a[b].method.apply(this,e),g||(a[b].fired=!0)}}return !0};F=function(){l.setTimeout(function(){c.useFlashBlock&&za();E();"function"===typeof c.onload&&c.onload.apply(l);c.waitForWindowLoad&&t.add(l,"load",F)},1)};Da=function(){if(D!==h){return D}var b=!1,c=navigator,d=c.plugins,a,f=l.ActiveXObject;if(d&&d.length){(c=c.mimeTypes)&&(c["application/x-shockwave-flash"]&&c["application/x-shockwave-flash"].enabledPlugin&&c["application/x-shockwave-flash"].enabledPlugin.description)&&(b=!0)}else{if(f!==h&&!p.match(/MSAppHost/i)){try{a=new f("ShockwaveFlash.ShockwaveFlash")}catch(g){a=null}b=!!a}}return D=b};Va=function(){var b,e,d=c.audioFormats;if(U&&p.match(/os (1|2|3_0|3_1)/i)){c.hasHTML5=!1,c.html5Only=!0,c.oMC&&(c.oMC.style.display="none")}else{if(c.useHTML5Audio&&(!c.html5||!c.html5.canPlayType)){c.hasHTML5=!1}}if(c.useHTML5Audio&&c.hasHTML5){for(e in fa=!0,d){if(d.hasOwnProperty(e)&&d[e].required){if(c.html5.canPlayType(d[e].type)){if(c.preferFlash&&(c.flash[e]||c.flash[d[e].type])){b=!0}}else{fa=!1,b=!0}}}}c.ignoreFlash&&(b=!1,fa=!0);c.html5Only=c.hasHTML5&&c.useHTML5Audio&&!b;return !c.html5Only};ea=function(b){var e,d,a=0;if(b instanceof Array){e=0;for(d=b.length;e<d;e++){if(b[e] instanceof Object){if(c.canPlayMIME(b[e].type)){a=e;break}}else{if(c.canPlayURL(b[e])){a=e;break}}}b[a].url&&(b[a]=b[a].url);b=b[a]}return b};Ra=function(b){b._hasTimer||(b._hasTimer=!0,!Fa&&c.html5PollingInterval&&(null===S&&0===da&&(S=setInterval(Ta,c.html5PollingInterval)),da++))};Sa=function(b){b._hasTimer&&(b._hasTimer=!1,!Fa&&c.html5PollingInterval&&da--)};Ta=function(){var b;if(null!==S&&!da){return clearInterval(S),S=null,!1}for(b=c.soundIDs.length-1;0<=b;b--){c.sounds[c.soundIDs[b]].isHTML5&&c.sounds[c.soundIDs[b]]._hasTimer&&c.sounds[c.soundIDs[b]]._onTimer()}};I=function(b){b=b!==h?b:{};"function"===typeof c.onerror&&c.onerror.apply(l,[{type:b.type!==h?b.type:null}]);b.fatal!==h&&b.fatal&&c.disable()};Xa=function(){if(!$a||!Da()){return !1}var b=c.audioFormats,e,d;for(d in b){if(b.hasOwnProperty(d)&&("mp3"===d||"mp4"===d)){if(c.html5[d]=!1,b[d]&&b[d].related){for(e=b[d].related.length-1;0<=e;e--){c.html5[b[d].related[e]]=!1}}}}};this._setSandboxType=function(b){};this._externalInterfaceOK=function(b){if(c.swfLoaded){return !1}c.swfLoaded=!0;ka=!1;$a&&Xa();setTimeout(na,C?100:1)};aa=function(b,e){function d(a,b){return'\x3cparam name\x3d"'+a+'" value\x3d"'+b+'" /\x3e'}if(L&&M){return !1}if(c.html5Only){return ra(),c.oMC=X(c.movieID),na(),M=L=!0,!1}var a=e||c.url,f=c.altURL||a,g=va(),k=J(),l=null,l=n.getElementsByTagName("html")[0],m,r,q,l=l&&l.dir&&l.dir.match(/rtl/i);b=b===h?c.id:b;ra();c.url=Qa(Ha?a:f);e=c.url;c.wmode=!c.wmode&&c.useHighPerformance?"transparent":c.wmode;if(null!==c.wmode&&(p.match(/msie 8/i)||!C&&!c.useHighPerformance)&&navigator.platform.match(/win32|win64/i)){Ua.push(sa.spcWmode),c.wmode=null}g={name:b,id:b,src:e,quality:"high",allowScriptAccess:c.allowScriptAccess,bgcolor:c.bgColor,pluginspage:cb+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:c.wmode,hasPriority:"true"};c.debugFlash&&(g.FlashVars="debug\x3d1");c.wmode||delete g.wmode;if(C){a=n.createElement("div"),r=['\x3cobject id\x3d"'+b+'" data\x3d"'+e+'" type\x3d"'+g.type+'" title\x3d"'+g.title+'" classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase\x3d"'+cb+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version\x3d6,0,40,0"\x3e',d("movie",e),d("AllowScriptAccess",c.allowScriptAccess),d("quality",g.quality),c.wmode?d("wmode",c.wmode):"",d("bgcolor",c.bgColor),d("hasPriority","true"),c.debugFlash?d("FlashVars",g.FlashVars):"","\x3c/object\x3e"].join("")}else{for(m in a=n.createElement("embed"),g){g.hasOwnProperty(m)&&a.setAttribute(m,g[m])}}wa();k=J();if(g=va()){if(c.oMC=X(c.movieID)||n.createElement("div"),c.oMC.id){q=c.oMC.className,c.oMC.className=(q?q+" ":"movieContainer")+(k?" "+k:""),c.oMC.appendChild(a),C&&(m=c.oMC.appendChild(n.createElement("div")),m.className="sm2-object-box",m.innerHTML=r),M=!0}else{c.oMC.id=c.movieID;c.oMC.className="movieContainer "+k;m=k=null;c.useFlashBlock||(c.useHighPerformance?k={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(k={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},l&&(k.left=Math.abs(parseInt(k.left,10))+"px")));gb&&(c.oMC.style.zIndex=10000);if(!c.debugFlash){for(q in k){k.hasOwnProperty(q)&&(c.oMC.style[q]=k[q])}}try{C||c.oMC.appendChild(a),g.appendChild(c.oMC),C&&(m=c.oMC.appendChild(n.createElement("div")),m.className="sm2-object-box",m.innerHTML=r),M=!0}catch(s){throw Error(Q("domError")+" \n"+s.toString())}}}return L=!0};$=function(){if(c.html5Only){return aa(),!1}if(k||!c.url){return !1}k=c.getMovie(c.id);k||(P?(C?c.oMC.innerHTML=ya:c.oMC.appendChild(P),P=null,L=!0):aa(c.id,c.url),k=c.getMovie(c.id));"function"===typeof c.oninitmovie&&setTimeout(c.oninitmovie,1);return !0};G=function(){setTimeout(Na,1000)};Na=function(){var b,e=!1;if(!c.url||R){return !1}R=!0;t.remove(l,"load",G);if(ka&&!Ga){return !1}q||(b=c.getMoviePercent(),0<b&&100>b&&(e=!0));setTimeout(function(){b=c.getMoviePercent();if(e){return R=!1,l.setTimeout(G,1),!1}!q&&ab&&(null===b?c.useFlashBlock||0===c.flashLoadTimeout?c.useFlashBlock&&za():!c.useFlashBlock&&fa?l.setTimeout(function(){c.setup({preferFlash:!1}).reboot();c.didFlashBlock=!0;c.beginDelayedInit()},1):E({type:"ontimeout",ignoreInit:!0}):0!==c.flashLoadTimeout&&xa(!0))},c.flashLoadTimeout)};Z=function(){if(Ga||!ka){return t.remove(l,"focus",Z),!0}Ga=ab=!0;R=!1;G();t.remove(l,"focus",Z);return !0};N=function(b){if(q){return !1}if(c.html5Only){return q=!0,F(),!0}var e=!0,d;if(!c.useFlashBlock||!c.flashLoadTimeout||c.getMoviePercent()){q=!0,x&&(d={type:!D&&v?"NO_FLASH":"INIT_TIMEOUT"})}if(x||b){c.useFlashBlock&&c.oMC&&(c.oMC.className=J()+" "+(null===c.getMoviePercent()?"swf_timedout":"swf_error")),E({type:"ontimeout",error:d,ignoreInit:!0}),I(d),e=!1}x||(c.waitForWindowLoad&&!oa?t.add(l,"load",F):F());return e};Ma=function(){var b,e=c.setupOptions;for(b in e){e.hasOwnProperty(b)&&(c[b]===h?c[b]=e[b]:c[b]!==e[b]&&(c.setupOptions[b]=c[b]))}};na=function(){if(q){return !1}if(c.html5Only){return q||(t.remove(l,"load",c.beginDelayedInit),c.enabled=!0,N()),!0}$();try{k._externalInterfaceTest(!1),Oa(!0,c.flashPollingInterval||(c.useHighPerformance?10:50)),c.debugMode||k._disableDebug(),c.enabled=!0,c.html5Only||t.add(l,"unload",ma)}catch(b){return I({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),xa(!0),N(),!1}N();t.remove(l,"load",c.beginDelayedInit);return !0};H=function(){if(O){return !1}O=!0;Ma();wa();!D&&c.hasHTML5&&c.setup({useHTML5Audio:!0,preferFlash:!1});Wa();!D&&v&&(Ua.push(sa.needFlash),c.setup({flashLoadTimeout:1}));n.removeEventListener&&n.removeEventListener("DOMContentLoaded",H,!1);$();return !0};Ba=function(){"complete"===n.readyState&&(H(),n.detachEvent("onreadystatechange",Ba));return !0};ua=function(){oa=!0;t.remove(l,"load",ua)};ta=function(){if(Fa&&(c.setupOptions.useHTML5Audio=!0,c.setupOptions.preferFlash=!1,U||Za&&!p.match(/android\s2\.3/i))){U&&(c.ignoreFlash=!0),z=!0}};ta();Da();t.add(l,"focus",Z);t.add(l,"load",G);t.add(l,"load",ua);n.addEventListener?n.addEventListener("DOMContentLoaded",H,!1):n.attachEvent?n.attachEvent("onreadystatechange",Ba):I({type:"NO_DOM2_EVENTS",fatal:!0})}var la=null;if(void 0===l.SM2_DEFER||!SM2_DEFER){la=new V}l.SoundManager=V;l.soundManager=la})(window);$.media=(function($){$(function(){initZoogleMedia();initSoundManager()});var initZoogleMedia=function(){if(window.zoogleMedia){return}window.zoogleMedia=new ZoogleMedia()};var initSoundManager=function(){window.soundManager.setup({url:"/flash/vendor/soundmanager/",preferFlash:false,flashVersion:9,useHTML5Audio:true,waitForWindowLoad:true,onready:function(){window.SOUND_MANAGER_LOADED=true;$(".mediaPlayer").trigger("ready.media")},ontimeout:function(){$("a.play,a.play-button").attr("href","#").on("click",function(e){e.preventDefault()})}})};var registerEventHandlers=function(target){target.pause=function(){var t=$(target).data("currentTrack");if(t){t.pause()}}};$.fn.registerMediaPlayer=function(){initZoogleMedia();initSoundManager();result=this.each(function(idx,p){var do_register=typeof($(p).data("media-player-registered"))==="undefined";if(do_register){window.zoogleMedia.register(p);var $p=$(p);$p.addClass("mediaPlayer").data("currentTrack",null);registerEventHandlers(p);if(window.SOUND_MANAGER_LOADED){$p.trigger("ready.media")}$p.data("media-player-registered",true)}});return result};$.fn.createSounds=function(player){var $player=$(player).get(0);window.zoogleStats=window.zoogleStats||{};if(window.SOUND_MANAGER_LOADED!==true){return}var fireEvent=function(el,eventType,sound){var data={sound:sound,type:eventType+".media"};$(el).trigger(data)};return this.each(function(idx,el){var sound;var $el=$(el);var url=$el.data("dest");if(typeof($el.data("playable"))==="undefined"){if(typeof(url)==="undefined"){url=el.href}sound=window.soundManager.createSound({id:"playable"+$.media.count++,url:url,type:"audio/mp3",whileplaying:function(){fireEvent(el,"whileplaying",this)},onplay:function(){window.zoogleMedia.setActive($player);if($el.data("category")){var params={title:$el.data("title"),type:$el.data("category")};$(window.zoogleStats).trigger("Play",params)}fireEvent(el,"play",this)},onresume:function(){window.zoogleMedia.setActive($player);fireEvent(el,"play",this)},onpause:function(){fireEvent(el,"pause",this)},onfinish:function(){if($el.data("category")!=="Previews"){var params={title:$el.data("title"),type:$el.data("category")};$(window.zoogleStats).trigger("Finish",params)}fireEvent(el,"finish",this)}});sound.parent=el;$el.data({playable:sound,player:$player})}})};var methods={toggle:function(soundEl){var $soundEl=$(soundEl),sound=$soundEl.data("playable"),p=$soundEl.data("player"),$p=$(p);window.zoogleMedia.setActive(p);var _current=$p.data("currentTrack");if(sound===_current){if(_current.position===0&&_current.readyState===3){_current.play()}else{if(_current.position>=_current.duration&&_current.readyState!==1){_current.setPosition(0)}else{if(_current.paused){_current.resume()}else{_current.pause()}}}}else{window.soundManager.pauseAll();if(_current){var params={title:_current.title,type:_current.category,position:_current.position,duration:_current.duration};$(window.zoogleStats).trigger("Skip",params)}_current=sound;_current.title=$soundEl.data("title");_current.category=$soundEl.data("category");_current.setPosition(0);_current.play()}$p.data("currentTrack",_current);return !_current.paused},formatTime:function(ms){var ns=Math.floor(ms/1000),m=Math.floor(ns/60),s=ns-m*60;return m+":"+(s<10?"0"+s:s)},count:0};return methods}(jQuery));(function(){$.fn.extend({marquee:function(){return this.each(function(){var $el,animSpeed,boxWidth,t,textWidth;$el=$(this);t=$(this.cloneNode(true)).hide().css({position:"absolute",overflow:"visible"}).width("auto").height($el.height());$el.after(t);textWidth=t.width();boxWidth=$el.width();t.remove();if(textWidth>boxWidth){animSpeed=(textWidth-boxWidth)*50;return $(this).animate({dummy:1},500).animate({scrollLeft:textWidth-boxWidth+20},animSpeed).animate({scrollLeft:-20},animSpeed/2,function(){return $el.marquee()})}})}})}).call(this);(function(){var _ref,_ref1,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key)){child[key]=parent[key]}}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor();child.__super__=parent.prototype;return child};$.ZoogleMusicPlayerTrack=(function(_super){__extends(ZoogleMusicPlayerTrack,_super);function ZoogleMusicPlayerTrack(){_ref=ZoogleMusicPlayerTrack.__super__.constructor.apply(this,arguments);return _ref}ZoogleMusicPlayerTrack.vivify();ZoogleMusicPlayerTrack.prototype.initialize=function(player,debug){if(debug==null){debug=true}if(debug){console.log("Initializing ZoogleMusicPlayerTrack on",this)}return this.createSounds(player).on("whileplaying.media",function(e){var pct;pct=Math.ceil(e.sound.position/e.sound.durationEstimate*100);player.updateProgress(e.sound.position,pct);return player.updatePosition(e.sound)}).on("pause.media",function(e){if(debug){console.log("pause.media",e,e.sound)}player.paused();return player.updatePlayState(false)}).on("play.media",function(e){if(debug){console.log("play.media",e,e.sound)}return player.playing(e.sound,this)}).on("finish.media",function(e){if(debug){console.log("finish.media",e,e.sound)}return player.afterTrackFinish()}).on("click",function(e){if(debug){console.log("on track click",this)}e.preventDefault();return $.media.toggle($(this))})};return ZoogleMusicPlayerTrack})($.Vivified);$.ZoogleMusicPlayer=(function(_super){__extends(ZoogleMusicPlayer,_super);function ZoogleMusicPlayer(){_ref1=ZoogleMusicPlayer.__super__.constructor.apply(this,arguments);return _ref1}ZoogleMusicPlayer.vivify();ZoogleMusicPlayer.prototype.initialize=function(debug){var _self,_this=this;if(debug==null){debug=true}_self=this;this.debug=debug;this.currentTrack=null;this.loopPlaylist=this.data("loopPlaylist")||false;this.shuffle=this.data("shuffle")||false;this.parentStyle=this.find(".track-list").get(0).tagName==="TABLE"?"tr":"li";this.storePosition=this.parent().hasClass("display-swmp");this.ready=false;if(debug){console.log("Initializing ZoogleMusicPlayer on",this)}this.on("ready.media",function(){if(_self.debug){console.log("Handling ready.media for",_this)}$("a.play",_self).vivify($.ZoogleMusicPlayerTrack,_self,debug);if(!$(_this).hasClass("ready")){$(_this).addClass("ready");if(_this.parent().hasClass("display-swmp")){_self.restoreState()}_self.on("click","a.previous-button",function(e){if(debug){console.log("prev click")}e.preventDefault();return _self.switchToTrack(_self.previousTrack())}).on("click","a.next-button",function(e){if(debug){console.log("next click")}e.preventDefault();return _self.switchToTrack(_self.nextTrack())}).on("click","a.play-button",function(e){if(debug){console.log("play click")}e.preventDefault();return _self.switchToTrack(_self.currentTrackLink(true),false)}).on("click",".progress",function(e){var offsetX;if(debug){console.log("progress click")}e.preventDefault();offsetX=e.offsetX||e.clientX-$(e.target).offset().left;return _self.seekTo(offsetX/$(this).width())}).on("click","a.share-link",function(e){if(debug){console.log("share click",e.target)}e.preventDefault();return _self.toggleClass("sharing",!$(e.target).hasClass("close"))}).on("click",".track-title a",function(){$(this).parents("li").find("a.play").click();return false}).on("click","a.toggle-info",function(e){if(debug){console.log("toggle info click",e.target)}e.preventDefault();return _self.toggleTrackInfo($(e.target))});return _self.ready=true}});this._alignDisplay();this.registerMediaPlayer();return this.updateTrackDisplay(this.find("a.play:first"),false)};ZoogleMusicPlayer.prototype.playing=function(soundObj,$track){if(this.currentTrack!==soundObj){this.currentTrack=soundObj;this._clearCurrentTrack();this.updateTrackDisplay($track)}return this.setUIState("playing")};ZoogleMusicPlayer.prototype.paused=function(){return this.setUIState("paused")};ZoogleMusicPlayer.prototype.deactivate=function(){return this.setUIState("inactive")};ZoogleMusicPlayer.prototype.afterTrackFinish=function(){if(this.loopPlaylist){return this.switchToTrack(this.nextTrack(),true)}else{return this.resetCurrentTrack()}};ZoogleMusicPlayer.prototype._currentTrackLink=function(){return this.find(this.parentStyle+".current a.play")};ZoogleMusicPlayer.prototype.currentTrackLink=function(firstIfNotActive){var c;if(firstIfNotActive==null){firstIfNotActive=false}c=this._currentTrackLink();if(c.length===0&&firstIfNotActive){if(this.shuffle){c=this._seekTrack()}else{c=this.find("a.play:first")}}return c};ZoogleMusicPlayer.prototype._seekTrack=function(dir){var rand,targ,tracks;if(dir==null){dir="prev"}if(this.shuffle){tracks=this.find("li:not(.current) a.play");rand=Math.floor(Math.random()*tracks.length);targ=this.find("li:not(.current) a.play:eq("+rand+")")}else{targ=this.currentTrackLink().closest(this.parentStyle)[dir]().find("a.play")}if(targ.length===0){targ=this.find("a.play:"+(dir==="prev"?"last":"first"))}return targ};ZoogleMusicPlayer.prototype.previousTrack=function(){return this._seekTrack("prev")};ZoogleMusicPlayer.prototype.nextTrack=function(){return this._seekTrack("next")};ZoogleMusicPlayer.prototype.resetCurrentTrack=function(){this._clearCurrentTrack();if(this.currentTrack){this.currentTrack.stop();this.currentTrack.setPosition(0);return this.currentTrack=null}};ZoogleMusicPlayer.prototype.switchToTrack=function($target){var dispNeedsUpdating;if(this.debug){console.log("switch to track",$target)}dispNeedsUpdating=this.currentTrackLink().get(0)===$target.get(0)?false:true;if(dispNeedsUpdating){this.updateTrackDisplay($target)}return $target.trigger("click")};ZoogleMusicPlayer.prototype.seekTo=function(p){var durationToUse;if(this.currentTrack){if(this.currentTrack.bytesTotal>this.currentTrack.bytesLoaded){durationToUse=this.currentTrack.durationEstimate}else{durationToUse=this.currentTrack.duration}return this.seekToAbs(p*durationToUse)}};ZoogleMusicPlayer.prototype.seekToAbs=function(p){if(!this.currentTrack){return}return this.currentTrack.setPosition(p)};ZoogleMusicPlayer.prototype.restoreState=function(){var snd;if(!$.cookie("swmpTrack")){return}this.switchToTrack(this.find("a[data-dest='"+$.cookie("swmpTrack")+"']"));this.seekToAbs($.cookie("swmpPosition"));if($.cookie("swmpPlaying")!=="true"){snd=this.find("a[data-dest='"+$.cookie("swmpTrack")+"']").data("playable");if(typeof snd!=="undefined"){snd.pause()}return this.paused()}};ZoogleMusicPlayer.prototype.trackData=function($t){var $details,data,title;if(this.parentStyle==="tr"){$details=$t.closest(this.parentStyle).find("td.track-details");data={title:$(".title",$details).html(),artist:$(".artist",$details).html(),duration:$(".duration",$details).html()}}else{title=$t.data("title");if(typeof title==="undefined"||title===null){title=$t.html()}data={title:title,artist:$t.data("artist"),duration:$t.data("duration")}}return data};ZoogleMusicPlayer.prototype.updateTrackDisplay=function(t,setCurrent){var $par,$t,data;if(setCurrent==null){setCurrent=true}$t=$(t);data=this.trackData($t);this.find(".player .title").html(data.title);this.find(".marquee").marquee();this.find(".player .artist").html(data.artist?'by <span class="text-secondary">'+data.artist+"</span>":"&nbsp;");this.find(".player .progress .duration").html(data.duration);this.find(".progress .cur").html($.media.formatTime(0));$par=$t.parents(this.parentStyle);this.find(".player .track .action").html($par.find(".track-action").html());this.find(".player .track .share .links").html($par.find(".share").html());if(setCurrent){this._clearCurrentTrack();return $t.closest(this.parentStyle).addClass("current")}};ZoogleMusicPlayer.prototype.updateProgress=function(position,percentage){this.removeClass("loading");this.find(".player .progress .cur, .current .progress .cur").html($.media.formatTime(position));return this.find(".player .progress .position, .current .progress .position").css("width",Math.min(100,percentage)+"%")};ZoogleMusicPlayer.prototype.cookieOpts=function(){var date,minutes;date=new Date();minutes=5;date.setTime(date.getTime()+(minutes*60*1000));return{expires:date}};ZoogleMusicPlayer.prototype.updatePosition=function(sound){if(!this.storePosition){return}$.cookie("swmpPosition",sound.position,this.cookieOpts());$.cookie("swmpTrack",this.find(".current a").data("dest"),this.cookieOpts());return $.cookie("swmpPlaying",true,this.cookieOpts())};ZoogleMusicPlayer.prototype.updatePlayState=function(playing){if(!this.storePosition){return}return $.cookie("swmpPlaying",playing,this.cookieOpts())};ZoogleMusicPlayer.prototype.setUIState=function(state){var paused,playing;playing=state==="playing";paused=state==="paused";if(playing){this.addClass("loading")}return this.toggleClass("paused",paused).toggleClass("playing",playing)};ZoogleMusicPlayer.prototype.toggleTrackInfo=function($link){return $link.closest(this.parentStyle).toggleClass("show-info")};ZoogleMusicPlayer.prototype._alignDisplay=function(){var maxActionWidth;maxActionWidth=0;this.find(".track-action").each(function(){var $act;$act=$(this);if($.trim($act.text())!==""){return maxActionWidth=Math.max(maxActionWidth,$act.outerWidth())}});if(maxActionWidth!==0){this.find(".toggle-info").css({position:"absolute",right:maxActionWidth+"px"})}return this.find(".track-list>li").each(function(){var $action,$dur,$info,$li,$title,left,margin,maxW,pos;$li=$(this);if(!$li.is(":visible")){return}$title=$(".track-title .text-main",$li);$dur=$(".duration",$li);$action=$(".track-action",$li);$info=$(".toggle-info",$li);margin=$dur.outerWidth()+$action.outerWidth(true)+$info.outerWidth(true);pos=$title.position();left=pos!=null?pos.left:0;maxW=$li.width()-(left+margin+15);return $title.attr("title",$.trim($title.text())).css({maxWidth:maxW+"px"})})};ZoogleMusicPlayer.prototype._clearCurrentTrack=function(){this.find(".progress .position").css("width","0%");return this.find(this.parentStyle+".current").removeClass("current")};return ZoogleMusicPlayer})($.Vivified);$.initZoogleMusicPlayers=function(debug){var autoStartPlayer;if(debug==null){debug=false}$(".zoogle-music-player").vivify($.ZoogleMusicPlayer,debug);autoStartPlayer=function(){var t;if($("html").is(".preview")){return}if($(".zoogle-music-player:not(.ready)").length>0){setTimeout(autoStartPlayer,100);return}if($.cookie("swmpPlaying")===true){$(".music-player.display-swmp").data("autostart",true)}t=$(".zoogle-music-player[data-autostart=true]");if(t.length===0&&window.location.href.indexOf("autostart=true")>0){$(".zoogle-music-player:first").attr("data-autostart",true);t=$(".zoogle-music-player")}if(t.length===0||$(".zoogle-music-player.playing").length>0||$(".zoogle-music-player.paused").length>0){return}t=$(".zoogle-music-player[data-autostart=true]:first").click();if(t){return $("a.play-button",t).click()}};return setTimeout(autoStartPlayer,100)}}).call(this);(function(){$.onload.add(function(){return $.initZoogleMusicPlayers()})}).call(this);(function(){var ZoogleNav;$(function(){var _this=this;if($("html").hasClass("no-csstransforms")){$("#main-nav.non-mobile .horizontal ul").each(function(){var $ul;$ul=$(this);return $ul.css("margin-left",($ul.width()/2)*-1)})}$("body").on("click","#main-nav .nolink",function(e){e.preventDefault();return false});return $("#main-nav.non-mobile ul ul").each(function(){var $par,$ul;$ul=$(this);$par=$ul.closest("li");return $par.on("mouseover",function(){var left,right,trans,winWidth;left=$ul.offset().left;right=left+$ul.width();winWidth=$(window).width();if(left<0||right>winWidth){trans=(left<0?left:right-winWidth)*-1;return $("li",$ul).css("transform","translate("+trans+"px)")}})})});ZoogleNav=(function(){var _this=this;function ZoogleNav(){}ZoogleNav.resizeAttached=false;ZoogleNav.onload=function(){return ZoogleNav.selectCurrentPage()};ZoogleNav.selectCurrentPage=function(){var $items,page;page=window.location.pathname.replace(/^\//,"").split("/")[0];$items=$("#main-nav li.top").removeClass("selected");return $('a[href$="'+page+'"]').closest("li.top").addClass("selected")};return ZoogleNav}).call(this);$.onload.add(function(){return ZoogleNav.onload()})}).call(this);(function($,window,document,Math,undefined){var div=$("<div>")[0],rsrc=/url\(["']?(.*?)["']?\)/,watched=[],positions={top:0,left:0,bottom:1,right:1,center:0.5};if("backgroundSize" in div.style&&!$.debugBGS){return}$.cssHooks.backgroundSize={set:function(elem,value){var firstTime=!$.data(elem,"bgsImg"),pos,$wrapper,$img;$.data(elem,"bgsValue",value);if(firstTime){watched.push(elem);$.refreshBackgroundDimensions(elem,true);$wrapper=$("<div>").css({position:"absolute",zIndex:-1,top:0,right:0,left:0,bottom:0,overflow:"hidden"});$img=$("<img>").css({position:"absolute"}).appendTo($wrapper),$wrapper.prependTo(elem);$.data(elem,"bgsImg",$img[0]);pos=($.css(elem,"backgroundPosition")||$.css(elem,"backgroundPositionX")+" "+$.css(elem,"backgroundPositionY")).split(" ");$.data(elem,"bgsPos",[positions[pos[0]]||parseFloat(pos[0])/100,positions[pos[1]]||parseFloat(pos[1])/100]);$.css(elem,"zIndex")=="auto"&&(elem.style.zIndex=0);$.css(elem,"position")=="static"&&(elem.style.position="relative");$.refreshBackgroundImage(elem)}else{$.refreshBackground(elem)}},get:function(elem){return $.data(elem,"bgsValue")||""}};$.cssHooks.backgroundImage={set:function(elem,value){return $.data(elem,"bgsImg")?$.refreshBackgroundImage(elem,value):value}};$.refreshBackgroundDimensions=function(elem,noBgRefresh){var $elem=$(elem),currDim={width:$elem.innerWidth(),height:$elem.innerHeight()},prevDim=$.data(elem,"bgsDim"),changed=!prevDim||currDim.width!=prevDim.width||currDim.height!=prevDim.height;$.data(elem,"bgsDim",currDim);if(changed&&!noBgRefresh){$.refreshBackground(elem)}};$.refreshBackgroundImage=function(elem,value){var img=$.data(elem,"bgsImg"),currSrc=(rsrc.exec(value||$.css(elem,"backgroundImage"))||[])[1],prevSrc=img&&img.src,changed=currSrc!=prevSrc,imgWidth,imgHeight;if(changed){img.style.height=img.style.width="auto";img.onload=function(){var dim={width:img.width,height:img.height};if(dim.width==1&&dim.height==1){return}$.data(elem,"bgsImgDim",dim);$.data(elem,"bgsConstrain",false);$.refreshBackground(elem);img.style.visibility="visible";img.onload=null};img.style.visibility="hidden";img.src=currSrc;if(img.readyState||img.complete){img.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";img.src=currSrc}elem.style.backgroundImage="none"}};$.refreshBackground=function(elem){var value=$.data(elem,"bgsValue"),elemDim=$.data(elem,"bgsDim"),imgDim=$.data(elem,"bgsImgDim"),$img=$($.data(elem,"bgsImg")),pos=$.data(elem,"bgsPos"),prevConstrain=$.data(elem,"bgsConstrain"),currConstrain,elemRatio=elemDim.width/elemDim.height,imgRatio=imgDim.width/imgDim.height,delta;if(value=="contain"){if(imgRatio>elemRatio){$.data(elem,"bgsConstrain",(currConstrain="width"));delta=Math.floor((elemDim.height-elemDim.width/imgRatio)*pos[1]);$img.css({top:delta});if(currConstrain!=prevConstrain){$img.css({width:"100%",height:"auto",left:0})}}else{$.data(elem,"bgsConstrain",(currConstrain="height"));delta=Math.floor((elemDim.width-elemDim.height*imgRatio)*pos[0]);$img.css({left:delta});if(currConstrain!=prevConstrain){$img.css({height:"100%",width:"auto",top:0})}}}else{if(value=="cover"){if(imgRatio>elemRatio){$.data(elem,"bgsConstrain",(currConstrain="height"));delta=Math.floor((elemDim.height*imgRatio-elemDim.width)*pos[0]);$img.css({left:-delta});if(currConstrain!=prevConstrain){$img.css({height:"100%",width:"auto",top:0})}}else{$.data(elem,"bgsConstrain",(currConstrain="width"));delta=Math.floor((elemDim.width/imgRatio-elemDim.height)*pos[1]);$img.css({top:-delta});if(currConstrain!=prevConstrain){$img.css({width:"100%",height:"auto",left:0})}}}}};var $event=$.event,$special,dummy={_:0},frame=0,wasResized,animRunning;$special=$event.special.throttledresize={setup:function(){$(this).on("resize",$special.handler)},teardown:function(){$(this).off("resize",$special.handler)},handler:function(event,execAsap){var context=this,args=arguments;wasResized=true;if(!animRunning){$(dummy).animate(dummy,{duration:Infinity,step:function(){frame++;if(frame>$special.threshold&&wasResized||execAsap){event.type="throttledresize";$event.dispatch.apply(context,args);wasResized=false;frame=0}if(frame>9){$(dummy).stop();animRunning=false;frame=0}}});animRunning=true}},threshold:1};$(window).on("throttledresize",function(){$(watched).each(function(){$.refreshBackgroundDimensions(this)})})})(jQuery,window,document,Math);(function(){$.onload.add(function(){if(!$("html").hasClass("no-backgroundsize")){return}return $(".page-photo-background").each(function(){return $(this).css("background-size","cover")})})}).call(this);(function($){function fnPjax(selector,container,options){var context=this;return this.on("click.pjax",selector,function(event){var opts=$.extend({},optionsFor(container,options));if(!opts.container){opts.container=$(this).attr("data-pjax")||context}handleClick(event,opts)})}function handleClick(event,container,options){options=optionsFor(container,options);var link=event.currentTarget;if(link.tagName.toUpperCase()!=="A"){throw"$.fn.pjax or $.pjax.click requires an anchor element"}if(event.which>1||event.metaKey||event.ctrlKey||event.shiftKey||event.altKey){return}if(location.protocol!==link.protocol||location.hostname!==link.hostname){return}if(link.hash&&link.href.replace(link.hash,"")===location.href.replace(location.hash,"")){return}if(link.href===location.href+"#"){return}var defaults={url:link.href,container:$(link).attr("data-pjax"),target:link,fragment:null};var opts=$.extend({},defaults,options);var clickEvent=$.Event("pjax:click");$(link).trigger(clickEvent,[opts]);if(!clickEvent.isDefaultPrevented()){pjax(opts);event.preventDefault()}}function handleSubmit(event,container,options){options=optionsFor(container,options);var form=event.currentTarget;if(form.tagName.toUpperCase()!=="FORM"){throw"$.pjax.submit requires a form element"}var defaults={type:form.method.toUpperCase(),url:form.action,data:$(form).serializeArray(),container:$(form).attr("data-pjax"),target:form,fragment:null};pjax($.extend({},defaults,options));event.preventDefault()}function pjax(options){options=$.extend(true,{},$.ajaxSettings,pjax.defaults,options);if($.isFunction(options.url)){options.url=options.url()}var target=options.target;var hash=parseURL(options.url).hash;var context=options.context=findContainerFor(options.container);if(!options.data){options.data={}}options.data._pjax=context.selector;function fire(type,args){var event=$.Event(type,{relatedTarget:target});context.trigger(event,args);return !event.isDefaultPrevented()}var timeoutTimer;options.beforeSend=function(xhr,settings){if(settings.type!=="GET"){settings.timeout=0}xhr.setRequestHeader("X-PJAX","true");xhr.setRequestHeader("X-PJAX-Container",context.selector);if(!fire("pjax:beforeSend",[xhr,settings])){return false}if(settings.timeout>0){timeoutTimer=setTimeout(function(){if(fire("pjax:timeout",[xhr,options])){xhr.abort("timeout")}},settings.timeout);settings.timeout=0}options.requestUrl=parseURL(settings.url).href};options.complete=function(xhr,textStatus){if(timeoutTimer){clearTimeout(timeoutTimer)}fire("pjax:complete",[xhr,textStatus,options]);fire("pjax:end",[xhr,options])};options.error=function(xhr,textStatus,errorThrown){var container=extractContainer("",xhr,options);var allowed=fire("pjax:error",[xhr,textStatus,errorThrown,options]);if(options.type=="GET"&&textStatus!=="abort"&&allowed){locationReplace(container.url)}};options.success=function(data,status,xhr){var currentVersion=(typeof $.pjax.defaults.version==="function")?$.pjax.defaults.version():$.pjax.defaults.version;var latestVersion=xhr.getResponseHeader("X-PJAX-Version");var container=extractContainer(data,xhr,options);if(currentVersion&&latestVersion&&currentVersion!==latestVersion){locationReplace(container.url);return}if(!container.contents){locationReplace(container.url);return}pjax.state={id:options.id||uniqueId(),url:container.url,title:container.title,container:context.selector,fragment:options.fragment,timeout:options.timeout};if(options.push||options.replace){window.history.replaceState(pjax.state,container.title,container.url)}if(container.title){document.title=container.title}context.html(container.contents);executeScriptTags(container.scripts);if(typeof options.scrollTo==="number"){$(window).scrollTop(options.scrollTo)}if(hash!==""){var url=parseURL(container.url);url.hash=hash;pjax.state.url=url.href;window.history.replaceState(pjax.state,container.title,url.href);var target=$(url.hash);if(target.length){$(window).scrollTop(target.offset().top)}}fire("pjax:success",[data,status,xhr,options])};if(!pjax.state){pjax.state={id:uniqueId(),url:window.location.href,title:document.title,container:context.selector,fragment:options.fragment,timeout:options.timeout};if(options.push||options.replace){window.history.replaceState(pjax.state,document.title)}}var xhr=pjax.xhr;if(xhr&&xhr.readyState<4){xhr.onreadystatechange=$.noop;xhr.abort()}pjax.options=options;var xhr=pjax.xhr=$.ajax(options);if(xhr.readyState>0){if(options.push&&!options.replace){cachePush(pjax.state.id,context.clone().contents());window.history.pushState(null,"",stripPjaxParam(options.requestUrl))}fire("pjax:start",[xhr,options]);fire("pjax:send",[xhr,options])}return pjax.xhr}function pjaxReload(container,options){var defaults={url:window.location.href,push:false,replace:true,scrollTo:false};return pjax($.extend(defaults,optionsFor(container,options)))}function locationReplace(url){window.history.replaceState(null,"","#");window.location.replace(url)}var initialPop=true;var initialURL=window.location.href;var initialState=window.history.state;if(initialState&&initialState.container){pjax.state=initialState}if("state" in window.history){initialPop=false}function onPjaxPopstate(event){var state=event.state;if(state&&state.container){if(initialPop&&initialURL==state.url){return}var container=$(state.container);if(container.length){var direction,contents=cacheMapping[state.id];if(pjax.state){direction=pjax.state.id<state.id?"forward":"back";cachePop(direction,pjax.state.id,container.clone().contents())}var popstateEvent=$.Event("pjax:popstate",{state:state,direction:direction});container.trigger(popstateEvent);var options={id:state.id,url:state.url,container:container,push:false,fragment:state.fragment,timeout:state.timeout,scrollTo:false};if(contents){container.trigger("pjax:start",[null,options]);if(state.title){document.title=state.title}container.html(contents);pjax.state=state;container.trigger("pjax:end",[null,options])}else{pjax(options)}container[0].offsetHeight}else{locationReplace(location.href)}}initialPop=false}function fallbackPjax(options){var url=$.isFunction(options.url)?options.url():options.url,method=options.type?options.type.toUpperCase():"GET";var form=$("<form>",{method:method==="GET"?"GET":"POST",action:url,style:"display:none"});if(method!=="GET"&&method!=="POST"){form.append($("<input>",{type:"hidden",name:"_method",value:method.toLowerCase()}))}var data=options.data;if(typeof data==="string"){$.each(data.split("&"),function(index,value){var pair=value.split("=");form.append($("<input>",{type:"hidden",name:pair[0],value:pair[1]}))})}else{if(typeof data==="object"){for(key in data){form.append($("<input>",{type:"hidden",name:key,value:data[key]}))}}}$(document.body).append(form);form.submit()}function uniqueId(){return(new Date).getTime()}function stripPjaxParam(url){return url.replace(/\?_pjax=[^&]+&?/,"?").replace(/_pjax=[^&]+&?/,"").replace(/[\?&]$/,"")}function parseURL(url){var a=document.createElement("a");a.href=url;return a}function optionsFor(container,options){if(container&&options){options.container=container}else{if($.isPlainObject(container)){options=container}else{options={container:container}}}if(options.container){options.container=findContainerFor(options.container)}return options}function findContainerFor(container){container=$(container);if(!container.length){throw"no pjax container for "+container.selector}else{if(container.selector!==""&&container.context===document){return container}else{if(container.attr("id")){return $("#"+container.attr("id"))}else{throw"cant get selector for pjax container!"}}}}function findAll(elems,selector){return elems.filter(selector).add(elems.find(selector))}function parseHTML(html){return $.parseHTML(html,document,true)}function extractContainer(data,xhr,options){var obj={};obj.url=stripPjaxParam(xhr.getResponseHeader("X-PJAX-URL")||options.requestUrl);if(/<html/i.test(data)){var $head=$(parseHTML(data.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0]));var $body=$(parseHTML(data.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]))}else{var $head=$body=$(parseHTML(data))}if($body.length===0){return obj}obj.title=findAll($head,"title").last().text();if(options.fragment){if(options.fragment==="body"){var $fragment=$body}else{var $fragment=findAll($body,options.fragment).first()}if($fragment.length){obj.contents=$fragment.contents();if(!obj.title){obj.title=$fragment.attr("title")||$fragment.data("title")}}}else{if(!/<html/i.test(data)){obj.contents=$body}}if(obj.contents){obj.contents=obj.contents.not(function(){return $(this).is("title")});obj.contents.find("title").remove();obj.scripts=findAll(obj.contents,"script[src]").remove();obj.contents=obj.contents.not(obj.scripts)}if(obj.title){obj.title=$.trim(obj.title)}return obj}function executeScriptTags(scripts){if(!scripts){return}var existingScripts=$("script[src]");scripts.each(function(){var src=this.src;var matchedScripts=existingScripts.filter(function(){return this.src===src});if(matchedScripts.length){return}var script=document.createElement("script");script.type=$(this).attr("type");script.src=$(this).attr("src");document.head.appendChild(script)})}var cacheMapping={};var cacheForwardStack=[];var cacheBackStack=[];function cachePush(id,value){cacheMapping[id]=value;cacheBackStack.push(id);while(cacheForwardStack.length){delete cacheMapping[cacheForwardStack.shift()]}while(cacheBackStack.length>pjax.defaults.maxCacheLength){delete cacheMapping[cacheBackStack.shift()]}}function cachePop(direction,id,value){var pushStack,popStack;cacheMapping[id]=value;if(direction==="forward"){pushStack=cacheBackStack;popStack=cacheForwardStack}else{pushStack=cacheForwardStack;popStack=cacheBackStack}pushStack.push(id);if(id=popStack.pop()){delete cacheMapping[id]}}function findVersion(){return $("meta").filter(function(){var name=$(this).attr("http-equiv");return name&&name.toUpperCase()==="X-PJAX-VERSION"}).attr("content")}function enable(){$.fn.pjax=fnPjax;$.pjax=pjax;$.pjax.enable=$.noop;$.pjax.disable=disable;$.pjax.click=handleClick;$.pjax.submit=handleSubmit;$.pjax.reload=pjaxReload;$.pjax.defaults={timeout:650,push:true,replace:false,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:findVersion};$(window).on("popstate.pjax",onPjaxPopstate)}function disable(){$.fn.pjax=function(){return this};$.pjax=fallbackPjax;$.pjax.enable=enable;$.pjax.disable=$.noop;$.pjax.click=$.noop;$.pjax.submit=$.noop;$.pjax.reload=function(){window.location.reload()};$(window).off("popstate.pjax",onPjaxPopstate)}if($.inArray("state",$.event.props)<0){$.event.props.push("state")}$.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]|WebApps\/.+CFNetwork)/);$.support.pjax?enable():disable()})(jQuery);(function(){$(function(){var ensureNoPjaxLinksWorkInPagePreviews,pjaxBeforeSend,pjaxEnd,pjaxSelectorForLinksStartingWith,pjaxStart;pjaxSelectorForLinksStartingWith=function(urlPrefix){return'[data-pjax-container] a[href^="'+urlPrefix+"\"]:not(.no-pjax):not(.play):not([target]):not([href^='/files/'])"};if($(".sticky-content").length!==0){$(document).pjax(""+(pjaxSelectorForLinksStartingWith("/"))+", "+(pjaxSelectorForLinksStartingWith("./"))+", nav.mobile a:not(.no-pjax):not([target])",{timeout:20000,container:"[data-pjax-container]"})}ensureNoPjaxLinksWorkInPagePreviews=function(){if($("#navigation #action-link").length){return $("#main-nav a.no-pjax").each(function(){var currentLinkUrl;currentLinkUrl=$(this).attr("href");return $(this).attr("href",currentLinkUrl+"?preview_from_cp=1")})}};ensureNoPjaxLinksWorkInPagePreviews();pjaxEnd=function(xhr,options){var introTarget,isIntro,nonIntroTarget;ensureNoPjaxLinksWorkInPagePreviews();isIntro=$("#content.intro").length!==0;introTarget=isIntro?"screen":"void";nonIntroTarget=!isIntro?"screen":"void";$("link.intro:not([media="+introTarget+"])").attr("media",introTarget);$("link.non-intro:not([media="+nonIntroTarget+"])").attr("media",nonIntroTarget);$("form[data-validate=true]").validate();$("body").data("loaded-via-pjax",true);if(window.twttr&&window.twttr.widgets){$(".twitter_feed").each(function(){var $feed;$feed=$(this);$feed.find("iframe").remove();if(!$feed.find("a.twitter-timeline").length){return $feed.append($($feed.data("link-source")))}});twttr.widgets.load()}$("article:not(.display-swmp) .zoogle-music-player").removeClass("ready");return $.onload.run()};pjaxBeforeSend=function(xhr,options){return document.write=function(content){return true}};pjaxStart=function(xhr,options){return $(".slideshow").cycle("destroy")};$(document).on("pjax:end",pjaxEnd);$(document).on("pjax:beforeSend",pjaxBeforeSend);return $(document).on("pjax:start",pjaxStart)})}).call(this);(function(){var doTextFit,lastSize;lastSize=null;doTextFit=function(){var $el;$el=$("#page-title.text-fit span.outer");if($el.length){return $el.textFit(null,false,lastSize)}};$(document).on("pjax:beforeSend",function(){return lastSize=$("#page-title.text-fit span.outer").css("font-size")});$(document).on("pjax:complete",function(){return doTextFit()});$(doTextFit)}).call(this);(function(){$.scrollToContentTab=function(options){var opts;if(options==null){options={}}opts=$.extend({scrollTop:function(){return $(window).height()},duration:1000},options);return $("#scroll-to-content").on("click",function(){return $("html, body").animate({scrollTop:opts.scrollTop()},opts.duration)})}}).call(this);(function(){$.responsiveFullScreenPagePhoto=function(options){var opts,resizePagePhoto;if(options==null){options={}}opts=$.extend({pageTypeClass:"landing-page"},options);resizePagePhoto=function(){if($("#page-root").hasClass(opts.pageTypeClass)){return $("#page-header").css("height",window.screen.availHeight)}};if($("html").hasClass("no-cssvhunit")||Modernizr.ios){resizePagePhoto();return $(window).off("resize.responsiveFullScreenPagePhoto").on("resize.responsiveFullScreenPagePhoto",resizePagePhoto)}}}).call(this);(function(){$.fn.setAsLogoSizeTarget=function(){$(this).attr("data-logo-size-target","");return this}}).call(this);(function(){}).call(this);